var v0=Object.defineProperty;var y0=(t,e,r)=>e in t?v0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var le=(t,e,r)=>y0(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Af={exports:{}},ta={},$f={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),w0=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),_0=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),O0=Symbol.for("react.memo"),N0=Symbol.for("react.lazy"),fd=Symbol.iterator;function T0(t){return t===null||typeof t!="object"?null:(t=fd&&t[fd]||t["@@iterator"],typeof t=="function"?t:null)}var Mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ff=Object.assign,zf={};function us(t,e,r){this.props=t,this.context=e,this.refs=zf,this.updater=r||Mf}us.prototype.isReactComponent={};us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uf(){}Uf.prototype=us.prototype;function Zu(t,e,r){this.props=t,this.context=e,this.refs=zf,this.updater=r||Mf}var ec=Zu.prototype=new Uf;ec.constructor=Zu;Ff(ec,us.prototype);ec.isPureReactComponent=!0;var pd=Array.isArray,Bf=Object.prototype.hasOwnProperty,tc={current:null},Hf={key:!0,ref:!0,__self:!0,__source:!0};function Vf(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Bf.call(e,n)&&!Hf.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:bi,type:t,key:i,ref:o,props:s,_owner:tc.current}}function P0(t,e){return{$$typeof:bi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===bi}function L0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gd=/\/+/g;function Ga(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L0(""+t.key):e.toString(36)}function ao(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bi:case w0:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ga(o,0):n,pd(s)?(r="",t!=null&&(r=t.replace(gd,"$&/")+"/"),ao(s,e,r,"",function(c){return c})):s!=null&&(rc(s)&&(s=P0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gd,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",pd(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Ga(i,a);o+=ao(i,e,r,l,s)}else if(l=T0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Ga(i,a++),o+=ao(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ii(t,e,r){if(t==null)return t;var n=[],s=0;return ao(t,n,"","",function(i){return e.call(r,i,s++)}),n}function D0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},lo={transition:null},R0={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:lo,ReactCurrentOwner:tc};function Wf(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Ii,forEach:function(t,e,r){Ii(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ii(t,function(){e++}),e},toArray:function(t){return Ii(t,function(e){return e})||[]},only:function(t){if(!rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=us;q.Fragment=S0;q.Profiler=k0;q.PureComponent=Zu;q.StrictMode=_0;q.Suspense=E0;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R0;q.act=Wf;q.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ff({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Bf.call(e,l)&&!Hf.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:bi,type:t.type,key:s,ref:i,props:n,_owner:o}};q.createContext=function(t){return t={$$typeof:C0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b0,_context:t},t.Consumer=t};q.createElement=Vf;q.createFactory=function(t){var e=Vf.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:j0,render:t}};q.isValidElement=rc;q.lazy=function(t){return{$$typeof:N0,_payload:{_status:-1,_result:t},_init:D0}};q.memo=function(t,e){return{$$typeof:O0,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=lo.transition;lo.transition={};try{t()}finally{lo.transition=e}};q.unstable_act=Wf;q.useCallback=function(t,e){return Je.current.useCallback(t,e)};q.useContext=function(t){return Je.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};q.useEffect=function(t,e){return Je.current.useEffect(t,e)};q.useId=function(){return Je.current.useId()};q.useImperativeHandle=function(t,e,r){return Je.current.useImperativeHandle(t,e,r)};q.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Je.current.useMemo(t,e)};q.useReducer=function(t,e,r){return Je.current.useReducer(t,e,r)};q.useRef=function(t){return Je.current.useRef(t)};q.useState=function(t){return Je.current.useState(t)};q.useSyncExternalStore=function(t,e,r){return Je.current.useSyncExternalStore(t,e,r)};q.useTransition=function(){return Je.current.useTransition()};q.version="18.3.1";$f.exports=q;var b=$f.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=b,A0=Symbol.for("react.element"),$0=Symbol.for("react.fragment"),M0=Object.prototype.hasOwnProperty,F0=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z0={key:!0,ref:!0,__self:!0,__source:!0};function Kf(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)M0.call(e,n)&&!z0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:A0,type:t,key:i,ref:o,props:s,_owner:F0.current}}ta.Fragment=$0;ta.jsx=Kf;ta.jsxs=Kf;Af.exports=ta;var u=Af.exports,qf={exports:{}},gt={},Gf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,I){var M=L.length;L.push(I);e:for(;0<M;){var X=M-1>>>1,de=L[X];if(0<s(de,I))L[X]=I,L[M]=de,M=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var I=L[0],M=L.pop();if(M!==I){L[0]=M;e:for(var X=0,de=L.length,vt=de>>>1;X<vt;){var We=2*(X+1)-1,Ft=L[We],Ke=We+1,V=L[Ke];if(0>s(Ft,M))Ke<de&&0>s(V,Ft)?(L[X]=V,L[Ke]=M,X=Ke):(L[X]=Ft,L[We]=M,X=We);else if(Ke<de&&0>s(V,M))L[X]=V,L[Ke]=M,X=Ke;else break e}}return I}function s(L,I){var M=L.sortIndex-I.sortIndex;return M!==0?M:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=L)n(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(c)}}function w(L){if(x=!1,y(L),!m)if(r(l)!==null)m=!0,ye(E);else{var I=r(c);I!==null&&Se(w,I.startTime-L)}}function E(L,I){m=!1,x&&(x=!1,v(D),D=-1),p=!0;var M=h;try{for(y(I),f=r(l);f!==null&&(!(f.expirationTime>I)||L&&!se());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var de=X(f.expirationTime<=I);I=t.unstable_now(),typeof de=="function"?f.callback=de:f===r(l)&&n(l),y(I)}else n(l);f=r(l)}if(f!==null)var vt=!0;else{var We=r(c);We!==null&&Se(w,We.startTime-I),vt=!1}return vt}finally{f=null,h=M,p=!1}}var O=!1,T=null,D=-1,J=5,z=-1;function se(){return!(t.unstable_now()-z<J)}function ie(){if(T!==null){var L=t.unstable_now();z=L;var I=!0;try{I=T(!0,L)}finally{I?me():(O=!1,T=null)}}else O=!1}var me;if(typeof g=="function")me=function(){g(ie)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,we=be.port2;be.port1.onmessage=ie,me=function(){we.postMessage(null)}}else me=function(){S(ie,0)};function ye(L){T=L,O||(O=!0,me())}function Se(L,I){D=S(function(){L(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ye(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var M=h;h=I;try{return L()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=h;h=L;try{return I()}finally{h=M}},t.unstable_scheduleCallback=function(L,I,M){var X=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?X+M:X):M=X,L){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,L={id:d++,callback:I,priorityLevel:L,startTime:M,expirationTime:de,sortIndex:-1},M>X?(L.sortIndex=M,e(c,L),r(l)===null&&L===r(c)&&(x?(v(D),D=-1):x=!0,Se(w,M-X))):(L.sortIndex=de,e(l,L),m||p||(m=!0,ye(E))),L},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(L){var I=h;return function(){var M=h;h=I;try{return L.apply(this,arguments)}finally{h=M}}}})(Qf);Gf.exports=Qf;var U0=Gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=b,pt=U0;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jf=new Set,ri={};function hn(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(ri[t]=e,t=0;t<e.length;t++)Jf.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,H0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,md={},vd={};function V0(t){return Bl.call(vd,t)?!0:Bl.call(md,t)?!1:H0.test(t)?vd[t]=!0:(md[t]=!0,!1)}function W0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K0(t,e,r,n){if(e===null||typeof e>"u"||W0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var nc=/[\-:]([a-z])/g;function sc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nc,sc);Ae[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nc,sc);Ae[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nc,sc);Ae[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function ic(t,e,r,n){var s=Ae.hasOwnProperty(e)?Ae[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K0(e,r,s,n)&&(r=null),n||s===null?V0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ar=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),oc=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),Zf=Symbol.for("react.offscreen"),yd=Symbol.iterator;function Ss(t){return t===null||typeof t!="object"?null:(t=yd&&t[yd]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Qa;function Is(t){if(Qa===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qa=e&&e[1]||""}return`
`+Qa+t}var Ja=!1;function Ya(t,e){if(!t||Ja)return"";Ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ja=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Is(t):""}function q0(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=Ya(t.type,!1),t;case 11:return t=Ya(t.type.render,!1),t;case 1:return t=Ya(t.type,!0),t;default:return""}}function Kl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rn:return"Fragment";case Dn:return"Portal";case Hl:return"Profiler";case oc:return"StrictMode";case Vl:return"Suspense";case Wl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xf:return(t.displayName||"Context")+".Consumer";case Yf:return(t._context.displayName||"Context")+".Provider";case ac:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lc:return e=t.displayName||null,e!==null?e:Kl(t.type)||"Memo";case mr:e=t._payload,t=t._init;try{return Kl(t(e))}catch{}}return null}function G0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(e);case 8:return e===oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ep(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q0(t){var e=ep(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $i(t){t._valueTracker||(t._valueTracker=Q0(t))}function tp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ep(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ql(t,e){var r=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xd(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rp(t,e){e=e.checked,e!=null&&ic(t,"checked",e,!1)}function Gl(t,e){rp(t,e);var r=Rr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ql(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ql(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ql(t,e,r){(e!=="number"||bo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var As=Array.isArray;function Wn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sd(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(P(92));if(As(r)){if(1<r.length)throw Error(P(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rr(r)}}function np(t,e){var r=Rr(e.value),n=Rr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function _d(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mi,ip=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ni(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J0=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){J0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function op(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function ap(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=op(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Y0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(t,e){if(e){if(Y0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Zl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tu=null,Kn=null,qn=null;function kd(t){if(t=Ei(t)){if(typeof tu!="function")throw Error(P(280));var e=t.stateNode;e&&(e=oa(e),tu(t.stateNode,t.type,e))}}function lp(t){Kn?qn?qn.push(t):qn=[t]:Kn=t}function up(){if(Kn){var t=Kn,e=qn;if(qn=Kn=null,kd(t),e)for(t=0;t<e.length;t++)kd(e[t])}}function cp(t,e){return t(e)}function dp(){}var Xa=!1;function hp(t,e,r){if(Xa)return t(e,r);Xa=!0;try{return cp(t,e,r)}finally{Xa=!1,(Kn!==null||qn!==null)&&(dp(),up())}}function si(t,e){var r=t.stateNode;if(r===null)return null;var n=oa(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(P(231,e,typeof r));return r}var ru=!1;if(nr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){ru=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{ru=!1}function X0(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Bs=!1,Co=null,jo=!1,nu=null,Z0={onError:function(t){Bs=!0,Co=t}};function ev(t,e,r,n,s,i,o,a,l){Bs=!1,Co=null,X0.apply(Z0,arguments)}function tv(t,e,r,n,s,i,o,a,l){if(ev.apply(this,arguments),Bs){if(Bs){var c=Co;Bs=!1,Co=null}else throw Error(P(198));jo||(jo=!0,nu=c)}}function fn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function fp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bd(t){if(fn(t)!==t)throw Error(P(188))}function rv(t){var e=t.alternate;if(!e){if(e=fn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bd(s),t;if(i===n)return bd(s),e;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?t:e}function pp(t){return t=rv(t),t!==null?gp(t):null}function gp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gp(t);if(e!==null)return e;t=t.sibling}return null}var mp=pt.unstable_scheduleCallback,Cd=pt.unstable_cancelCallback,nv=pt.unstable_shouldYield,sv=pt.unstable_requestPaint,xe=pt.unstable_now,iv=pt.unstable_getCurrentPriorityLevel,cc=pt.unstable_ImmediatePriority,vp=pt.unstable_UserBlockingPriority,Eo=pt.unstable_NormalPriority,ov=pt.unstable_LowPriority,yp=pt.unstable_IdlePriority,ra=null,qt=null;function av(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ra,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:cv,lv=Math.log,uv=Math.LN2;function cv(t){return t>>>=0,t===0?32:31-(lv(t)/uv|0)|0}var Fi=64,zi=4194304;function $s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=$s(a):(i&=o,i!==0&&(n=$s(i)))}else o=r&~s,o!==0?n=$s(o):i!==0&&(n=$s(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-At(e),s=1<<r,n|=t[r],e&=~s;return n}function dv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-At(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=dv(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xp(){var t=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),t}function Za(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ci(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=r}function fv(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-At(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function dc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-At(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ne=0;function wp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sp,hc,_p,kp,bp,iu=!1,Ui=[],Cr=null,jr=null,Er=null,ii=new Map,oi=new Map,wr=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jd(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":ii.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(e.pointerId)}}function ks(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ei(e),e!==null&&hc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gv(t,e,r,n,s){switch(e){case"focusin":return Cr=ks(Cr,t,e,r,n,s),!0;case"dragenter":return jr=ks(jr,t,e,r,n,s),!0;case"mouseover":return Er=ks(Er,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ii.set(i,ks(ii.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,oi.set(i,ks(oi.get(i)||null,t,e,r,n,s)),!0}return!1}function Cp(t){var e=Yr(t.target);if(e!==null){var r=fn(e);if(r!==null){if(e=r.tag,e===13){if(e=fp(r),e!==null){t.blockedOn=e,bp(t.priority,function(){_p(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ou(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);eu=n,r.target.dispatchEvent(n),eu=null}else return e=Ei(r),e!==null&&hc(e),t.blockedOn=r,!1;e.shift()}return!0}function Ed(t,e,r){uo(t)&&r.delete(e)}function mv(){iu=!1,Cr!==null&&uo(Cr)&&(Cr=null),jr!==null&&uo(jr)&&(jr=null),Er!==null&&uo(Er)&&(Er=null),ii.forEach(Ed),oi.forEach(Ed)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,iu||(iu=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,mv)))}function ai(t){function e(s){return bs(s,t)}if(0<Ui.length){bs(Ui[0],t);for(var r=1;r<Ui.length;r++){var n=Ui[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Cr!==null&&bs(Cr,t),jr!==null&&bs(jr,t),Er!==null&&bs(Er,t),ii.forEach(e),oi.forEach(e),r=0;r<wr.length;r++)n=wr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)Cp(r),r.blockedOn===null&&wr.shift()}var Gn=ar.ReactCurrentBatchConfig,No=!0;function vv(t,e,r,n){var s=ne,i=Gn.transition;Gn.transition=null;try{ne=1,fc(t,e,r,n)}finally{ne=s,Gn.transition=i}}function yv(t,e,r,n){var s=ne,i=Gn.transition;Gn.transition=null;try{ne=4,fc(t,e,r,n)}finally{ne=s,Gn.transition=i}}function fc(t,e,r,n){if(No){var s=ou(t,e,r,n);if(s===null)ul(t,e,n,To,r),jd(t,n);else if(gv(s,t,e,r,n))n.stopPropagation();else if(jd(t,n),e&4&&-1<pv.indexOf(t)){for(;s!==null;){var i=Ei(s);if(i!==null&&Sp(i),i=ou(t,e,r,n),i===null&&ul(t,e,n,To,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ul(t,e,n,null,r)}}var To=null;function ou(t,e,r,n){if(To=null,t=uc(n),t=Yr(t),t!==null)if(e=fn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=fp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return To=t,null}function jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case cc:return 1;case vp:return 4;case Eo:case ov:return 16;case yp:return 536870912;default:return 16}default:return 16}}var kr=null,pc=null,co=null;function Ep(){if(co)return co;var t,e=pc,r=e.length,n,s="value"in kr?kr.value:kr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return co=s.slice(t,1<n?1-n:void 0)}function ho(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Od(){return!1}function mt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bi:Od,this.isPropagationStopped=Od,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),e}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=mt(cs),ji=ge({},cs,{view:0,detail:0}),xv=mt(ji),el,tl,Cs,na=ge({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cs&&(Cs&&t.type==="mousemove"?(el=t.screenX-Cs.screenX,tl=t.screenY-Cs.screenY):tl=el=0,Cs=t),el)},movementY:function(t){return"movementY"in t?t.movementY:tl}}),Nd=mt(na),wv=ge({},na,{dataTransfer:0}),Sv=mt(wv),_v=ge({},ji,{relatedTarget:0}),rl=mt(_v),kv=ge({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=mt(kv),Cv=ge({},cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jv=mt(Cv),Ev=ge({},cs,{data:0}),Td=mt(Ev),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tv[t])?!!e[t]:!1}function mc(){return Pv}var Lv=ge({},ji,{key:function(t){if(t.key){var e=Ov[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(t){return t.type==="keypress"?ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dv=mt(Lv),Rv=ge({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=mt(Rv),Iv=ge({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),Av=mt(Iv),$v=ge({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=mt($v),Fv=ge({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zv=mt(Fv),Uv=[9,13,27,32],vc=nr&&"CompositionEvent"in window,Hs=null;nr&&"documentMode"in document&&(Hs=document.documentMode);var Bv=nr&&"TextEvent"in window&&!Hs,Op=nr&&(!vc||Hs&&8<Hs&&11>=Hs),Ld=" ",Dd=!1;function Np(t,e){switch(t){case"keyup":return Uv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var In=!1;function Hv(t,e){switch(t){case"compositionend":return Tp(e);case"keypress":return e.which!==32?null:(Dd=!0,Ld);case"textInput":return t=e.data,t===Ld&&Dd?null:t;default:return null}}function Vv(t,e){if(In)return t==="compositionend"||!vc&&Np(t,e)?(t=Ep(),co=pc=kr=null,In=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Op&&e.locale!=="ko"?null:e.data;default:return null}}var Wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wv[t.type]:e==="textarea"}function Pp(t,e,r,n){lp(n),e=Po(e,"onChange"),0<e.length&&(r=new gc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vs=null,li=null;function Kv(t){Bp(t,0)}function sa(t){var e=Mn(t);if(tp(e))return t}function qv(t,e){if(t==="change")return e}var Lp=!1;if(nr){var nl;if(nr){var sl="oninput"in document;if(!sl){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),sl=typeof Id.oninput=="function"}nl=sl}else nl=!1;Lp=nl&&(!document.documentMode||9<document.documentMode)}function Ad(){Vs&&(Vs.detachEvent("onpropertychange",Dp),li=Vs=null)}function Dp(t){if(t.propertyName==="value"&&sa(li)){var e=[];Pp(e,li,t,uc(t)),hp(Kv,e)}}function Gv(t,e,r){t==="focusin"?(Ad(),Vs=e,li=r,Vs.attachEvent("onpropertychange",Dp)):t==="focusout"&&Ad()}function Qv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sa(li)}function Jv(t,e){if(t==="click")return sa(e)}function Yv(t,e){if(t==="input"||t==="change")return sa(e)}function Xv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:Xv;function ui(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bl.call(e,s)||!Mt(t[s],e[s]))return!1}return!0}function $d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,e){var r=$d(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$d(r)}}function Rp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ip(){for(var t=window,e=bo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=bo(t.document)}return e}function yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zv(t){var e=Ip(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Rp(r.ownerDocument.documentElement,r)){if(n!==null&&yc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Md(r,i);var o=Md(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e1=nr&&"documentMode"in document&&11>=document.documentMode,An=null,au=null,Ws=null,lu=!1;function Fd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lu||An==null||An!==bo(n)||(n=An,"selectionStart"in n&&yc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ws&&ui(Ws,n)||(Ws=n,n=Po(au,"onSelect"),0<n.length&&(e=new gc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=An)))}function Hi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $n={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},il={},Ap={};nr&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function ia(t){if(il[t])return il[t];if(!$n[t])return t;var e=$n[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Ap)return il[t]=e[r];return t}var $p=ia("animationend"),Mp=ia("animationiteration"),Fp=ia("animationstart"),zp=ia("transitionend"),Up=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){Up.set(t,e),hn(e,[t])}for(var ol=0;ol<zd.length;ol++){var al=zd[ol],t1=al.toLowerCase(),r1=al[0].toUpperCase()+al.slice(1);$r(t1,"on"+r1)}$r($p,"onAnimationEnd");$r(Mp,"onAnimationIteration");$r(Fp,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(zp,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function Ud(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tv(n,e,void 0,t),t.currentTarget=null}function Bp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ud(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ud(s,a,c),i=l}}}if(jo)throw t=nu,jo=!1,nu=null,t}function ue(t,e){var r=e[fu];r===void 0&&(r=e[fu]=new Set);var n=t+"__bubble";r.has(n)||(Hp(e,t,2,!1),r.add(n))}function ll(t,e,r){var n=0;e&&(n|=4),Hp(r,t,n,e)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ci(t){if(!t[Vi]){t[Vi]=!0,Jf.forEach(function(r){r!=="selectionchange"&&(n1.has(r)||ll(r,!1,t),ll(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vi]||(e[Vi]=!0,ll("selectionchange",!1,e))}}function Hp(t,e,r,n){switch(jp(e)){case 1:var s=vv;break;case 4:s=yv;break;default:s=fc}r=s.bind(null,e,r,t),s=void 0,!ru||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ul(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}hp(function(){var c=i,d=uc(r),f=[];e:{var h=Up.get(t);if(h!==void 0){var p=gc,m=t;switch(t){case"keypress":if(ho(r)===0)break e;case"keydown":case"keyup":p=Dv;break;case"focusin":m="focus",p=rl;break;case"focusout":m="blur",p=rl;break;case"beforeblur":case"afterblur":p=rl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Av;break;case $p:case Mp:case Fp:p=bv;break;case zp:p=Mv;break;case"scroll":p=xv;break;case"wheel":p=zv;break;case"copy":case"cut":case"paste":p=jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pd}var x=(e&4)!==0,S=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,v!==null&&(w=si(g,v),w!=null&&x.push(di(g,w,y)))),S)break;g=g.return}0<x.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==eu&&(m=r.relatedTarget||r.fromElement)&&(Yr(m)||m[sr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Yr(m):null,m!==null&&(S=fn(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(x=Nd,w="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=Pd,w="onPointerLeave",v="onPointerEnter",g="pointer"),S=p==null?h:Mn(p),y=m==null?h:Mn(m),h=new x(w,g+"leave",p,r,d),h.target=S,h.relatedTarget=y,w=null,Yr(d)===c&&(x=new x(v,g+"enter",m,r,d),x.target=y,x.relatedTarget=S,w=x),S=w,p&&m)t:{for(x=p,v=m,g=0,y=x;y;y=bn(y))g++;for(y=0,w=v;w;w=bn(w))y++;for(;0<g-y;)x=bn(x),g--;for(;0<y-g;)v=bn(v),y--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=bn(x),v=bn(v)}x=null}else x=null;p!==null&&Bd(f,h,p,x,!1),m!==null&&S!==null&&Bd(f,S,m,x,!0)}}e:{if(h=c?Mn(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=qv;else if(Rd(h))if(Lp)E=Yv;else{E=Qv;var O=Gv}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Jv);if(E&&(E=E(t,c))){Pp(f,E,r,d);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Ql(h,"number",h.value)}switch(O=c?Mn(c):window,t){case"focusin":(Rd(O)||O.contentEditable==="true")&&(An=O,au=c,Ws=null);break;case"focusout":Ws=au=An=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,Fd(f,r,d);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Fd(f,r,d)}var T;if(vc)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else In?Np(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Op&&r.locale!=="ko"&&(In||D!=="onCompositionStart"?D==="onCompositionEnd"&&In&&(T=Ep()):(kr=d,pc="value"in kr?kr.value:kr.textContent,In=!0)),O=Po(c,D),0<O.length&&(D=new Td(D,t,null,r,d),f.push({event:D,listeners:O}),T?D.data=T:(T=Tp(r),T!==null&&(D.data=T)))),(T=Bv?Hv(t,r):Vv(t,r))&&(c=Po(c,"onBeforeInput"),0<c.length&&(d=new Td("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=T))}Bp(f,e)})}function di(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Po(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=si(t,r),i!=null&&n.unshift(di(t,i,s)),i=si(t,e),i!=null&&n.push(di(t,i,s))),t=t.return}return n}function bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bd(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=si(r,i),l!=null&&o.unshift(di(r,l,a))):s||(l=si(r,i),l!=null&&o.push(di(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var s1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Hd(t){return(typeof t=="string"?t:""+t).replace(s1,`
`).replace(i1,"")}function Wi(t,e,r){if(e=Hd(e),Hd(t)!==e&&r)throw Error(P(425))}function Lo(){}var uu=null,cu=null;function du(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,a1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(t){return Vd.resolve(null).then(t).catch(l1)}:hu;function l1(t){setTimeout(function(){throw t})}function cl(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ai(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ai(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ds,hi="__reactProps$"+ds,sr="__reactContainer$"+ds,fu="__reactEvents$"+ds,u1="__reactListeners$"+ds,c1="__reactHandles$"+ds;function Yr(t){var e=t[Wt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sr]||r[Wt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Wd(t);t!==null;){if(r=t[Wt])return r;t=Wd(t)}return e}t=r,r=t.parentNode}return null}function Ei(t){return t=t[Wt]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function oa(t){return t[hi]||null}var pu=[],Fn=-1;function Mr(t){return{current:t}}function ce(t){0>Fn||(t.current=pu[Fn],pu[Fn]=null,Fn--)}function ae(t,e){Fn++,pu[Fn]=t.current,t.current=e}var Ir={},He=Mr(Ir),st=Mr(!1),sn=Ir;function Zn(t,e){var r=t.type.contextTypes;if(!r)return Ir;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function it(t){return t=t.childContextTypes,t!=null}function Do(){ce(st),ce(He)}function Kd(t,e,r){if(He.current!==Ir)throw Error(P(168));ae(He,e),ae(st,r)}function Vp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(P(108,G0(t)||"Unknown",s));return ge({},r,n)}function Ro(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,sn=He.current,ae(He,t),ae(st,st.current),!0}function qd(t,e,r){var n=t.stateNode;if(!n)throw Error(P(169));r?(t=Vp(t,e,sn),n.__reactInternalMemoizedMergedChildContext=t,ce(st),ce(He),ae(He,t)):ce(st),ae(st,r)}var Xt=null,aa=!1,dl=!1;function Wp(t){Xt===null?Xt=[t]:Xt.push(t)}function d1(t){aa=!0,Wp(t)}function Fr(){if(!dl&&Xt!==null){dl=!0;var t=0,e=ne;try{var r=Xt;for(ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Xt=null,aa=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(t+1)),mp(cc,Fr),s}finally{ne=e,dl=!1}}return null}var zn=[],Un=0,Io=null,Ao=0,wt=[],St=0,on=null,Zt=1,er="";function qr(t,e){zn[Un++]=Ao,zn[Un++]=Io,Io=t,Ao=e}function Kp(t,e,r){wt[St++]=Zt,wt[St++]=er,wt[St++]=on,on=t;var n=Zt;t=er;var s=32-At(n)-1;n&=~(1<<s),r+=1;var i=32-At(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Zt=1<<32-At(e)+s|r<<s|n,er=i+t}else Zt=1<<i|r<<s|n,er=t}function xc(t){t.return!==null&&(qr(t,1),Kp(t,1,0))}function wc(t){for(;t===Io;)Io=zn[--Un],zn[Un]=null,Ao=zn[--Un],zn[Un]=null;for(;t===on;)on=wt[--St],wt[St]=null,er=wt[--St],wt[St]=null,Zt=wt[--St],wt[St]=null}var ft=null,ht=null,he=!1,It=null;function qp(t,e){var r=kt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Gd(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,ht=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=on!==null?{id:Zt,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ft=t,ht=null,!0):!1;default:return!1}}function gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mu(t){if(he){var e=ht;if(e){var r=e;if(!Gd(t,e)){if(gu(t))throw Error(P(418));e=Or(r.nextSibling);var n=ft;e&&Gd(t,e)?qp(n,r):(t.flags=t.flags&-4097|2,he=!1,ft=t)}}else{if(gu(t))throw Error(P(418));t.flags=t.flags&-4097|2,he=!1,ft=t}}}function Qd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Ki(t){if(t!==ft)return!1;if(!he)return Qd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!du(t.type,t.memoizedProps)),e&&(e=ht)){if(gu(t))throw Gp(),Error(P(418));for(;e;)qp(t,e),e=Or(e.nextSibling)}if(Qd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ht=Or(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=ft?Or(t.stateNode.nextSibling):null;return!0}function Gp(){for(var t=ht;t;)t=Or(t.nextSibling)}function es(){ht=ft=null,he=!1}function Sc(t){It===null?It=[t]:It.push(t)}var h1=ar.ReactCurrentBatchConfig;function js(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,t))}return t}function qi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jd(t){var e=t._init;return e(t._payload)}function Qp(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Lr(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,w){return g===null||g.tag!==6?(g=yl(y,v.mode,w),g.return=v,g):(g=s(g,y),g.return=v,g)}function l(v,g,y,w){var E=y.type;return E===Rn?d(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===mr&&Jd(E)===g.type)?(w=s(g,y.props),w.ref=js(v,g,y),w.return=v,w):(w=xo(y.type,y.key,y.props,null,v.mode,w),w.ref=js(v,g,y),w.return=v,w)}function c(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=xl(y,v.mode,w),g.return=v,g):(g=s(g,y.children||[]),g.return=v,g)}function d(v,g,y,w,E){return g===null||g.tag!==7?(g=tn(y,v.mode,w,E),g.return=v,g):(g=s(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=yl(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ai:return y=xo(g.type,g.key,g.props,null,v.mode,y),y.ref=js(v,null,g),y.return=v,y;case Dn:return g=xl(g,v.mode,y),g.return=v,g;case mr:var w=g._init;return f(v,w(g._payload),y)}if(As(g)||Ss(g))return g=tn(g,v.mode,y,null),g.return=v,g;qi(v,g)}return null}function h(v,g,y,w){var E=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ai:return y.key===E?l(v,g,y,w):null;case Dn:return y.key===E?c(v,g,y,w):null;case mr:return E=y._init,h(v,g,E(y._payload),w)}if(As(y)||Ss(y))return E!==null?null:d(v,g,y,w,null);qi(v,y)}return null}function p(v,g,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(y)||null,a(g,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ai:return v=v.get(w.key===null?y:w.key)||null,l(g,v,w,E);case Dn:return v=v.get(w.key===null?y:w.key)||null,c(g,v,w,E);case mr:var O=w._init;return p(v,g,y,O(w._payload),E)}if(As(w)||Ss(w))return v=v.get(y)||null,d(g,v,w,E,null);qi(g,w)}return null}function m(v,g,y,w){for(var E=null,O=null,T=g,D=g=0,J=null;T!==null&&D<y.length;D++){T.index>D?(J=T,T=null):J=T.sibling;var z=h(v,T,y[D],w);if(z===null){T===null&&(T=J);break}t&&T&&z.alternate===null&&e(v,T),g=i(z,g,D),O===null?E=z:O.sibling=z,O=z,T=J}if(D===y.length)return r(v,T),he&&qr(v,D),E;if(T===null){for(;D<y.length;D++)T=f(v,y[D],w),T!==null&&(g=i(T,g,D),O===null?E=T:O.sibling=T,O=T);return he&&qr(v,D),E}for(T=n(v,T);D<y.length;D++)J=p(T,v,D,y[D],w),J!==null&&(t&&J.alternate!==null&&T.delete(J.key===null?D:J.key),g=i(J,g,D),O===null?E=J:O.sibling=J,O=J);return t&&T.forEach(function(se){return e(v,se)}),he&&qr(v,D),E}function x(v,g,y,w){var E=Ss(y);if(typeof E!="function")throw Error(P(150));if(y=E.call(y),y==null)throw Error(P(151));for(var O=E=null,T=g,D=g=0,J=null,z=y.next();T!==null&&!z.done;D++,z=y.next()){T.index>D?(J=T,T=null):J=T.sibling;var se=h(v,T,z.value,w);if(se===null){T===null&&(T=J);break}t&&T&&se.alternate===null&&e(v,T),g=i(se,g,D),O===null?E=se:O.sibling=se,O=se,T=J}if(z.done)return r(v,T),he&&qr(v,D),E;if(T===null){for(;!z.done;D++,z=y.next())z=f(v,z.value,w),z!==null&&(g=i(z,g,D),O===null?E=z:O.sibling=z,O=z);return he&&qr(v,D),E}for(T=n(v,T);!z.done;D++,z=y.next())z=p(T,v,D,z.value,w),z!==null&&(t&&z.alternate!==null&&T.delete(z.key===null?D:z.key),g=i(z,g,D),O===null?E=z:O.sibling=z,O=z);return t&&T.forEach(function(ie){return e(v,ie)}),he&&qr(v,D),E}function S(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===Rn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ai:e:{for(var E=y.key,O=g;O!==null;){if(O.key===E){if(E=y.type,E===Rn){if(O.tag===7){r(v,O.sibling),g=s(O,y.props.children),g.return=v,v=g;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===mr&&Jd(E)===O.type){r(v,O.sibling),g=s(O,y.props),g.ref=js(v,O,y),g.return=v,v=g;break e}r(v,O);break}else e(v,O);O=O.sibling}y.type===Rn?(g=tn(y.props.children,v.mode,w,y.key),g.return=v,v=g):(w=xo(y.type,y.key,y.props,null,v.mode,w),w.ref=js(v,g,y),w.return=v,v=w)}return o(v);case Dn:e:{for(O=y.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=s(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=xl(y,v.mode,w),g.return=v,v=g}return o(v);case mr:return O=y._init,S(v,g,O(y._payload),w)}if(As(y))return m(v,g,y,w);if(Ss(y))return x(v,g,y,w);qi(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,y),g.return=v,v=g):(r(v,g),g=yl(y,v.mode,w),g.return=v,v=g),o(v)):r(v,g)}return S}var ts=Qp(!0),Jp=Qp(!1),$o=Mr(null),Mo=null,Bn=null,_c=null;function kc(){_c=Bn=Mo=null}function bc(t){var e=$o.current;ce($o),t._currentValue=e}function vu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qn(t,e){Mo=t,_c=Bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function Ot(t){var e=t._currentValue;if(_c!==t)if(t={context:t,memoizedValue:e,next:null},Bn===null){if(Mo===null)throw Error(P(308));Bn=t,Mo.dependencies={lanes:0,firstContext:t}}else Bn=Bn.next=t;return e}var Xr=null;function Cc(t){Xr===null?Xr=[t]:Xr.push(t)}function Yp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Cc(e)):(r.next=s.next,s.next=r),e.interleaved=r,ir(t,n)}function ir(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var vr=!1;function jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ir(t,r)}return s=n.interleaved,s===null?(e.next=e,Cc(n)):(e.next=s.next,s.next=e),n.interleaved=e,ir(t,r)}function fo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dc(t,r)}}function Yd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fo(t,e,r,n){var s=t.updateQueue;vr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,x=a;switch(h=e,p=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ge({},f,h);break e;case 2:vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ln|=o,t.lanes=o,t.memoizedState=f}}function Xd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var Oi={},Gt=Mr(Oi),fi=Mr(Oi),pi=Mr(Oi);function Zr(t){if(t===Oi)throw Error(P(174));return t}function Ec(t,e){switch(ae(pi,e),ae(fi,t),ae(Gt,Oi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yl(e,t)}ce(Gt),ae(Gt,e)}function rs(){ce(Gt),ce(fi),ce(pi)}function Zp(t){Zr(pi.current);var e=Zr(Gt.current),r=Yl(e,t.type);e!==r&&(ae(fi,t),ae(Gt,r))}function Oc(t){fi.current===t&&(ce(Gt),ce(fi))}var fe=Mr(0);function zo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hl=[];function Nc(){for(var t=0;t<hl.length;t++)hl[t]._workInProgressVersionPrimary=null;hl.length=0}var po=ar.ReactCurrentDispatcher,fl=ar.ReactCurrentBatchConfig,an=0,pe=null,Ee=null,Le=null,Uo=!1,Ks=!1,gi=0,f1=0;function Me(){throw Error(P(321))}function Tc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mt(t[r],e[r]))return!1;return!0}function Pc(t,e,r,n,s,i){if(an=i,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,po.current=t===null||t.memoizedState===null?v1:y1,t=r(n,s),Ks){i=0;do{if(Ks=!1,gi=0,25<=i)throw Error(P(301));i+=1,Le=Ee=null,e.updateQueue=null,po.current=x1,t=r(n,s)}while(Ks)}if(po.current=Bo,e=Ee!==null&&Ee.next!==null,an=0,Le=Ee=pe=null,Uo=!1,e)throw Error(P(300));return t}function Lc(){var t=gi!==0;return gi=0,t}function Vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?pe.memoizedState=Le=t:Le=Le.next=t,Le}function Nt(){if(Ee===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Le===null?pe.memoizedState:Le.next;if(e!==null)Le=e,Ee=t;else{if(t===null)throw Error(P(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Le===null?pe.memoizedState=Le=t:Le=Le.next=t}return Le}function mi(t,e){return typeof e=="function"?e(t):e}function pl(t){var e=Nt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=Ee,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((an&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,pe.lanes|=d,ln|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Mt(n,e.memoizedState)||(nt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,pe.lanes|=i,ln|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gl(t){var e=Nt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Mt(i,e.memoizedState)||(nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function eg(){}function tg(t,e){var r=pe,n=Nt(),s=e(),i=!Mt(n.memoizedState,s);if(i&&(n.memoizedState=s,nt=!0),n=n.queue,Dc(sg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,vi(9,ng.bind(null,r,n,s,e),void 0,null),De===null)throw Error(P(349));an&30||rg(r,e,s)}return s}function rg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ng(t,e,r,n){e.value=r,e.getSnapshot=n,ig(e)&&og(t)}function sg(t,e,r){return r(function(){ig(e)&&og(t)})}function ig(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mt(t,r)}catch{return!0}}function og(t){var e=ir(t,1);e!==null&&$t(e,t,1,-1)}function Zd(t){var e=Vt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},e.queue=t,t=t.dispatch=m1.bind(null,pe,t),[e.memoizedState,t]}function vi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ag(){return Nt().memoizedState}function go(t,e,r,n){var s=Vt();pe.flags|=t,s.memoizedState=vi(1|e,r,void 0,n===void 0?null:n)}function la(t,e,r,n){var s=Nt();n=n===void 0?null:n;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,n!==null&&Tc(n,o.deps)){s.memoizedState=vi(e,r,i,n);return}}pe.flags|=t,s.memoizedState=vi(1|e,r,i,n)}function eh(t,e){return go(8390656,8,t,e)}function Dc(t,e){return la(2048,8,t,e)}function lg(t,e){return la(4,2,t,e)}function ug(t,e){return la(4,4,t,e)}function cg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dg(t,e,r){return r=r!=null?r.concat([t]):null,la(4,4,cg.bind(null,e,t),r)}function Rc(){}function hg(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Tc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function fg(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Tc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function pg(t,e,r){return an&21?(Mt(r,e)||(r=xp(),pe.lanes|=r,ln|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=r)}function p1(t,e){var r=ne;ne=r!==0&&4>r?r:4,t(!0);var n=fl.transition;fl.transition={};try{t(!1),e()}finally{ne=r,fl.transition=n}}function gg(){return Nt().memoizedState}function g1(t,e,r){var n=Pr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mg(t))vg(e,r);else if(r=Yp(t,e,r,n),r!==null){var s=Qe();$t(r,t,n,s),yg(r,e,n)}}function m1(t,e,r){var n=Pr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mg(t))vg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Mt(a,o)){var l=e.interleaved;l===null?(s.next=s,Cc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Yp(t,e,s,n),r!==null&&(s=Qe(),$t(r,t,n,s),yg(r,e,n))}}function mg(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function vg(t,e){Ks=Uo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function yg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dc(t,r)}}var Bo={readContext:Ot,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},v1={readContext:Ot,useCallback:function(t,e){return Vt().memoizedState=[t,e===void 0?null:e],t},useContext:Ot,useEffect:eh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,go(4194308,4,cg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return go(4194308,4,t,e)},useInsertionEffect:function(t,e){return go(4,2,t,e)},useMemo:function(t,e){var r=Vt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=g1.bind(null,pe,t),[n.memoizedState,t]},useRef:function(t){var e=Vt();return t={current:t},e.memoizedState=t},useState:Zd,useDebugValue:Rc,useDeferredValue:function(t){return Vt().memoizedState=t},useTransition:function(){var t=Zd(!1),e=t[0];return t=p1.bind(null,t[1]),Vt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=pe,s=Vt();if(he){if(r===void 0)throw Error(P(407));r=r()}else{if(r=e(),De===null)throw Error(P(349));an&30||rg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,eh(sg.bind(null,n,i,t),[t]),n.flags|=2048,vi(9,ng.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Vt(),e=De.identifierPrefix;if(he){var r=er,n=Zt;r=(n&~(1<<32-At(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=f1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y1={readContext:Ot,useCallback:hg,useContext:Ot,useEffect:Dc,useImperativeHandle:dg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:fg,useReducer:pl,useRef:ag,useState:function(){return pl(mi)},useDebugValue:Rc,useDeferredValue:function(t){var e=Nt();return pg(e,Ee.memoizedState,t)},useTransition:function(){var t=pl(mi)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:eg,useSyncExternalStore:tg,useId:gg,unstable_isNewReconciler:!1},x1={readContext:Ot,useCallback:hg,useContext:Ot,useEffect:Dc,useImperativeHandle:dg,useInsertionEffect:lg,useLayoutEffect:ug,useMemo:fg,useReducer:gl,useRef:ag,useState:function(){return gl(mi)},useDebugValue:Rc,useDeferredValue:function(t){var e=Nt();return Ee===null?e.memoizedState=t:pg(e,Ee.memoizedState,t)},useTransition:function(){var t=gl(mi)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:eg,useSyncExternalStore:tg,useId:gg,unstable_isNewReconciler:!1};function Lt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function yu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ge({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ua={isMounted:function(t){return(t=t._reactInternals)?fn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qe(),s=Pr(t),i=rr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Nr(t,i,s),e!==null&&($t(e,t,s,n),fo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qe(),s=Pr(t),i=rr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Nr(t,i,s),e!==null&&($t(e,t,s,n),fo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qe(),n=Pr(t),s=rr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Nr(t,s,n),e!==null&&($t(e,t,n,r),fo(e,t,n))}};function th(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ui(r,n)||!ui(s,i):!0}function xg(t,e,r){var n=!1,s=Ir,i=e.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(s=it(e)?sn:He.current,n=e.contextTypes,i=(n=n!=null)?Zn(t,s):Ir),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ua,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ua.enqueueReplaceState(e,e.state,null)}function xu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},jc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ot(i):(i=it(e)?sn:He.current,s.context=Zn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ua.enqueueReplaceState(s,s.state,null),Fo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ns(t,e){try{var r="",n=e;do r+=q0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ml(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var w1=typeof WeakMap=="function"?WeakMap:Map;function wg(t,e,r){r=rr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vo||(Vo=!0,Tu=n),wu(t,e)},r}function Sg(t,e,r){r=rr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){wu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wu(t,e),typeof n!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function nh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new w1;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=R1.bind(null,t,e,r),e.then(t,t))}function sh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ih(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=rr(-1,1),e.tag=2,Nr(r,e,1))),r.lanes|=1),t)}var S1=ar.ReactCurrentOwner,nt=!1;function Ge(t,e,r,n){e.child=t===null?Jp(e,null,r,n):ts(e,t.child,r,n)}function oh(t,e,r,n,s){r=r.render;var i=e.ref;return Qn(e,s),n=Pc(t,e,r,n,i,s),r=Lc(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,or(t,e,s)):(he&&r&&xc(e),e.flags|=1,Ge(t,e,n,s),e.child)}function ah(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Bc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,_g(t,e,i,n,s)):(t=xo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ui,r(o,n)&&t.ref===e.ref)return or(t,e,s)}return e.flags|=1,t=Lr(i,n),t.ref=e.ref,t.return=e,e.child=t}function _g(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ui(i,n)&&t.ref===e.ref)if(nt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,or(t,e,s)}return Su(t,e,r,n,s)}function kg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Vn,dt),dt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Vn,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ae(Vn,dt),dt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ae(Vn,dt),dt|=n;return Ge(t,e,s,r),e.child}function bg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Su(t,e,r,n,s){var i=it(r)?sn:He.current;return i=Zn(e,i),Qn(e,s),r=Pc(t,e,r,n,i,s),n=Lc(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,or(t,e,s)):(he&&n&&xc(e),e.flags|=1,Ge(t,e,r,s),e.child)}function lh(t,e,r,n,s){if(it(r)){var i=!0;Ro(e)}else i=!1;if(Qn(e,s),e.stateNode===null)mo(t,e),xg(e,r,n),xu(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ot(c):(c=it(r)?sn:He.current,c=Zn(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&rh(e,o,n,c),vr=!1;var h=e.memoizedState;o.state=h,Fo(e,n,o,s),l=e.memoizedState,a!==n||h!==l||st.current||vr?(typeof d=="function"&&(yu(e,r,d,n),l=e.memoizedState),(a=vr||th(e,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Xp(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lt(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ot(l):(l=it(r)?sn:He.current,l=Zn(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&rh(e,o,n,l),vr=!1,h=e.memoizedState,o.state=h,Fo(e,n,o,s);var m=e.memoizedState;a!==f||h!==m||st.current||vr?(typeof p=="function"&&(yu(e,r,p,n),m=e.memoizedState),(c=vr||th(e,r,c,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return _u(t,e,r,n,i,s)}function _u(t,e,r,n,s,i){bg(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&qd(e,r,!1),or(t,e,i);n=e.stateNode,S1.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ts(e,t.child,null,i),e.child=ts(e,null,a,i)):Ge(t,e,a,i),e.memoizedState=n.state,s&&qd(e,r,!0),e.child}function Cg(t){var e=t.stateNode;e.pendingContext?Kd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kd(t,e.context,!1),Ec(t,e.containerInfo)}function uh(t,e,r,n,s){return es(),Sc(s),e.flags|=256,Ge(t,e,r,n),e.child}var ku={dehydrated:null,treeContext:null,retryLane:0};function bu(t){return{baseLanes:t,cachePool:null,transitions:null}}function jg(t,e,r){var n=e.pendingProps,s=fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ae(fe,s&1),t===null)return mu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ha(o,n,0,null),t=tn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bu(r),e.memoizedState=ku,t):Ic(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _1(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Lr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Lr(a,i):(i=tn(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?bu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ku,n}return i=t.child,t=i.sibling,n=Lr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ic(t,e){return e=ha({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gi(t,e,r,n){return n!==null&&Sc(n),ts(e,t.child,null,r),t=Ic(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _1(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ml(Error(P(422))),Gi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ha({mode:"visible",children:n.children},s,0,null),i=tn(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ts(e,t.child,null,o),e.child.memoizedState=bu(o),e.memoizedState=ku,i);if(!(e.mode&1))return Gi(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=ml(i,n,void 0),Gi(t,e,o,n)}if(a=(o&t.childLanes)!==0,nt||a){if(n=De,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ir(t,s),$t(n,t,s,-1))}return Uc(),n=ml(Error(P(421))),Gi(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=I1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ht=Or(s.nextSibling),ft=e,he=!0,It=null,t!==null&&(wt[St++]=Zt,wt[St++]=er,wt[St++]=on,Zt=t.id,er=t.overflow,on=e),e=Ic(e,n.children),e.flags|=4096,e)}function ch(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vu(t.return,e,r)}function vl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Eg(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ge(t,e,n.children,r),n=fe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ch(t,r,e);else if(t.tag===19)ch(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ae(fe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&zo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),vl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}vl(e,!0,r,null,i);break;case"together":vl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ln|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,r=Lr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function k1(t,e,r){switch(e.tag){case 3:Cg(e),es();break;case 5:Zp(e);break;case 1:it(e.type)&&Ro(e);break;case 4:Ec(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ae($o,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ae(fe,fe.current&1),e.flags|=128,null):r&e.child.childLanes?jg(t,e,r):(ae(fe,fe.current&1),t=or(t,e,r),t!==null?t.sibling:null);ae(fe,fe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Eg(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(fe,fe.current),n)break;return null;case 22:case 23:return e.lanes=0,kg(t,e,r)}return or(t,e,r)}var Og,Cu,Ng,Tg;Og=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cu=function(){};Ng=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Zr(Gt.current);var i=null;switch(r){case"input":s=ql(t,s),n=ql(t,n),i=[];break;case"select":s=ge({},s,{value:void 0}),n=ge({},n,{value:void 0}),i=[];break;case"textarea":s=Jl(t,s),n=Jl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Lo)}Xl(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ri.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ri.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Tg=function(t,e,r,n){r!==n&&(e.flags|=4)};function Es(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function b1(t,e,r){var n=e.pendingProps;switch(wc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return it(e.type)&&Do(),Fe(e),null;case 3:return n=e.stateNode,rs(),ce(st),ce(He),Nc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ki(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(Du(It),It=null))),Cu(t,e),Fe(e),null;case 5:Oc(e);var s=Zr(pi.current);if(r=e.type,t!==null&&e.stateNode!=null)Ng(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return Fe(e),null}if(t=Zr(Gt.current),Ki(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Wt]=e,n[hi]=i,t=(e.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(s=0;s<Ms.length;s++)ue(Ms[s],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":xd(n,i),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ue("invalid",n);break;case"textarea":Sd(n,i),ue("invalid",n)}Xl(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,a,t),s=["children",""+a]):ri.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",n)}switch(r){case"input":$i(n),wd(n,i,!0);break;case"textarea":$i(n),_d(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Lo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Wt]=e,t[hi]=n,Og(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zl(r,n),r){case"dialog":ue("cancel",t),ue("close",t),s=n;break;case"iframe":case"object":case"embed":ue("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ms.length;s++)ue(Ms[s],t);s=n;break;case"source":ue("error",t),s=n;break;case"img":case"image":case"link":ue("error",t),ue("load",t),s=n;break;case"details":ue("toggle",t),s=n;break;case"input":xd(t,n),s=ql(t,n),ue("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ge({},n,{value:void 0}),ue("invalid",t);break;case"textarea":Sd(t,n),s=Jl(t,n),ue("invalid",t);break;default:s=n}Xl(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ap(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ip(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ni(t,l):typeof l=="number"&&ni(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ri.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ue("scroll",t):l!=null&&ic(t,i,l,o))}switch(r){case"input":$i(t),wd(t,n,!1);break;case"textarea":$i(t),_d(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Wn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Wn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fe(e),null;case 6:if(t&&e.stateNode!=null)Tg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(r=Zr(pi.current),Zr(Gt.current),Ki(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wt]=e,(i=n.nodeValue!==r)&&(t=ft,t!==null))switch(t.tag){case 3:Wi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wt]=e,e.stateNode=n}return Fe(e),null;case 13:if(ce(fe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&ht!==null&&e.mode&1&&!(e.flags&128))Gp(),es(),e.flags|=98560,i=!1;else if(i=Ki(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Wt]=e}else es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),i=!1}else It!==null&&(Du(It),It=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Oe===0&&(Oe=3):Uc())),e.updateQueue!==null&&(e.flags|=4),Fe(e),null);case 4:return rs(),Cu(t,e),t===null&&ci(e.stateNode.containerInfo),Fe(e),null;case 10:return bc(e.type._context),Fe(e),null;case 17:return it(e.type)&&Do(),Fe(e),null;case 19:if(ce(fe),i=e.memoizedState,i===null)return Fe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Es(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zo(t),o!==null){for(e.flags|=128,Es(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ae(fe,fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&xe()>ss&&(e.flags|=128,n=!0,Es(i,!1),e.lanes=4194304)}else{if(!n)if(t=zo(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return Fe(e),null}else 2*xe()-i.renderingStartTime>ss&&r!==1073741824&&(e.flags|=128,n=!0,Es(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xe(),e.sibling=null,r=fe.current,ae(fe,n?r&1|2:r&1),e):(Fe(e),null);case 22:case 23:return zc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dt&1073741824&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function C1(t,e){switch(wc(e),e.tag){case 1:return it(e.type)&&Do(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rs(),ce(st),ce(He),Nc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oc(e),null;case 13:if(ce(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(fe),null;case 4:return rs(),null;case 10:return bc(e.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var Qi=!1,Be=!1,j1=typeof WeakSet=="function"?WeakSet:Set,R=null;function Hn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(t,e,n)}else r.current=null}function ju(t,e,r){try{r()}catch(n){ve(t,e,n)}}var dh=!1;function E1(t,e){if(uu=No,t=Ip(),yc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(cu={focusedElem:t,selectionRange:r},No=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,S=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Lt(e.type,x),S);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ve(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return m=dh,dh=!1,m}function qs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ju(e,r,i)}s=s.next}while(s!==n)}}function ca(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Eu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Pg(t){var e=t.alternate;e!==null&&(t.alternate=null,Pg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[hi],delete e[fu],delete e[u1],delete e[c1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lg(t){return t.tag===5||t.tag===3||t.tag===4}function hh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Lo));else if(n!==4&&(t=t.child,t!==null))for(Ou(t,e,r),t=t.sibling;t!==null;)Ou(t,e,r),t=t.sibling}function Nu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nu(t,e,r),t=t.sibling;t!==null;)Nu(t,e,r),t=t.sibling}var Re=null,Dt=!1;function dr(t,e,r){for(r=r.child;r!==null;)Dg(t,e,r),r=r.sibling}function Dg(t,e,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ra,r)}catch{}switch(r.tag){case 5:Be||Hn(r,e);case 6:var n=Re,s=Dt;Re=null,dr(t,e,r),Re=n,Dt=s,Re!==null&&(Dt?(t=Re,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Re.removeChild(r.stateNode));break;case 18:Re!==null&&(Dt?(t=Re,r=r.stateNode,t.nodeType===8?cl(t.parentNode,r):t.nodeType===1&&cl(t,r),ai(t)):cl(Re,r.stateNode));break;case 4:n=Re,s=Dt,Re=r.stateNode.containerInfo,Dt=!0,dr(t,e,r),Re=n,Dt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ju(r,e,o),s=s.next}while(s!==n)}dr(t,e,r);break;case 1:if(!Be&&(Hn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ve(r,e,a)}dr(t,e,r);break;case 21:dr(t,e,r);break;case 22:r.mode&1?(Be=(n=Be)||r.memoizedState!==null,dr(t,e,r),Be=n):dr(t,e,r);break;default:dr(t,e,r)}}function fh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new j1),e.forEach(function(n){var s=A1.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Re=a.stateNode,Dt=!1;break e;case 3:Re=a.stateNode.containerInfo,Dt=!0;break e;case 4:Re=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(Re===null)throw Error(P(160));Dg(i,o,s),Re=null,Dt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ve(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rg(e,t),e=e.sibling}function Rg(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Ut(t),n&4){try{qs(3,t,t.return),ca(3,t)}catch(x){ve(t,t.return,x)}try{qs(5,t,t.return)}catch(x){ve(t,t.return,x)}}break;case 1:Pt(e,t),Ut(t),n&512&&r!==null&&Hn(r,r.return);break;case 5:if(Pt(e,t),Ut(t),n&512&&r!==null&&Hn(r,r.return),t.flags&32){var s=t.stateNode;try{ni(s,"")}catch(x){ve(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rp(s,i),Zl(a,o);var c=Zl(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?ap(s,f):d==="dangerouslySetInnerHTML"?ip(s,f):d==="children"?ni(s,f):ic(s,d,f,c)}switch(a){case"input":Gl(s,i);break;case"textarea":np(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wn(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wn(s,!!i.multiple,i.defaultValue,!0):Wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[hi]=i}catch(x){ve(t,t.return,x)}}break;case 6:if(Pt(e,t),Ut(t),n&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ve(t,t.return,x)}}break;case 3:if(Pt(e,t),Ut(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ai(e.containerInfo)}catch(x){ve(t,t.return,x)}break;case 4:Pt(e,t),Ut(t);break;case 13:Pt(e,t),Ut(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mc=xe())),n&4&&fh(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Be=(c=Be)||d,Pt(e,t),Be=c):Pt(e,t),Ut(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(f=R=d;R!==null;){switch(h=R,p=h.child,h.tag){case 0:case 11:case 14:case 15:qs(4,h,h.return);break;case 1:Hn(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(x){ve(n,r,x)}}break;case 5:Hn(h,h.return);break;case 22:if(h.memoizedState!==null){gh(f);continue}}p!==null?(p.return=h,R=p):gh(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=op("display",o))}catch(x){ve(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){ve(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pt(e,t),Ut(t),n&4&&fh(t);break;case 21:break;default:Pt(e,t),Ut(t)}}function Ut(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Lg(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ni(s,""),n.flags&=-33);var i=hh(t);Nu(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hh(t);Ou(t,a,o);break;default:throw Error(P(161))}}catch(l){ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O1(t,e,r){R=t,Ig(t)}function Ig(t,e,r){for(var n=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Qi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Be;a=Qi;var c=Be;if(Qi=o,(Be=l)&&!c)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?mh(s):l!==null?(l.return=o,R=l):mh(s);for(;i!==null;)R=i,Ig(i),i=i.sibling;R=s,Qi=a,Be=c}ph(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):ph(t)}}function ph(t){for(;R!==null;){var e=R;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||ca(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Be)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Lt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xd(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Xd(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ai(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Be||e.flags&512&&Eu(e)}catch(h){ve(e,e.return,h)}}if(e===t){R=null;break}if(r=e.sibling,r!==null){r.return=e.return,R=r;break}R=e.return}}function gh(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var r=e.sibling;if(r!==null){r.return=e.return,R=r;break}R=e.return}}function mh(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ca(4,e)}catch(l){ve(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ve(e,s,l)}}var i=e.return;try{Eu(e)}catch(l){ve(e,i,l)}break;case 5:var o=e.return;try{Eu(e)}catch(l){ve(e,o,l)}}}catch(l){ve(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var N1=Math.ceil,Ho=ar.ReactCurrentDispatcher,Ac=ar.ReactCurrentOwner,jt=ar.ReactCurrentBatchConfig,Y=0,De=null,ke=null,Ie=0,dt=0,Vn=Mr(0),Oe=0,yi=null,ln=0,da=0,$c=0,Gs=null,tt=null,Mc=0,ss=1/0,Jt=null,Vo=!1,Tu=null,Tr=null,Ji=!1,br=null,Wo=0,Qs=0,Pu=null,vo=-1,yo=0;function Qe(){return Y&6?xe():vo!==-1?vo:vo=xe()}function Pr(t){return t.mode&1?Y&2&&Ie!==0?Ie&-Ie:h1.transition!==null?(yo===0&&(yo=xp()),yo):(t=ne,t!==0||(t=window.event,t=t===void 0?16:jp(t.type)),t):1}function $t(t,e,r,n){if(50<Qs)throw Qs=0,Pu=null,Error(P(185));Ci(t,r,n),(!(Y&2)||t!==De)&&(t===De&&(!(Y&2)&&(da|=r),Oe===4&&Sr(t,Ie)),ot(t,n),r===1&&Y===0&&!(e.mode&1)&&(ss=xe()+500,aa&&Fr()))}function ot(t,e){var r=t.callbackNode;hv(t,e);var n=Oo(t,t===De?Ie:0);if(n===0)r!==null&&Cd(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Cd(r),e===1)t.tag===0?d1(vh.bind(null,t)):Wp(vh.bind(null,t)),a1(function(){!(Y&6)&&Fr()}),r=null;else{switch(wp(n)){case 1:r=cc;break;case 4:r=vp;break;case 16:r=Eo;break;case 536870912:r=yp;break;default:r=Eo}r=Hg(r,Ag.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ag(t,e){if(vo=-1,yo=0,Y&6)throw Error(P(327));var r=t.callbackNode;if(Jn()&&t.callbackNode!==r)return null;var n=Oo(t,t===De?Ie:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ko(t,n);else{e=n;var s=Y;Y|=2;var i=Mg();(De!==t||Ie!==e)&&(Jt=null,ss=xe()+500,en(t,e));do try{L1();break}catch(a){$g(t,a)}while(!0);kc(),Ho.current=i,Y=s,ke!==null?e=0:(De=null,Ie=0,e=Oe)}if(e!==0){if(e===2&&(s=su(t),s!==0&&(n=s,e=Lu(t,s))),e===1)throw r=yi,en(t,0),Sr(t,n),ot(t,xe()),r;if(e===6)Sr(t,n);else{if(s=t.current.alternate,!(n&30)&&!T1(s)&&(e=Ko(t,n),e===2&&(i=su(t),i!==0&&(n=i,e=Lu(t,i))),e===1))throw r=yi,en(t,0),Sr(t,n),ot(t,xe()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:Gr(t,tt,Jt);break;case 3:if(Sr(t,n),(n&130023424)===n&&(e=Mc+500-xe(),10<e)){if(Oo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hu(Gr.bind(null,t,tt,Jt),e);break}Gr(t,tt,Jt);break;case 4:if(Sr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-At(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N1(n/1960))-n,10<n){t.timeoutHandle=hu(Gr.bind(null,t,tt,Jt),n);break}Gr(t,tt,Jt);break;case 5:Gr(t,tt,Jt);break;default:throw Error(P(329))}}}return ot(t,xe()),t.callbackNode===r?Ag.bind(null,t):null}function Lu(t,e){var r=Gs;return t.current.memoizedState.isDehydrated&&(en(t,e).flags|=256),t=Ko(t,e),t!==2&&(e=tt,tt=r,e!==null&&Du(e)),t}function Du(t){tt===null?tt=t:tt.push.apply(tt,t)}function T1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~$c,e&=~da,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-At(e),n=1<<r;t[r]=-1,e&=~n}}function vh(t){if(Y&6)throw Error(P(327));Jn();var e=Oo(t,0);if(!(e&1))return ot(t,xe()),null;var r=Ko(t,e);if(t.tag!==0&&r===2){var n=su(t);n!==0&&(e=n,r=Lu(t,n))}if(r===1)throw r=yi,en(t,0),Sr(t,e),ot(t,xe()),r;if(r===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,tt,Jt),ot(t,xe()),null}function Fc(t,e){var r=Y;Y|=1;try{return t(e)}finally{Y=r,Y===0&&(ss=xe()+500,aa&&Fr())}}function un(t){br!==null&&br.tag===0&&!(Y&6)&&Jn();var e=Y;Y|=1;var r=jt.transition,n=ne;try{if(jt.transition=null,ne=1,t)return t()}finally{ne=n,jt.transition=r,Y=e,!(Y&6)&&Fr()}}function zc(){dt=Vn.current,ce(Vn)}function en(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,o1(r)),ke!==null)for(r=ke.return;r!==null;){var n=r;switch(wc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Do();break;case 3:rs(),ce(st),ce(He),Nc();break;case 5:Oc(n);break;case 4:rs();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:bc(n.type._context);break;case 22:case 23:zc()}r=r.return}if(De=t,ke=t=Lr(t.current,null),Ie=dt=e,Oe=0,yi=null,$c=da=ln=0,tt=Gs=null,Xr!==null){for(e=0;e<Xr.length;e++)if(r=Xr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xr=null}return t}function $g(t,e){do{var r=ke;try{if(kc(),po.current=Bo,Uo){for(var n=pe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uo=!1}if(an=0,Le=Ee=pe=null,Ks=!1,gi=0,Ac.current=null,r===null||r.return===null){Oe=1,yi=e,ke=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sh(o);if(p!==null){p.flags&=-257,ih(p,o,a,i,e),p.mode&1&&nh(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var x=new Set;x.add(l),e.updateQueue=x}else m.add(l);break e}else{if(!(e&1)){nh(i,c,e),Uc();break e}l=Error(P(426))}}else if(he&&a.mode&1){var S=sh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ih(S,o,a,i,e),Sc(ns(l,a));break e}}i=l=ns(l,a),Oe!==4&&(Oe=2),Gs===null?Gs=[i]:Gs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=wg(i,l,e);Yd(i,v);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Tr===null||!Tr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Sg(i,a,e);Yd(i,w);break e}}i=i.return}while(i!==null)}zg(r)}catch(E){e=E,ke===r&&r!==null&&(ke=r=r.return);continue}break}while(!0)}function Mg(){var t=Ho.current;return Ho.current=Bo,t===null?Bo:t}function Uc(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),De===null||!(ln&268435455)&&!(da&268435455)||Sr(De,Ie)}function Ko(t,e){var r=Y;Y|=2;var n=Mg();(De!==t||Ie!==e)&&(Jt=null,en(t,e));do try{P1();break}catch(s){$g(t,s)}while(!0);if(kc(),Y=r,Ho.current=n,ke!==null)throw Error(P(261));return De=null,Ie=0,Oe}function P1(){for(;ke!==null;)Fg(ke)}function L1(){for(;ke!==null&&!nv();)Fg(ke)}function Fg(t){var e=Bg(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?zg(t):ke=e,Ac.current=null}function zg(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=C1(r,e),r!==null){r.flags&=32767,ke=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,ke=null;return}}else if(r=b1(r,e,dt),r!==null){ke=r;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Oe===0&&(Oe=5)}function Gr(t,e,r){var n=ne,s=jt.transition;try{jt.transition=null,ne=1,D1(t,e,r,n)}finally{jt.transition=s,ne=n}return null}function D1(t,e,r,n){do Jn();while(br!==null);if(Y&6)throw Error(P(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(fv(t,i),t===De&&(ke=De=null,Ie=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ji||(Ji=!0,Hg(Eo,function(){return Jn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var o=ne;ne=1;var a=Y;Y|=4,Ac.current=null,E1(t,r),Rg(r,t),Zv(cu),No=!!uu,cu=uu=null,t.current=r,O1(r),sv(),Y=a,ne=o,jt.transition=i}else t.current=r;if(Ji&&(Ji=!1,br=t,Wo=s),i=t.pendingLanes,i===0&&(Tr=null),av(r.stateNode),ot(t,xe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,t=Tu,Tu=null,t;return Wo&1&&t.tag!==0&&Jn(),i=t.pendingLanes,i&1?t===Pu?Qs++:(Qs=0,Pu=t):Qs=0,Fr(),null}function Jn(){if(br!==null){var t=wp(Wo),e=jt.transition,r=ne;try{if(jt.transition=null,ne=16>t?16:t,br===null)var n=!1;else{if(t=br,br=null,Wo=0,Y&6)throw Error(P(331));var s=Y;for(Y|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:qs(8,d,i)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var h=d.sibling,p=d.return;if(Pg(d),d===c){R=null;break}if(h!==null){h.return=p,R=h;break}R=p}}}var m=i.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qs(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,R=v;break e}R=i.return}}var g=t.current;for(R=g;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=g;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ca(9,a)}}catch(E){ve(a,a.return,E)}if(a===o){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(Y=s,Fr(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ra,t)}catch{}n=!0}return n}finally{ne=r,jt.transition=e}}return!1}function yh(t,e,r){e=ns(r,e),e=wg(t,e,1),t=Nr(t,e,1),e=Qe(),t!==null&&(Ci(t,1,e),ot(t,e))}function ve(t,e,r){if(t.tag===3)yh(t,t,r);else for(;e!==null;){if(e.tag===3){yh(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tr===null||!Tr.has(n))){t=ns(r,t),t=Sg(e,t,1),e=Nr(e,t,1),t=Qe(),e!==null&&(Ci(e,1,t),ot(e,t));break}}e=e.return}}function R1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&r,De===t&&(Ie&r)===r&&(Oe===4||Oe===3&&(Ie&130023424)===Ie&&500>xe()-Mc?en(t,0):$c|=r),ot(t,e)}function Ug(t,e){e===0&&(t.mode&1?(e=zi,zi<<=1,!(zi&130023424)&&(zi=4194304)):e=1);var r=Qe();t=ir(t,e),t!==null&&(Ci(t,e,r),ot(t,r))}function I1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ug(t,r)}function A1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),Ug(t,r)}var Bg;Bg=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)nt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return nt=!1,k1(t,e,r);nt=!!(t.flags&131072)}else nt=!1,he&&e.flags&1048576&&Kp(e,Ao,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mo(t,e),t=e.pendingProps;var s=Zn(e,He.current);Qn(e,r),s=Pc(null,e,n,t,s,r);var i=Lc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(n)?(i=!0,Ro(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jc(e),s.updater=ua,e.stateNode=s,s._reactInternals=e,xu(e,n,t,r),e=_u(null,e,n,!0,i,r)):(e.tag=0,he&&i&&xc(e),Ge(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(mo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=M1(n),t=Lt(n,t),s){case 0:e=Su(null,e,n,t,r);break e;case 1:e=lh(null,e,n,t,r);break e;case 11:e=oh(null,e,n,t,r);break e;case 14:e=ah(null,e,n,Lt(n.type,t),r);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Lt(n,s),Su(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Lt(n,s),lh(t,e,n,s,r);case 3:e:{if(Cg(e),t===null)throw Error(P(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Xp(t,e),Fo(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ns(Error(P(423)),e),e=uh(t,e,n,r,s);break e}else if(n!==s){s=ns(Error(P(424)),e),e=uh(t,e,n,r,s);break e}else for(ht=Or(e.stateNode.containerInfo.firstChild),ft=e,he=!0,It=null,r=Jp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(es(),n===s){e=or(t,e,r);break e}Ge(t,e,n,r)}e=e.child}return e;case 5:return Zp(e),t===null&&mu(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,du(n,s)?o=null:i!==null&&du(n,i)&&(e.flags|=32),bg(t,e),Ge(t,e,o,r),e.child;case 6:return t===null&&mu(e),null;case 13:return jg(t,e,r);case 4:return Ec(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ts(e,null,n,r):Ge(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Lt(n,s),oh(t,e,n,s,r);case 7:return Ge(t,e,e.pendingProps,r),e.child;case 8:return Ge(t,e,e.pendingProps.children,r),e.child;case 12:return Ge(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ae($o,n._currentValue),n._currentValue=o,i!==null)if(Mt(i.value,o)){if(i.children===s.children&&!st.current){e=or(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=rr(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),vu(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),vu(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qn(e,r),s=Ot(s),n=n(s),e.flags|=1,Ge(t,e,n,r),e.child;case 14:return n=e.type,s=Lt(n,e.pendingProps),s=Lt(n.type,s),ah(t,e,n,s,r);case 15:return _g(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Lt(n,s),mo(t,e),e.tag=1,it(n)?(t=!0,Ro(e)):t=!1,Qn(e,r),xg(e,n,s),xu(e,n,s,r),_u(null,e,n,!0,t,r);case 19:return Eg(t,e,r);case 22:return kg(t,e,r)}throw Error(P(156,e.tag))};function Hg(t,e){return mp(t,e)}function $1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,r,n){return new $1(t,e,r,n)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M1(t){if(typeof t=="function")return Bc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ac)return 11;if(t===lc)return 14}return 2}function Lr(t,e){var r=t.alternate;return r===null?(r=kt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xo(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Bc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rn:return tn(r.children,s,i,e);case oc:o=8,s|=8;break;case Hl:return t=kt(12,r,e,s|2),t.elementType=Hl,t.lanes=i,t;case Vl:return t=kt(13,r,e,s),t.elementType=Vl,t.lanes=i,t;case Wl:return t=kt(19,r,e,s),t.elementType=Wl,t.lanes=i,t;case Zf:return ha(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yf:o=10;break e;case Xf:o=9;break e;case ac:o=11;break e;case lc:o=14;break e;case mr:o=16,n=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=kt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function tn(t,e,r,n){return t=kt(7,t,n,e),t.lanes=r,t}function ha(t,e,r,n){return t=kt(22,t,n,e),t.elementType=Zf,t.lanes=r,t.stateNode={isHidden:!1},t}function yl(t,e,r){return t=kt(6,t,null,e),t.lanes=r,t}function xl(t,e,r){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F1(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(t,e,r,n,s,i,o,a,l){return t=new F1(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(i),t}function z1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Vg(t){if(!t)return Ir;t=t._reactInternals;e:{if(fn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var r=t.type;if(it(r))return Vp(t,r,e)}return e}function Wg(t,e,r,n,s,i,o,a,l){return t=Hc(r,n,!0,t,s,i,o,a,l),t.context=Vg(null),r=t.current,n=Qe(),s=Pr(r),i=rr(n,s),i.callback=e??null,Nr(r,i,s),t.current.lanes=s,Ci(t,s,n),ot(t,n),t}function fa(t,e,r,n){var s=e.current,i=Qe(),o=Pr(s);return r=Vg(r),e.context===null?e.context=r:e.pendingContext=r,e=rr(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Nr(s,e,o),t!==null&&($t(t,s,o,i),fo(t,s,o)),o}function qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vc(t,e){xh(t,e),(t=t.alternate)&&xh(t,e)}function U1(){return null}var Kg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wc(t){this._internalRoot=t}pa.prototype.render=Wc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));fa(t,e,null,null)};pa.prototype.unmount=Wc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;un(function(){fa(null,t,null,null)}),e[sr]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=kp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<wr.length&&e!==0&&e<wr[r].priority;r++);wr.splice(r,0,t),r===0&&Cp(t)}};function Kc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ga(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wh(){}function B1(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=qo(o);i.call(c)}}var o=Wg(e,n,t,0,null,!1,!1,"",wh);return t._reactRootContainer=o,t[sr]=o.current,ci(t.nodeType===8?t.parentNode:t),un(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=qo(l);a.call(c)}}var l=Hc(t,0,!1,null,null,!1,!1,"",wh);return t._reactRootContainer=l,t[sr]=l.current,ci(t.nodeType===8?t.parentNode:t),un(function(){fa(e,l,r,n)}),l}function ma(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qo(o);a.call(l)}}fa(e,o,t,s)}else o=B1(r,e,t,s,n);return qo(o)}Sp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$s(e.pendingLanes);r!==0&&(dc(e,r|1),ot(e,xe()),!(Y&6)&&(ss=xe()+500,Fr()))}break;case 13:un(function(){var n=ir(t,1);if(n!==null){var s=Qe();$t(n,t,1,s)}}),Vc(t,1)}};hc=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var r=Qe();$t(e,t,134217728,r)}Vc(t,134217728)}};_p=function(t){if(t.tag===13){var e=Pr(t),r=ir(t,e);if(r!==null){var n=Qe();$t(r,t,e,n)}Vc(t,e)}};kp=function(){return ne};bp=function(t,e){var r=ne;try{return ne=t,e()}finally{ne=r}};tu=function(t,e,r){switch(e){case"input":if(Gl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=oa(n);if(!s)throw Error(P(90));tp(n),Gl(n,s)}}}break;case"textarea":np(t,r);break;case"select":e=r.value,e!=null&&Wn(t,!!r.multiple,e,!1)}};cp=Fc;dp=un;var H1={usingClientEntryPoint:!1,Events:[Ei,Mn,oa,lp,up,Fc]},Os={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V1={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pp(t),t===null?null:t.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{ra=Yi.inject(V1),qt=Yi}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1;gt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(e))throw Error(P(200));return z1(t,e,null,r)};gt.createRoot=function(t,e){if(!Kc(t))throw Error(P(299));var r=!1,n="",s=Kg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hc(t,1,!1,null,null,r,!1,n,s),t[sr]=e.current,ci(t.nodeType===8?t.parentNode:t),new Wc(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=pp(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return un(t)};gt.hydrate=function(t,e,r){if(!ga(e))throw Error(P(200));return ma(null,t,e,!0,r)};gt.hydrateRoot=function(t,e,r){if(!Kc(t))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Kg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Wg(e,null,t,1,r??null,s,!1,i,o),t[sr]=e.current,ci(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new pa(e)};gt.render=function(t,e,r){if(!ga(e))throw Error(P(200));return ma(null,t,e,!1,r)};gt.unmountComponentAtNode=function(t){if(!ga(t))throw Error(P(40));return t._reactRootContainer?(un(function(){ma(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};gt.unstable_batchedUpdates=Fc;gt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ga(r))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return ma(t,e,r,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qg)}catch(t){console.error(t)}}qg(),qf.exports=gt;var W1=qf.exports,Gg,Sh=W1;Gg=Sh.createRoot,Sh.hydrateRoot;const Qg={id:"user-1",username:"ProGamer99",avatar:"https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=150",level:42,rank:"Diamond",totalMatches:248,wins:167,losses:81,winRate:67.3,status:"online",friends:["user-2","user-4","user-7","user-9"]},K1=[Qg,{id:"user-2",username:"NinjaWarrior",avatar:"https://images.pexels.com/photos/1722198/pexels-photo-1722198.jpeg?auto=compress&cs=tinysrgb&w=150",level:56,rank:"Master",totalMatches:345,wins:231,losses:114,winRate:67,status:"in-game",friends:["user-1","user-5"]},{id:"user-3",username:"PixelQueen",avatar:"https://images.pexels.com/photos/1065084/pexels-photo-1065084.jpeg?auto=compress&cs=tinysrgb&w=150",level:38,rank:"Platinum",totalMatches:198,wins:119,losses:79,winRate:60.1,status:"online",friends:["user-6","user-8"]},{id:"user-4",username:"LegendSlayer",avatar:"https://images.pexels.com/photos/775358/pexels-photo-775358.jpeg?auto=compress&cs=tinysrgb&w=150",level:67,rank:"Grandmaster",totalMatches:412,wins:298,losses:114,winRate:72.3,status:"offline",friends:["user-1","user-7"]},{id:"user-5",username:"ShadowHunter",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150",level:28,rank:"Gold",totalMatches:142,wins:89,losses:53,winRate:62.7,status:"online",friends:["user-2","user-9"]},{id:"user-6",username:"CyberWolf",avatar:"https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=150",level:51,rank:"Diamond",totalMatches:287,wins:189,losses:98,winRate:65.9,status:"in-game",friends:["user-3","user-8"]},{id:"user-7",username:"VictoryQueen",avatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150",level:43,rank:"Diamond",totalMatches:221,wins:153,losses:68,winRate:69.2,status:"offline",friends:["user-1","user-4"]},{id:"user-8",username:"BattleMaster",avatar:"https://images.pexels.com/photos/846741/pexels-photo-846741.jpeg?auto=compress&cs=tinysrgb&w=150",level:59,rank:"Master",totalMatches:356,wins:249,losses:107,winRate:69.9,status:"online",friends:["user-3","user-6"]},{id:"user-9",username:"EliteGamer",avatar:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=150",level:34,rank:"Platinum",totalMatches:178,wins:99,losses:79,winRate:55.6,status:"in-game",friends:["user-1","user-5"]},{id:"user-10",username:"SpeedDemon",avatar:"https://images.pexels.com/photos/1300402/pexels-photo-1300402.jpeg?auto=compress&cs=tinysrgb&w=150",level:47,rank:"Diamond",totalMatches:264,wins:176,losses:88,winRate:66.7,status:"offline",friends:[]}],q1=[{id:"snake",title:"Snake Game",thumbnail:"https://images.pexels.com/photos/207983/pexels-photo-207983.jpeg?auto=compress&cs=tinysrgb&w=500",players:{current:1,max:1},mode:"Single Player",map:"Classic",status:"open",skillLevel:"beginner",ping:0,host:"System",botAvailable:!0,botDifficulty:"easy"},{id:"hangman",title:"Hangman",thumbnail:"https://images.pexels.com/photos/5428836/pexels-photo-5428836.jpeg?auto=compress&cs=tinysrgb&w=500",players:{current:1,max:1},mode:"Single Player",map:"Classic",status:"open",skillLevel:"beginner",ping:0,host:"System",botAvailable:!0,botDifficulty:"medium"},{id:"chess",title:"Chess",thumbnail:"https://images.pexels.com/photos/411207/pexels-photo-411207.jpeg?auto=compress&cs=tinysrgb&w=500",players:{current:0,max:2},mode:"Multiplayer",map:"Classic",status:"open",skillLevel:"intermediate",ping:15,host:"System",botAvailable:!0,botDifficulty:"hard"}],G1=[{userId:"user-4",username:"LegendSlayer",avatar:"https://images.pexels.com/photos/775358/pexels-photo-775358.jpeg?auto=compress&cs=tinysrgb&w=150",rank:1,level:67,wins:298,losses:114,winRate:72.3,lastPlayed:"2023-09-15"},{userId:"user-8",username:"BattleMaster",avatar:"https://images.pexels.com/photos/846741/pexels-photo-846741.jpeg?auto=compress&cs=tinysrgb&w=150",rank:2,level:59,wins:249,losses:107,winRate:69.9,lastPlayed:"2023-09-14"},{userId:"user-7",username:"VictoryQueen",avatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150",rank:3,level:43,wins:153,losses:68,winRate:69.2,lastPlayed:"2023-09-16"},{userId:"user-1",username:"ProGamer99",avatar:"https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=150",rank:4,level:42,wins:167,losses:81,winRate:67.3,lastPlayed:"2023-09-16"},{userId:"user-2",username:"NinjaWarrior",avatar:"https://images.pexels.com/photos/1722198/pexels-photo-1722198.jpeg?auto=compress&cs=tinysrgb&w=150",rank:5,level:56,wins:231,losses:114,winRate:67,lastPlayed:"2023-09-15"},{userId:"user-10",username:"SpeedDemon",avatar:"https://images.pexels.com/photos/1300402/pexels-photo-1300402.jpeg?auto=compress&cs=tinysrgb&w=150",rank:6,level:47,wins:176,losses:88,winRate:66.7,lastPlayed:"2023-09-13"},{userId:"user-6",username:"CyberWolf",avatar:"https://images.pexels.com/photos/1681010/pexels-photo-1681010.jpeg?auto=compress&cs=tinysrgb&w=150",rank:7,level:51,wins:189,losses:98,winRate:65.9,lastPlayed:"2023-09-14"},{userId:"user-5",username:"ShadowHunter",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150",rank:8,level:28,wins:89,losses:53,winRate:62.7,lastPlayed:"2023-09-15"},{userId:"user-3",username:"PixelQueen",avatar:"https://images.pexels.com/photos/1065084/pexels-photo-1065084.jpeg?auto=compress&cs=tinysrgb&w=150",rank:9,level:38,wins:119,losses:79,winRate:60.1,lastPlayed:"2023-09-16"},{userId:"user-9",username:"EliteGamer",avatar:"https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=150",rank:10,level:34,wins:99,losses:79,winRate:55.6,lastPlayed:"2023-09-15"}],Jg=b.createContext(void 0),Q1=({children:t})=>{const[e,r]=b.useState("home"),[n,s]=b.useState(""),[i,o]=b.useState("rank"),[a,l]=b.useState("all"),[c,d]=b.useState("all"),p={currentUser:Qg,games:q1,leaderboard:G1,users:K1,activeTab:e,setActiveTab:r,searchQuery:n,setSearchQuery:s,filterGames:m=>m.filter(x=>{const S=[x.title.toLowerCase(),x.mode.toLowerCase(),x.map.toLowerCase(),x.host.toLowerCase(),x.skillLevel.toLowerCase()],v=n===""||S.some(w=>w.includes(n.toLowerCase())),g=a==="all"||x.skillLevel===a,y=c==="all"||x.mode===c;return v&&g&&y}),sortLeaderboard:(m,x)=>[...m].sort((S,v)=>{switch(x){case"rank":return S.rank-v.rank;case"level":return v.level-S.level;case"wins":return v.wins-S.wins;case"winRate":return v.winRate-S.winRate;default:return S.rank-v.rank}}),sortBy:i,setSortBy:o,filterSkillLevel:a,setFilterSkillLevel:l,filterGameMode:c,setFilterGameMode:d};return u.jsx(Jg.Provider,{value:p,children:t})},zr=()=>{const t=b.useContext(Jg);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>b.createElement("svg",{ref:d,...J1,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Y1(t)}`,a].join(" "),...c},[...e.map(([f,h])=>b.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Z("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Z("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Z("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Z("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Z("Notebook",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Z("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Z("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ar=({src:t,alt:e,size:r="md",status:n,className:s=""})=>{const i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},o={online:"bg-green-500",offline:"bg-gray-500","in-game":"bg-purple-500"};return u.jsxs("div",{className:`relative ${s}`,children:[u.jsx("img",{src:t,alt:e,className:`${i[r]} rounded-full object-cover border-2 border-gray-700`}),n&&u.jsx("span",{className:`absolute bottom-0 right-0 block rounded-full ${i.xs} ${o[n]} border-2 border-gray-900`,"aria-label":`Status: ${n}`})]})},os=({label:t,error:e,leftIcon:r,rightIcon:n,className:s="",fullWidth:i=!1,...o})=>{const a=i?"w-full":"",l=e?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-600 focus:ring-purple-500 focus:border-purple-500";return u.jsxs("div",{className:a,children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:t}),u.jsxs("div",{className:"relative",children:[r&&u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:r}),u.jsx("input",{className:`
            bg-gray-800 text-gray-100 rounded-lg border 
            ${l}
            ${r?"pl-10":"pl-4"} 
            ${n?"pr-10":"pr-4"} 
            py-2 focus:outline-none focus:ring-2 focus:ring-opacity-50
            ${s}
          `,...o}),n&&u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400",children:n})]}),e&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:e})]})},gy=()=>{const{currentUser:t,setSearchQuery:e}=zr(),r=n=>{e(n.target.value)};return u.jsx("nav",{className:"bg-gray-900 border-b border-gray-800",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex items-center justify-between h-16",children:u.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[u.jsx("div",{className:"relative",children:u.jsx(os,{type:"text",placeholder:"Search games, players...",onChange:r,leftIcon:u.jsx(Go,{size:18}),className:"w-64"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white mr-2",children:u.jsx(Xg,{size:20})}),u.jsx("button",{className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white mr-4",children:u.jsx(qc,{size:20})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ar,{src:t.avatar,alt:t.username,status:t.status,size:"sm"}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-white",children:t.username}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Level ",t.level]})]})]})]})]})})})})},my=()=>{const{activeTab:t,setActiveTab:e}=zr(),r=[{id:"home",label:"Home",icon:u.jsx(oy,{size:20})},{id:"games",label:"Games",icon:u.jsx(sy,{size:20})},{id:"leaderboard",label:"Leaderboard",icon:u.jsx(is,{size:20})},{id:"friends",label:"Friends",icon:u.jsx(Ni,{size:20})},{id:"profile",label:"Profile",icon:u.jsx(rm,{size:20})},{id:"settings",label:"Settings",icon:u.jsx(em,{size:20})}];return u.jsxs("div",{className:"hidden md:flex flex-col h-screen w-64 bg-gray-900 border-r border-gray-800",children:[u.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-800",children:u.jsxs("span",{className:"text-white text-xl font-bold",children:["Game",u.jsx("span",{className:"text-purple-500",children:"Pulse"})]})}),u.jsx("div",{className:"flex flex-col flex-grow p-4 overflow-y-auto",children:u.jsx("div",{className:"space-y-2",children:r.map(n=>u.jsxs("button",{className:`flex items-center w-full px-4 py-3 rounded-lg transition-colors ${t===n.id?"bg-purple-700 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,onClick:()=>e(n.id),children:[u.jsx("span",{className:"mr-3",children:n.icon}),u.jsx("span",{children:n.label})]},n.id))})}),u.jsx("div",{className:"p-4 border-t border-gray-800",children:u.jsxs("button",{className:"flex items-center w-full px-4 py-3 text-gray-400 hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[u.jsx(ay,{size:20,className:"mr-3"}),u.jsx("span",{children:"Logout"})]})})]})},bt=({children:t,className:e="",hover:r=!1,onClick:n})=>{const s=r?"hover:transform hover:scale-[1.02] hover:shadow-lg cursor-pointer":"";return u.jsx("div",{className:`bg-gray-800 rounded-xl shadow-md overflow-hidden transition-all duration-300 ${s} ${e}`,onClick:n,children:t})},tr=({children:t,className:e=""})=>u.jsx("div",{className:`px-6 py-4 border-b border-gray-700 ${e}`,children:t}),Ct=({children:t,className:e=""})=>u.jsx("div",{className:`px-6 py-4 ${e}`,children:t}),ee=({children:t,className:e="",variant:r="primary",size:n="md",fullWidth:s=!1,isLoading:i=!1,disabled:o,...a})=>{const l="font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-teal-500 hover:bg-teal-600 text-white focus:ring-teal-400",outline:"border border-purple-600 text-purple-600 hover:bg-purple-50 focus:ring-purple-500",ghost:"text-purple-600 hover:bg-purple-50 focus:ring-purple-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},f=s?"w-full":"",h=i?"opacity-70 cursor-not-allowed":"",p=o?"opacity-50 cursor-not-allowed":"";return u.jsx("button",{className:`${l} ${c[r]} ${d[n]} ${f} ${h} ${p} ${e}`,disabled:o||i,...a,children:i?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):t})},vy=({currentUser:t,users:e})=>{const r=e.filter(s=>t.friends.includes(s.id)&&s.status!=="offline"),n=e.filter(s=>!t.friends.includes(s.id)&&s.id!==t.id).slice(0,3);return u.jsxs("div",{className:"grid gap-6",children:[u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsx("h3",{className:"text-lg font-bold text-white",children:"Online Friends"})}),u.jsx(Ct,{children:r.length>0?u.jsx("ul",{className:"space-y-4",children:r.map(s=>u.jsxs("li",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ar,{src:s.avatar,alt:s.username,status:s.status,size:"md"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-white font-medium",children:s.username}),u.jsx("p",{className:"text-xs text-gray-400",children:s.status==="in-game"?"In Game":"Online"})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:u.jsx(qc,{size:16})}),s.status==="in-game"&&u.jsx(ee,{variant:"primary",size:"sm",children:"Join"})]})]},s.id))}):u.jsx("p",{className:"text-gray-400 text-sm",children:"No friends online at the moment."})})]}),u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsx("h3",{className:"text-lg font-bold text-white",children:"Suggested Friends"})}),u.jsx(Ct,{children:u.jsx("ul",{className:"space-y-4",children:n.map(s=>u.jsxs("li",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ar,{src:s.avatar,alt:s.username,status:s.status,size:"md"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-white font-medium",children:s.username}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Level ",s.level,"  ",s.rank]})]})]}),u.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center",children:[u.jsx(tm,{size:14,className:"mr-1"}),"Add"]})]},s.id))})})]})]})},yy=({user:t})=>u.jsx(bt,{className:"bg-gradient-to-br from-gray-800 to-gray-900",children:u.jsxs(Ct,{className:"p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Ar,{src:t.avatar,alt:t.username,size:"xl",status:t.status,className:"border-4 border-purple-600"}),u.jsx("div",{className:"absolute -bottom-2 -right-2 bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:t.level})]}),u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:t.username}),u.jsxs("div",{className:"flex items-center justify-center md:justify-start mt-1",children:[u.jsx(is,{size:16,className:"text-yellow-400 mr-1"}),u.jsxs("span",{className:"text-gray-300 text-sm",children:[t.rank," Rank"]})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[u.jsxs("div",{className:"text-gray-400 text-xs mb-1 flex items-center",children:[u.jsx(bh,{size:12,className:"mr-1"}),"Win Rate"]}),u.jsxs("div",{className:"text-white font-bold text-lg",children:[t.winRate.toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[u.jsxs("div",{className:"text-gray-400 text-xs mb-1 flex items-center",children:[u.jsx(ty,{size:12,className:"mr-1"}),"Matches"]}),u.jsx("div",{className:"text-white font-bold text-lg",children:t.totalMatches})]}),u.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[u.jsx("div",{className:"text-green-400 text-xs mb-1",children:"Wins"}),u.jsx("div",{className:"text-white font-bold text-lg",children:t.wins})]}),u.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg",children:[u.jsx("div",{className:"text-red-400 text-xs mb-1",children:"Losses"}),u.jsx("div",{className:"text-white font-bold text-lg",children:t.losses})]})]})]})]}),u.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-center",children:[u.jsx(ny,{size:20,className:"text-purple-400 mr-3"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-xs",children:"Recent Activity"}),u.jsx("div",{className:"text-white text-sm",children:"Last played 2 hours ago"})]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-center",children:[u.jsx(is,{size:20,className:"text-yellow-400 mr-3"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-xs",children:"Highest Achievement"}),u.jsx("div",{className:"text-white text-sm",children:"Regional Champion"})]})]}),u.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg flex items-center",children:[u.jsx(bh,{size:20,className:"text-blue-400 mr-3"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-xs",children:"Favorite Game"}),u.jsx("div",{className:"text-white text-sm",children:"Team Deathmatch"})]})]})]})]})}),Ch=()=>{const{currentUser:t,users:e,setActiveTab:r}=zr();return u.jsxs("div",{className:"px-4 py-6 space-y-8",children:[u.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Welcome back, ",t.username,"!"]}),u.jsx(yy,{user:t}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Featured Games"}),u.jsxs("button",{onClick:()=>r("games"),className:"text-purple-400 flex items-center text-sm hover:underline",children:["View all ",u.jsx(_h,{size:16,className:"ml-1"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden cursor-pointer transform transition-all hover:scale-[1.02]",onClick:()=>r("snake"),children:[u.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Snake Game"}),u.jsxs(ee,{variant:"primary",size:"sm",className:"flex items-center",children:[u.jsx(kh,{size:16,className:"mr-1"}),"Play"]})]}),u.jsx("div",{className:"p-4",children:u.jsx("img",{src:"https://images.pexels.com/photos/207983/pexels-photo-207983.jpeg?auto=compress&cs=tinysrgb&w=500",alt:"Snake Game",className:"w-full h-48 object-cover rounded-lg"})})]}),u.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden cursor-pointer transform transition-all hover:scale-[1.02]",onClick:()=>r("hangman"),children:[u.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Hangman"}),u.jsxs(ee,{variant:"primary",size:"sm",className:"flex items-center",children:[u.jsx(kh,{size:16,className:"mr-1"}),"Play"]})]}),u.jsx("div",{className:"p-4",children:u.jsx("img",{src:"https://images.pexels.com/photos/5428836/pexels-photo-5428836.jpeg?auto=compress&cs=tinysrgb&w=500",alt:"Hangman",className:"w-full h-48 object-cover rounded-lg"})})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Activity"}),u.jsxs("a",{href:"#",className:"text-purple-400 flex items-center text-sm hover:underline",children:["View all ",u.jsx(_h,{size:16,className:"ml-1"})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:[1,2,3].map(n=>u.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-700 flex items-center justify-center mr-4",children:u.jsx("span",{className:"text-white font-bold",children:n})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white font-medium",children:n===1?"New high score in Snake Game!":n===2?"Won a game of Hangman":"Started playing Snake Game"}),u.jsx("div",{className:"text-gray-400 text-sm",children:n===1?"2 hours ago":n===2?"Yesterday":"2 days ago"})]})]},n))})]})]}),u.jsx("div",{children:u.jsx(vy,{currentUser:t,users:e})})]})]})},ut=({children:t,variant:e="default",size:r="md",className:n=""})=>{const s="inline-flex items-center font-medium rounded-full",i={default:"bg-gray-700 text-gray-100",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"},o={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"};return u.jsx("span",{className:`${s} ${i[e]} ${o[r]} ${n}`,children:t})},xy=({game:t,onPlay:e})=>{const r=i=>{switch(i){case"open":return u.jsx(ut,{variant:"success",children:"Open"});case"in-progress":return u.jsx(ut,{variant:"warning",children:"In Progress"});case"finished":return u.jsx(ut,{variant:"error",children:"Finished"});default:return u.jsx(ut,{children:"Unknown"})}},n=i=>{switch(i){case"beginner":return u.jsx(ut,{variant:"info",className:"bg-green-800",children:"Beginner"});case"intermediate":return u.jsx(ut,{variant:"info",className:"bg-blue-800",children:"Intermediate"});case"advanced":return u.jsx(ut,{variant:"info",className:"bg-purple-800",children:"Advanced"});case"pro":return u.jsx(ut,{variant:"info",className:"bg-red-800",children:"Pro"});default:return u.jsx(ut,{children:"Unknown"})}},s=i=>{if(!i)return null;switch(i){case"easy":return u.jsx(ut,{variant:"success",children:"Bot: Easy"});case"medium":return u.jsx(ut,{variant:"warning",children:"Bot: Medium"});case"hard":return u.jsx(ut,{variant:"error",children:"Bot: Hard"});default:return null}};return u.jsxs(bt,{hover:!0,className:"h-full flex flex-col",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-48 object-cover"}),u.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[r(t.status),n(t.skillLevel),t.botAvailable&&s(t.botDifficulty)]})]}),u.jsxs(Ct,{className:"flex-grow flex flex-col",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),u.jsxs("div",{className:"space-y-2 mb-4 flex-grow",children:[u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsx(Ni,{size:16,className:"mr-2"}),u.jsxs("span",{children:[t.players.current,"/",t.players.max," Players"]})]}),u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsx(ly,{size:16,className:"mr-2"}),u.jsx("span",{children:t.map})]}),u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsx(fy,{size:16,className:"mr-2"}),u.jsxs("span",{children:[t.ping,"ms"]})]}),u.jsxs("div",{className:"flex items-center text-gray-400",children:[u.jsx(Yg,{size:16,className:"mr-2"}),u.jsx("span",{children:t.mode})]})]}),u.jsxs("div",{className:"mt-auto space-y-2",children:[t.botAvailable&&u.jsxs(ee,{variant:"outline",fullWidth:!0,onClick:()=>e==null?void 0:e("bot"),className:"flex items-center justify-center",children:[u.jsx(ey,{size:16,className:"mr-2"}),"Play vs Bot"]}),u.jsx(ee,{variant:t.status==="open"?"primary":"outline",fullWidth:!0,onClick:()=>e==null?void 0:e("multiplayer"),disabled:t.status!=="open",children:t.status==="open"?"Play Multiplayer":"Spectate"})]})]})]})},wy=()=>{const{setActiveTab:t,games:e}=zr(),r=(n,s)=>{t(n)};return u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Available Games"}),u.jsx("p",{className:"text-gray-400",children:"Choose a game to start playing"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(n=>u.jsx(xy,{game:n,onPlay:s=>r(n.id)},n.id))})]})},Sy=({data:t,onSort:e,sortBy:r})=>{const[n,s]=b.useState("asc"),i=l=>{s(r===l&&n==="asc"?"desc":"asc"),e(l)},o=l=>{switch(l){case 1:return"text-yellow-400";case 2:return"text-gray-400";case 3:return"text-amber-600";default:return"text-gray-300"}},a=({field:l})=>r!==l?null:n==="asc"?u.jsx(Z1,{size:16}):u.jsx(X1,{size:16});return u.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-900",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rank"}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Player"}),u.jsxs("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer group flex items-center",onClick:()=>i("level"),children:["Level ",u.jsx(a,{field:"level"})]}),u.jsxs("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer group flex items-center",onClick:()=>i("wins"),children:["Wins ",u.jsx(a,{field:"wins"})]}),u.jsxs("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer group flex items-center",onClick:()=>i("losses"),children:["Losses ",u.jsx(a,{field:"losses"})]}),u.jsxs("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider cursor-pointer group flex items-center",onClick:()=>i("winRate"),children:["Win Rate ",u.jsx(a,{field:"winRate"})]}),u.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Last Played"})]})}),u.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:t.map(l=>u.jsxs("tr",{className:"hover:bg-gray-750 transition",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:`text-lg font-bold ${o(l.rank)}`,children:l.rank<=3?u.jsx("span",{className:"flex items-center justify-center w-8 h-8 bg-gray-700 rounded-full",children:l.rank}):l.rank})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ar,{src:l.avatar,alt:l.username,size:"md"}),u.jsx("div",{className:"ml-4",children:u.jsx("div",{className:"text-sm font-medium text-white",children:l.username})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:"text-gray-200 font-medium",children:l.level})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-green-400",children:l.wins}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-red-400",children:l.losses}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs(ut,{variant:l.winRate>65?"success":l.winRate>50?"warning":"error",className:l.winRate>65?"bg-green-800":l.winRate>50?"bg-yellow-800":"bg-red-800",children:[l.winRate.toFixed(1),"%"]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:l.lastPlayed})]},l.userId))})]})})})},_y=()=>{const{leaderboard:t,searchQuery:e,setSearchQuery:r,sortLeaderboard:n,sortBy:s,setSortBy:i}=zr(),o=e?t.filter(c=>c.username.toLowerCase().includes(e.toLowerCase())):t,a=n(o,s),l=c=>{r(c.target.value)};return u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[u.jsx(is,{size:24,className:"text-yellow-400 mr-2"}),"Global Leaderboard"]}),u.jsx("p",{className:"text-gray-400 mt-1",children:"See how you stack up against the best players worldwide"})]}),u.jsx("div",{className:"mt-4 md:mt-0",children:u.jsx(os,{type:"text",placeholder:"Search players...",value:e,onChange:l,leftIcon:u.jsx(Go,{size:18}),className:"w-full md:w-64"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-800 rounded-xl p-6 flex items-center",children:[u.jsx("div",{className:"bg-yellow-500 p-3 rounded-full mr-4",children:u.jsx(is,{size:24,className:"text-yellow-900"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-yellow-200 text-sm",children:"Rank #1"}),u.jsx("div",{className:"text-white font-bold text-xl",children:t[0].username}),u.jsxs("div",{className:"text-yellow-100 text-sm",children:["Win Rate: ",t[0].winRate.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 rounded-xl p-6 flex items-center",children:[u.jsx("div",{className:"bg-gray-400 p-3 rounded-full mr-4",children:u.jsx(uy,{size:24,className:"text-gray-800"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-300 text-sm",children:"Rank #2"}),u.jsx("div",{className:"text-white font-bold text-xl",children:t[1].username}),u.jsxs("div",{className:"text-gray-200 text-sm",children:["Win Rate: ",t[1].winRate.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-amber-700 to-amber-900 rounded-xl p-6 flex items-center",children:[u.jsx("div",{className:"bg-amber-500 p-3 rounded-full mr-4",children:u.jsx(Yg,{size:24,className:"text-amber-900"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-amber-200 text-sm",children:"Rank #3"}),u.jsx("div",{className:"text-white font-bold text-xl",children:t[2].username}),u.jsxs("div",{className:"text-amber-100 text-sm",children:["Win Rate: ",t[2].winRate.toFixed(1),"%"]})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsx(ee,{variant:s==="rank"?"primary":"outline",size:"sm",onClick:()=>i("rank"),children:"Rank"}),u.jsx(ee,{variant:s==="level"?"primary":"outline",size:"sm",onClick:()=>i("level"),children:"Level"}),u.jsx(ee,{variant:s==="wins"?"primary":"outline",size:"sm",onClick:()=>i("wins"),children:"Wins"}),u.jsx(ee,{variant:s==="winRate"?"primary":"outline",size:"sm",onClick:()=>i("winRate"),children:"Win Rate"})]}),u.jsx(Sy,{data:a,onSort:i,sortBy:s})]}),u.jsx("div",{className:"mt-8 bg-gray-800 rounded-xl p-6 border border-purple-500 border-opacity-50",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[u.jsx("div",{className:"mb-4 md:mb-0 md:mr-6",children:u.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center",children:u.jsx(Ni,{size:32,className:"text-white"})})}),u.jsxs("div",{className:"flex-1 text-center md:text-left",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Join Ranked Tournaments"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"Compete in weekly tournaments to climb the leaderboard faster"}),u.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition",children:"View Tournaments"})]})]})})]})},ky=()=>{const{currentUser:t,users:e,searchQuery:r,setSearchQuery:n}=zr(),[s,i]=b.useState("all"),o=e.filter(p=>t.friends.includes(p.id)),a=o.filter(p=>p.status!=="offline"),l=r?o.filter(p=>p.username.toLowerCase().includes(r.toLowerCase())):o,c=s==="online"?a:l,d=e.filter(p=>!t.friends.includes(p.id)&&p.id!==t.id),f=p=>{n(p.target.value)},h=p=>{switch(p){case"online":return"Online";case"offline":return"Offline";case"in-game":return"In Game";default:return p}};return u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[u.jsx(Ni,{size:24,className:"text-purple-400 mr-2"}),"Friends"]}),u.jsx("p",{className:"text-gray-400 mt-1",children:"Connect, play and chat with your friends"})]}),u.jsx("div",{className:"mt-4 md:mt-0",children:u.jsx(os,{type:"text",placeholder:"Search friends...",value:r,onChange:f,leftIcon:u.jsx(Go,{size:18}),className:"w-full md:w-64"})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsxs("div",{className:"mb-4 flex border-b border-gray-700",children:[u.jsxs("button",{className:`px-4 py-2 font-medium ${s==="all"?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,onClick:()=>i("all"),children:["All Friends (",o.length,")"]}),u.jsxs("button",{className:`px-4 py-2 font-medium ${s==="online"?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-white"}`,onClick:()=>i("online"),children:["Online (",a.length,")"]})]}),c.length>0?u.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:u.jsx("ul",{className:"divide-y divide-gray-700",children:c.map(p=>u.jsx("li",{className:"p-4 hover:bg-gray-750",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ar,{src:p.avatar,alt:p.username,status:p.status,size:"md"}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"text-white font-medium",children:p.username}),u.jsxs("div",{className:"text-sm text-gray-400",children:["Level ",p.level,"  ",p.rank,"  ",h(p.status)]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:u.jsx(qc,{size:18})}),p.status==="in-game"&&u.jsx(ee,{variant:"primary",size:"sm",children:"Join Game"}),p.status==="online"&&u.jsx(ee,{variant:"primary",size:"sm",children:"Invite"}),u.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-red-500",children:u.jsx(nm,{size:18})})]})]})},p.id))})}):u.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 text-center",children:[u.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No friends found"}),u.jsx("p",{className:"text-gray-400",children:s==="online"?"None of your friends are online right now.":"Try adding some friends to your list."})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:[u.jsx("div",{className:"p-4 border-b border-gray-700",children:u.jsx("h3",{className:"text-lg font-bold text-white",children:"Suggested Friends"})}),u.jsx("ul",{className:"divide-y divide-gray-700",children:d.map(p=>u.jsx("li",{className:"p-4 hover:bg-gray-750",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ar,{src:p.avatar,alt:p.username,status:p.status,size:"md"}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-white font-medium",children:p.username}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Level ",p.level,"  ",p.rank]})]})]}),u.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center",children:[u.jsx(tm,{size:14,className:"mr-1"}),"Add"]})]})},p.id))})]}),u.jsxs("div",{className:"mt-6 bg-gray-800 rounded-xl p-6 border border-purple-500 border-opacity-50",children:[u.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Find Players"}),u.jsx(os,{type:"text",placeholder:"Search by username...",leftIcon:u.jsx(Go,{size:18}),className:"mb-4"}),u.jsx(ee,{variant:"primary",fullWidth:!0,children:"Search"})]})]})]})]})},Cn=20,Bt=20,jh=[{x:10,y:10}],Eh={x:1,y:0},Oh={x:15,y:15},Nh=150,by=50,Cy=.95,jy=()=>{const[t,e]=b.useState(jh),[r,n]=b.useState(Eh),[s,i]=b.useState(Oh),[o,a]=b.useState(!1),[l,c]=b.useState(0),[d,f]=b.useState(!1),[h,p]=b.useState(Nh),m=b.useCallback(()=>({x:Math.floor(Math.random()*Cn),y:Math.floor(Math.random()*Cn)}),[]),x=()=>{e(jh),n(Eh),i(Oh),a(!1),c(0),f(!1),p(Nh)},S=g=>{if(g.x<0||g.x>=Cn||g.y<0||g.y>=Cn)return!0;for(let y of t.slice(1))if(g.x===y.x&&g.y===y.y)return!0;return!1},v=b.useCallback(()=>{if(o||d)return;const g=[...t],y={x:g[0].x+r.x,y:g[0].y+r.y};if(S(y)){a(!0);return}g.unshift(y),y.x===s.x&&y.y===s.y?(c(w=>w+10),i(m()),p(w=>Math.max(by,w*Cy))):g.pop(),e(g)},[t,r,s,o,d,m]);return b.useEffect(()=>{const g=w=>{if(!o)switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(w.key)&&w.preventDefault(),w.key){case"ArrowUp":r.y!==1&&n({x:0,y:-1});break;case"ArrowDown":r.y!==-1&&n({x:0,y:1});break;case"ArrowLeft":r.x!==1&&n({x:-1,y:0});break;case"ArrowRight":r.x!==-1&&n({x:1,y:0});break;case" ":f(E=>!E);break}};window.addEventListener("keydown",g);const y=setInterval(v,h);return()=>{window.removeEventListener("keydown",g),clearInterval(y)}},[r,o,v,h]),u.jsxs("div",{className:"flex flex-col items-center bg-gray-800 p-6 rounded-xl",children:[u.jsxs("div",{className:"mb-4 flex justify-between w-full",children:[u.jsxs("div",{className:"text-purple-400",children:["Score: ",l]}),u.jsxs("div",{className:"text-purple-400",children:["Speed: ",Math.round(1/h*1e3),"x"]}),u.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>f(g=>!g),children:d?"Resume":"Pause"})]}),u.jsxs("div",{className:"border-2 border-purple-500 rounded-lg overflow-hidden",style:{width:Cn*Bt,height:Cn*Bt,position:"relative"},children:[t.map((g,y)=>u.jsx("div",{className:"absolute bg-purple-500",style:{width:Bt-2,height:Bt-2,left:g.x*Bt,top:g.y*Bt,borderRadius:y===0?"4px":"2px"}},y)),u.jsx("div",{className:"absolute bg-red-500",style:{width:Bt-2,height:Bt-2,left:s.x*Bt,top:s.y*Bt,borderRadius:"50%"}})]}),o&&u.jsxs("div",{className:"mt-4 text-center",children:[u.jsx("p",{className:"text-red-500 mb-2",children:"Game Over!"}),u.jsx(ee,{onClick:x,children:"Play Again"})]}),u.jsx("div",{className:"mt-4 text-gray-400 text-sm",children:"Use arrow keys to move  Space to pause"})]})},Ey=()=>u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Snake Game"}),u.jsx("p",{className:"text-gray-400",children:"Use as setas do teclado para mover a cobra e coletar a comida"})]}),u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsx(jy,{})})]}),Oy={objects:["CADEIRA","MESA","COMPUTADOR","TELEFONE","TELEVISO","GELADEIRA","VENTILADOR","NOTEBOOK","CANETA","LPIS","ALMOFADA","RELGIO","ARMRIO","ESTANTE","QUADRO"],food:["FEIJOADA","ACARAJ","BRIGADEIRO","COXINHA","TAPIOCA","PAMONHA","MOQUECA","CHURRASCO","PINHO","AIPIM","PAOCA","FAROFA","PICANHA","MORTADELA","PASTEL"]},Th=6,Ny=({wrongGuesses:t})=>u.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-8",children:[u.jsx("div",{className:"absolute bottom-0 w-32 h-2 bg-purple-500 left-1/2 transform -translate-x-1/2"}),u.jsx("div",{className:"absolute bottom-0 w-2 h-40 bg-purple-500 left-1/2 transform -translate-x-1/2"}),u.jsx("div",{className:"absolute top-2 w-32 h-2 bg-purple-500 left-1/2 transform -translate-x-1/2"}),u.jsx("div",{className:"absolute top-2 w-2 h-8 bg-purple-500 right-8"}),t>0&&u.jsx("div",{className:"absolute top-10 right-6 w-8 h-8 rounded-full border-4 border-purple-500"}),t>1&&u.jsx("div",{className:"absolute top-[4.5rem] right-[1.85rem] w-2 h-16 bg-purple-500"}),t>2&&u.jsx("div",{className:"absolute top-20 right-[1.85rem] w-12 h-2 bg-purple-500 origin-right rotate-45"}),t>3&&u.jsx("div",{className:"absolute top-20 right-[1.85rem] w-12 h-2 bg-purple-500 origin-left -rotate-45"}),t>4&&u.jsx("div",{className:"absolute top-[8.5rem] right-[1.85rem] w-12 h-2 bg-purple-500 origin-right rotate-45"}),t>5&&u.jsx("div",{className:"absolute top-[8.5rem] right-[1.85rem] w-12 h-2 bg-purple-500 origin-left -rotate-45"})]}),Ty=()=>{const[t,e]=b.useState("objects"),[r,n]=b.useState(""),[s,i]=b.useState(new Set),[o,a]=b.useState(0),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),m=y=>{const w=Oy[y],E=w[Math.floor(Math.random()*w.length)];n(E),e(y),i(new Set),a(0),c(!1),f(!1),p(!0)},x=y=>{if(l||d)return;const w=new Set(s);if(w.add(y),i(w),!r.includes(y)){const O=o+1;a(O),O>=Th&&c(!0)}r.split("").every(O=>w.has(O))&&f(!0)},S=()=>r.split("").map((y,w)=>u.jsx("span",{className:"mx-1",children:u.jsx("span",{className:`text-2xl font-bold ${s.has(y)?"text-purple-400":"text-gray-600"}`,children:s.has(y)?y:"_"})},w)),v=()=>{const y="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return u.jsx("div",{className:"grid grid-cols-7 gap-2",children:y.map(w=>u.jsx(ee,{variant:s.has(w)?"ghost":"outline",size:"sm",disabled:s.has(w)||l||d,onClick:()=>x(w),className:`w-10 h-10 ${s.has(w)&&!r.includes(w)?"text-red-500":s.has(w)&&r.includes(w)?"text-green-500":""}`,children:w},w))})},g=()=>u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl text-white mb-4",children:"Escolha uma categoria:"}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsx(ee,{variant:"outline",onClick:()=>m("objects"),className:"w-32",children:"Objetos"}),u.jsx(ee,{variant:"outline",onClick:()=>m("food"),className:"w-32",children:"Comidas"})]})]});return u.jsx("div",{className:"flex flex-col items-center bg-gray-800 p-6 rounded-xl",children:h?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsxs("div",{className:"text-purple-400 mb-2",children:["Categoria: ",t==="objects"?"Objetos":"Comidas"]}),u.jsxs("div",{className:"text-purple-400 mb-2",children:["Erros: ",o," / ",Th]}),u.jsx(Ny,{wrongGuesses:o}),u.jsx("div",{className:"mb-4",children:S()})]}),v(),(l||d)&&u.jsxs("div",{className:"mt-6 text-center",children:[u.jsx("p",{className:`text-xl mb-4 ${d?"text-green-500":"text-red-500"}`,children:d?"Parabns! Voc venceu!":`Game Over! A palavra era ${r}`}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx(ee,{onClick:()=>m(t),children:"Jogar Novamente"}),u.jsx(ee,{variant:"outline",onClick:()=>p(!1),children:"Mudar Categoria"})]})]})]}):g()})},Py=()=>u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Jogo da Forca"}),u.jsx("p",{className:"text-gray-400",children:"Adivinhe a palavra escolhendo as letras corretas"})]}),u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsx(Ty,{})})]});function Ly(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}const xi="abcdefgh".split(""),wo={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Dy={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Ry={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Iy=[7,6,5,4,3,2,1,0],Ay=[0,1,2,3,4,5,6,7],Ph={wP:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),u.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),u.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),u.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),u.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[u.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),u.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),u.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),u.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[u.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),u.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),u.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),u.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),u.jsx("circle",{cx:"6",cy:"12",r:"2"}),u.jsx("circle",{cx:"14",cy:"9",r:"2"}),u.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),u.jsx("circle",{cx:"31",cy:"9",r:"2"}),u.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),u.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),u.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),u.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),u.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),u.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[u.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),u.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),u.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),u.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[u.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),u.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),u.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),u.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),u.jsx("circle",{cx:"6",cy:"12",r:"2"}),u.jsx("circle",{cx:"14",cy:"9",r:"2"}),u.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),u.jsx("circle",{cx:"31",cy:"9",r:"2"}),u.jsx("circle",{cx:"39",cy:"12",r:"2"}),u.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),u.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[u.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),u.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),u.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),u.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:u.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[u.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),u.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),u.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Ru(t,e,r){const n=e/8,s=t==="white"?Dy:Ry,i=t==="white"?Iy:Ay,o=s[r[0]]*n+n/2,a=i[parseInt(r[1],10)-1]*n+n/2;return{x:o,y:a}}function Lh(t){let e=!1;return Object.keys(wo).forEach(r=>{t[r]!==wo[r]&&(e=!0)}),Object.keys(t).forEach(r=>{wo[r]!==t[r]&&(e=!0)}),e}function $y(t,e){const r={removed:{},added:{}};return Object.keys(t).forEach(n=>{e[n]!==t[n]&&(r.removed[n]=t[n])}),Object.keys(e).forEach(n=>{t[n]!==e[n]&&(r.added[n]=e[n])}),r}function Dh(t){return t==="start"?wo:typeof t=="string"?My(t):t}function My(t){if(!Fy(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),r={};let n=8;for(let s=0;s<8;s++){const i=e[s].split("");let o=0;for(let a=0;a<i.length;a++)if(i[a].search(/[1-8]/)!==-1){const l=parseInt(i[a],10);o=o+l}else{const l=xi[o]+n;r[l]=Uy(i[a]),o=o+1}n=n-1}return r}function Fy(t){t=t.replace(/ .+$/,""),t=zy(t);const e=t.split("/");if(e.length!==8)return!1;for(let r=0;r<8;r++)if(e[r].length!==8||e[r].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function zy(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Uy(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const By=(t,e=!0,r,n)=>{const[s,i]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState();b.useEffect(()=>{Array.isArray(t)&&(d(),i(t==null?void 0:t.filter(m=>m[0]!==m[1])))},[t]),b.useEffect(()=>{r==null||r(o)},[o]);function d(){a([]),c(void 0)}const f=(m,x)=>{e&&c([m,x,n])},h=[...o,...s];return{arrows:h,newArrow:l,clearArrows:d,drawNewArrow:f,setArrows:a,onArrowDrawEnd:(m,x)=>{if(m===x||!e)return;let S;const v=[m,x,n];h.every(([y,w])=>!(y===m&&w===x))?S=[...o,v]:S=o.filter(([y,w])=>!(y===m&&w===x)),c(void 0),a(S)}}},sm=b.createContext({}),lr=()=>b.useContext(sm),Hy=b.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:n=!0,arePremovesAllowed:s=!1,autoPromoteToQueen:i=!1,boardOrientation:o="white",boardWidth:a,children:l,clearPremovesOnRightClick:c=!0,customArrows:d,customArrowColor:f="rgb(255,170,0)",customBoardStyle:h,customNotationStyle:p,customDarkSquareStyle:m={backgroundColor:"#B58863"},customDropSquareStyle:x={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:S={backgroundColor:"#F0D9B5"},customPieces:v,customPremoveDarkSquareStyle:g={backgroundColor:"#A42323"},customPremoveLightSquareStyle:y={backgroundColor:"#BD2828"},customSquare:w="div",customSquareStyles:E,dropOffBoardAction:O="snapback",id:T=0,isDraggablePiece:D=()=>!0,getPositionObject:J=()=>{},onArrowsChange:z=()=>{},onDragOverSquare:se=()=>{},onMouseOutSquare:ie=()=>{},onMouseOverSquare:me=()=>{},onPieceClick:be=()=>{},onPieceDragBegin:we=()=>{},onPieceDragEnd:ye=()=>{},onPieceDrop:Se=()=>!0,onPieceDropOffBoard:L=()=>{},onPromotionCheck:I=($e,Xe,mn)=>(mn==="wP"&&$e[1]==="7"&&Xe[1]==="8"||mn==="bP"&&$e[1]==="2"&&Xe[1]==="1")&&Math.abs($e.charCodeAt(0)-Xe.charCodeAt(0))<=1,onPromotionPieceSelect:M=()=>!0,onSparePieceDrop:X=()=>!0,onSquareClick:de=()=>{},onSquareRightClick:vt=()=>{},position:We="start",promotionDialogVariant:Ft="default",promotionToSquare:Ke=null,showBoardNotation:V=!0,showPromotionDialog:Tt=!1,snapToCursor:Qt=!0},Br)=>{const[$e,Xe]=b.useState(Dh(We)),[mn,Pa]=b.useState({removed:{},added:{}}),[vn,ur]=b.useState(void 0),[La,yn]=b.useState(Tt&&!i),[Da,Li]=b.useState(null),[Ra,ps]=b.useState(Ke),[gs,ms]=b.useState([]),zt=b.useRef(gs),[vs,Hr]=b.useState(),[Ia,Aa]=b.useState(Object.assign(Object.assign({},Ph),v)),[$a,xn]=b.useState(!1),wn=b.useRef(),[Sn,_n]=b.useState(!1),[Ma,Fa]=b.useState(null);b.useImperativeHandle(Br,()=>({clearPremoves(te=!0){kn(te)}})),b.useEffect(()=>{Aa(Object.assign(Object.assign({},Ph),v))},[v]),b.useEffect(()=>{yn(Tt),ps(Ke)},[Ke,Tt]),b.useEffect(()=>{var te,N,Ne;ws();const G=Dh(We),Ce=$y($e,G),lt=((te=Object.keys(Ce.added))===null||te===void 0?void 0:te.length)<=2?(Ne=(N=Object.entries(Ce.added))===null||N===void 0?void 0:N[0])===null||Ne===void 0?void 0:Ne[1][0]:void 0;if(Sn)Xe(G),_n(!1),s&&xs(lt),wn.current&&clearTimeout(wn.current);else if($a)Xe(G),_n(!1),s&&xs(lt);else{Lh(G)&&vn!==void 0?ur(lt):Lh(G)?ur(void 0):ur("b"),Pa(Ce),_n(!0);const Ze=setTimeout(()=>{Xe(G),_n(!1),s&&xs(lt)},e);wn.current=Ze}return xn(!1),J(G),ys(),()=>{clearTimeout(wn.current)}},[We]);const{arrows:Di,newArrow:za,clearArrows:ys,drawNewArrow:Ua,onArrowDrawEnd:Ba}=By(d,r,z,f);function Ha(te,N,Ne,G){if(te===N)return;if(ys(),s&&Sn||s&&(vn===Ne[0]||zt.current.filter(lt=>lt.piece[0]===Ne[0]).length>0)){const lt=[...zt.current];lt.push({sourceSq:te,targetSq:N,piece:Ne}),zt.current=lt,ms([...lt]),ws();return}if(!s&&Sn)return;const Ce=Object.assign({},$e);xn(!!G),ur(Ne[0]),Se.length?Se(te,N,Ne)||(kn(),xn(!1)):(delete Ce[te],Ce[N]=Ne,Xe(Ce)),ws(),J(Ce)}function Va(te){const N=Object.assign({},$e);delete N[te],Xe(N),J(N)}function xs(te){if(zt.current.length===0)return;const N=zt.current[0];if(N.piece[0]!==void 0&&N.piece[0]!==te&&Se.length)if(ur(N.piece[0]),xn(!0),Se(N.sourceSq,N.targetSq,N.piece)){const G=[...zt.current];G.shift(),zt.current=G,ms([...G])}else kn()}function Wa(te,N){if(!X(te,N))return;const G=Object.assign({},$e);G[N]=te,Xe(G),J(G)}function kn(te=!0){te&&ur(void 0),zt.current=[],ms([])}function ws(){Li(null),ps(null),yn(!1)}function Ka(te){Hr(te)}function k(te){if(vs){if(vs===te){Hr(void 0),c&&kn(!1),vt(te);return}}else Hr(void 0)}function cr(){Hr(void 0)}const at={allowDragOutsideBoard:t,animationDuration:e,arePiecesDraggable:n,arePremovesAllowed:s,arrows:Di,autoPromoteToQueen:i,boardOrientation:o,boardWidth:a,chessPieces:Ia,clearArrows:ys,clearCurrentRightClickDown:cr,currentPosition:$e,currentRightClickDown:vs,customArrowColor:f,customBoardStyle:h,customDarkSquareStyle:m,customDropSquareStyle:x,customLightSquareStyle:S,customNotationStyle:p,customPremoveDarkSquareStyle:g,customPremoveLightSquareStyle:y,customSquare:w,customSquareStyles:E,deletePieceFromSquare:Va,drawNewArrow:Ua,dropOffBoardAction:O,handleSetPosition:Ha,handleSparePieceDrop:Wa,id:T,isDraggablePiece:D,isWaitingForAnimation:Sn,lastPieceColour:vn,lastSquareDraggedOver:Ma,newArrow:za,onArrowDrawEnd:Ba,onDragOverSquare:se,onMouseOutSquare:ie,onMouseOverSquare:me,onPieceClick:be,onPieceDragBegin:we,onPieceDragEnd:ye,onPieceDrop:Se,onPieceDropOffBoard:L,onPromotionCheck:I,onPromotionPieceSelect:M,onRightClickDown:Ka,onRightClickUp:k,onSparePieceDrop:X,onSquareClick:de,positionDifferences:mn,premoves:gs,promoteFromSquare:Da,promoteToSquare:Ra,promotionDialogVariant:Ft,setLastSquareDraggedOver:Fa,setPromoteFromSquare:Li,setPromoteToSquare:ps,setShowPromoteDialog:yn,showBoardNotation:V,showPromoteDialog:La,snapToCursor:Qt};return u.jsx(sm.Provider,Object.assign({value:at},{children:l}))});function Vy({row:t,col:e}){const{boardOrientation:r,boardWidth:n,customDarkSquareStyle:s,customLightSquareStyle:i,customNotationStyle:o}=lr(),a=i.backgroundColor,l=s.backgroundColor,c=e===0,d=t===7,f=c&&d;function h(){return r==="white"?8-t:t+1}function p(){return r==="black"?xi[7-e]:xi[e]}function m(){return u.jsxs(u.Fragment,{children:[u.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),Ih(n,o))},{children:h()})),u.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),Rh(n,o))},{children:p()}))]})}function x(){return u.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?l:a}),Rh(n,o))},{children:p()}))}function S(){return u.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},r==="black"?{color:t%2===0?l:a}:{color:t%2===0?l:a}),Ih(n,o))},{children:h()}))}return f?m():d?x():c?S():null}const Rh=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),Ih=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e),im=b.createContext({dragDropManager:void 0});function yt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ah=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wl=function(){return Math.random().toString(36).substring(7).split("").join(".")},$h={INIT:"@@redux/INIT"+wl(),REPLACE:"@@redux/REPLACE"+wl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wl()}};function Wy(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function om(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(om)(t,e)}if(typeof t!="function")throw new Error(yt(2));var s=t,i=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(yt(3));return i}function f(x){if(typeof x!="function")throw new Error(yt(4));if(l)throw new Error(yt(5));var S=!0;return c(),a.push(x),function(){if(S){if(l)throw new Error(yt(6));S=!1,c();var g=a.indexOf(x);a.splice(g,1),o=null}}}function h(x){if(!Wy(x))throw new Error(yt(7));if(typeof x.type>"u")throw new Error(yt(8));if(l)throw new Error(yt(9));try{l=!0,i=s(i,x)}finally{l=!1}for(var S=o=a,v=0;v<S.length;v++){var g=S[v];g()}return x}function p(x){if(typeof x!="function")throw new Error(yt(10));s=x,h({type:$h.REPLACE})}function m(){var x,S=f;return x={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(yt(11));function y(){g.next&&g.next(d())}y();var w=S(y);return{unsubscribe:w}}},x[Ah]=function(){return this},x}return h({type:$h.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[Ah]=m,n}function W(t,e,...r){if(Ky()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Ky(){return typeof process<"u"&&!0}function qy(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function Gy(t,e){return t.filter(r=>r!==e)}function am(t){return typeof t=="object"}function Qy(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((i,o)=>{i===1&&s.push(o)}),s}function Jy(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Gc="dnd-core/INIT_COORDS",va="dnd-core/BEGIN_DRAG",Qc="dnd-core/PUBLISH_DRAG_SOURCE",ya="dnd-core/HOVER",xa="dnd-core/DROP",wa="dnd-core/END_DRAG";function Mh(t,e){return{type:Gc,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Yy={type:Gc,payload:{clientOffset:null,sourceClientOffset:null}};function Xy(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(Mh(i)),Zy(r,a,l);const c=rx(r,a);if(c==null){t.dispatch(Yy);return}let d=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");ex(o),d=o(c)}t.dispatch(Mh(i,d));const h=l.getSource(c).beginDrag(a,c);if(h==null)return;tx(h),l.pinSource(c);const p=l.getSourceType(c);return{type:va,payload:{itemType:p,item:h,sourceId:c,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function Zy(t,e,r){W(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){W(r.getSource(n),"Expected sourceIds to be registered.")})}function ex(t){W(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function tx(t){W(am(t),"Item must be an object.")}function rx(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function nx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){nx(t,s,r[s])})}return t}function ix(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();ox(n),ux(n).forEach((o,a)=>{const l=ax(o,a,s,n),c={type:xa,payload:{dropResult:sx({},r,l)}};t.dispatch(c)})}}function ox(t){W(t.isDragging(),"Cannot call drop while not dragging."),W(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function ax(t,e,r,n){const s=r.getTarget(t);let i=s?s.drop(n,t):void 0;return lx(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function lx(t){W(typeof t>"u"||am(t),"Drop result must either be an object or undefined.")}function ux(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function cx(t){return function(){const r=t.getMonitor(),n=t.getRegistry();dx(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:wa}}}function dx(t){W(t.isDragging(),"Cannot call endDrag while not dragging.")}function Iu(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function hx(t){return function(r,{clientOffset:n}={}){fx(r);const s=r.slice(0),i=t.getMonitor(),o=t.getRegistry(),a=i.getItemType();return gx(s,o,a),px(s,i,o),mx(s,i,o),{type:ya,payload:{targetIds:s,clientOffset:n||null}}}}function fx(t){W(Array.isArray(t),"Expected targetIds to be an array.")}function px(t,e,r){W(e.isDragging(),"Cannot call hover while not dragging."),W(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];W(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(s);W(i,"Expected targetIds to be registered.")}}function gx(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],i=e.getTargetType(s);Iu(i,r)||t.splice(n,1)}}function mx(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function vx(t){return function(){if(t.getMonitor().isDragging())return{type:Qc}}}function yx(t){return{beginDrag:Xy(t),publishDragSource:vx(t),hover:hx(t),drop:ix(t),endDrag:cx(t)}}class xx{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...o)=>{const a=i.apply(e,o);typeof a<"u"&&r(a)}}const s=yx(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=n(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function wx(t,e){return{x:t.x+e.x,y:t.y+e.y}}function lm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sx(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:lm(wx(e,n),r)}function _x(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:lm(e,r)}const Js=[],Jc=[];Js.__IS_NONE__=!0;Jc.__IS_ALL__=!0;function kx(t,e){return t===Js?!1:t===Jc||typeof e>"u"?!0:Jy(e,t).length>0}class bx{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;W(typeof e=="function","listener must be a function."),W(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!kx(o.dirtyHandlerIds,n)||e()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){W(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return W(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(W(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return Iu(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(W(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Iu(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Sx(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return _x(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Fh=typeof global<"u"?global:self,um=Fh.MutationObserver||Fh.WebKitMutationObserver;function cm(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function Cx(t){let e=1;const r=new um(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const jx=typeof um=="function"?Cx:cm;class Ex{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=jx(this.flush),this.requestErrorThrow=cm(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ox{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Nx{create(e){const r=this.freeTasks,n=r.length?r.pop():new Ox(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const dm=new Ex,Tx=new Nx(dm.registerPendingError);function Px(t){dm.enqueueTask(Tx.create(t))}const Yc="dnd-core/ADD_SOURCE",Xc="dnd-core/ADD_TARGET",Zc="dnd-core/REMOVE_SOURCE",Sa="dnd-core/REMOVE_TARGET";function Lx(t){return{type:Yc,payload:{sourceId:t}}}function Dx(t){return{type:Xc,payload:{targetId:t}}}function Rx(t){return{type:Zc,payload:{sourceId:t}}}function Ix(t){return{type:Sa,payload:{targetId:t}}}function Ax(t){W(typeof t.canDrag=="function","Expected canDrag to be a function."),W(typeof t.beginDrag=="function","Expected beginDrag to be a function."),W(typeof t.endDrag=="function","Expected endDrag to be a function.")}function $x(t){W(typeof t.canDrop=="function","Expected canDrop to be a function."),W(typeof t.hover=="function","Expected hover to be a function."),W(typeof t.drop=="function","Expected beginDrag to be a function.")}function Au(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Au(r,!1));return}W(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var _t;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(_t||(_t={}));let Mx=0;function Fx(){return Mx++}function zx(t){const e=Fx().toString();switch(t){case _t.SOURCE:return`S${e}`;case _t.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function zh(t){switch(t[0]){case"S":return _t.SOURCE;case"T":return _t.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Uh(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,i]}=r.next();if(i===e)return!0;n=!!s}while(!n);return!1}class Ux{addSource(e,r){Au(e),Ax(r);const n=this.addHandler(_t.SOURCE,e,r);return this.store.dispatch(Lx(n)),n}addTarget(e,r){Au(e,!0),$x(r);const n=this.addHandler(_t.TARGET,e,r);return this.store.dispatch(Dx(n)),n}containsHandler(e){return Uh(this.dragSources,e)||Uh(this.dropTargets,e)}getSource(e,r=!1){return W(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return W(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return W(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return W(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return zh(e)===_t.SOURCE}isTargetId(e){return zh(e)===_t.TARGET}removeSource(e){W(this.getSource(e),"Expected an existing source."),this.store.dispatch(Rx(e)),Px(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){W(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Ix(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);W(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){W(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=zx(e);return this.types.set(s,r),e===_t.SOURCE?this.dragSources.set(s,n):e===_t.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Bx=(t,e)=>t===e;function Hx(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Vx(t,e,r=Bx){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function Wx(t=Js,e){switch(e.type){case ya:break;case Yc:case Xc:case Sa:case Zc:return Js;case va:case Qc:case wa:case xa:default:return Jc}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=Qy(r,n);if(!(s.length>0||!Vx(r,n)))return Js;const o=n[n.length-1],a=r[r.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function Kx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Kx(t,s,r[s])})}return t}const Bh={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Gx(t=Bh,e){const{payload:r}=e;switch(e.type){case Gc:case va:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case ya:return Hx(t.clientOffset,r.clientOffset)?t:qx({},t,{clientOffset:r.clientOffset});case wa:case xa:return Bh;default:return t}}function Qx(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Qx(t,s,r[s])})}return t}const Jx={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Yx(t=Jx,e){const{payload:r}=e;switch(e.type){case va:return jn({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Qc:return jn({},t,{isSourcePublic:!0});case ya:return jn({},t,{targetIds:r.targetIds});case Sa:return t.targetIds.indexOf(r.targetId)===-1?t:jn({},t,{targetIds:Gy(t.targetIds,r.targetId)});case xa:return jn({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case wa:return jn({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Xx(t=0,e){switch(e.type){case Yc:case Xc:return t+1;case Zc:case Sa:return t-1;default:return t}}function Zx(t=0){return t+1}function ew(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){ew(t,s,r[s])})}return t}function rw(t={},e){return{dirtyHandlerIds:Wx(t.dirtyHandlerIds,{type:e.type,payload:tw({},e.payload,{prevTargetIds:qy(t,"dragOperation.targetIds",[])})}),dragOffset:Gx(t.dragOffset,e),refCount:Xx(t.refCount,e),dragOperation:Yx(t.dragOperation,e),stateId:Zx(t.stateId)}}function nw(t,e=void 0,r={},n=!1){const s=sw(n),i=new bx(s,new Ux(s)),o=new xx(s,i),a=t(o,e,r);return o.receiveBackend(a),o}function sw(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return om(rw,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function iw(t,e){if(t==null)return{};var r=ow(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ow(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let Hh=0;const So=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var aw=b.memo(function(e){var{children:r}=e,n=iw(e,["children"]);const[s,i]=lw(n);return b.useEffect(()=>{if(i){const o=hm();return++Hh,()=>{--Hh===0&&(o[So]=null)}}},[]),u.jsx(im.Provider,{value:s,children:r})});function lw(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=uw(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function uw(t,e=hm(),r,n){const s=e;return s[So]||(s[So]={dragDropManager:nw(t,e,r,n)}),s[So]}function hm(){return typeof global<"u"?global:window}var cw=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const cn=typeof window<"u"?b.useLayoutEffect:b.useEffect;function fm(t,e,r){const[n,s]=b.useState(()=>e(t)),i=b.useCallback(()=>{const o=e(t);cw(n,o)||(s(o),r&&r())},[n,t,r]);return cn(i),[n,i]}function dw(t,e,r){const[n,s]=fm(t,e,r);return cn(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(s,{handlerIds:[o]})},[t,s]),n}function pm(t,e,r){return dw(e,t||(()=>({})),()=>r.reconnect())}function gm(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),b.useMemo(()=>typeof t=="function"?t():t,r)}function hw(t){return b.useMemo(()=>t.hooks.dragSource(),[t])}function fw(t){return b.useMemo(()=>t.hooks.dragPreview(),[t])}let Sl=!1,_l=!1;class pw{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){W(!Sl,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Sl=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Sl=!1}}isDragging(){if(!this.sourceId)return!1;W(!_l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return _l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{_l=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let kl=!1;class gw{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;W(!kl,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return kl=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{kl=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function mw(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function vw(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function $u(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<i.length;l++){const c=i[l];if(!a(c))return!1;const d=t[c],f=e[c];if(s=void 0,s===!1||s===void 0&&d!==f)return!1}return!0}function Mu(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yw(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function xw(t){return(e=null,r=null)=>{if(!b.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return yw(n),ww(n,r?i=>t(i,r):t)}}function mm(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=xw(n);e[r]=()=>s}}),e}function Vh(t,e){typeof t=="function"?t(e):t.current=e}function ww(t,e){const r=t.ref;return W(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?b.cloneElement(t,{ref:n=>{Vh(r,n),Vh(e,n)}}):b.cloneElement(t,{ref:e})}class Sw{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!$u(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!$u(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=mm({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Mu(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Mu(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class _w{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!$u(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=mm({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Mu(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function pn(){const{dragDropManager:t}=b.useContext(im);return W(t!=null,"Expected drag drop context"),t}function kw(t,e){const r=pn(),n=b.useMemo(()=>new Sw(r.getBackend()),[r]);return cn(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),cn(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function bw(){const t=pn();return b.useMemo(()=>new pw(t),[t])}class Cw{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:i}=n;return i?i(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function jw(t,e,r){const n=b.useMemo(()=>new Cw(t,e,r),[e,r]);return b.useEffect(()=>{n.spec=t},[t]),n}function Ew(t){return b.useMemo(()=>{const e=t.type;return W(e!=null,"spec.type must be defined"),e},[t])}function Ow(t,e,r){const n=pn(),s=jw(t,e,r),i=Ew(t);cn(function(){if(i!=null){const[a,l]=vw(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l}},[n,e,r,s,i])}function Nw(t,e){const r=gm(t,e);W(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=bw(),s=kw(r.options,r.previewOptions);return Ow(r,n,s),[pm(r.collect,n,s),hw(s),fw(s)]}function Tw(t){const r=pn().getMonitor(),[n,s]=fm(r,t);return b.useEffect(()=>r.subscribeToOffsetChange(s)),b.useEffect(()=>r.subscribeToStateChange(s)),n}function Pw(t){return b.useMemo(()=>t.hooks.dropTarget(),[t])}function Lw(t){const e=pn(),r=b.useMemo(()=>new _w(e.getBackend()),[e]);return cn(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function Dw(){const t=pn();return b.useMemo(()=>new gw(t),[t])}function Rw(t){const{accept:e}=t;return b.useMemo(()=>(W(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Iw{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function Aw(t,e){const r=b.useMemo(()=>new Iw(t,e),[e]);return b.useEffect(()=>{r.spec=t},[t]),r}function $w(t,e,r){const n=pn(),s=Aw(t,e),i=Rw(t);cn(function(){const[a,l]=mw(i,s,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l},[n,e,s,r,i.map(o=>o.toString()).join("|")])}function Mw(t,e){const r=gm(t,e),n=Dw(),s=Lw(r.options);return $w(r,n,s),[pm(r.collect,n,s),Pw(s)]}function vm(t){let e=null;return()=>(e==null&&(e=t()),e)}function Fw(t,e){return t.filter(r=>r!==e)}function zw(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const s=[];return r.forEach(i=>s.push(i)),s}class Uw{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=zw(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Fw(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Bw{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const ym="__NATIVE_FILE__",xm="__NATIVE_URL__",wm="__NATIVE_TEXT__",Sm="__NATIVE_HTML__";var Wh=Object.freeze({__proto__:null,FILE:ym,HTML:Sm,TEXT:wm,URL:xm});function bl(t,e,r){const n=e.reduce((s,i)=>s||t.getData(i),"");return n??r}const Fu={[ym]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Sm]:{exposeProperties:{html:(t,e)=>bl(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[xm]:{exposeProperties:{urls:(t,e)=>bl(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[wm]:{exposeProperties:{text:(t,e)=>bl(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Hw(t,e){const r=Fu[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Bw(r);return n.loadDataTransfer(e),n}function Cl(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Fu).filter(r=>{const n=Fu[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const Vw=vm(()=>/firefox/i.test(navigator.userAgent)),_m=vm(()=>!!window.safari);class Kh{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:i,c3s:o}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,c=o.length-1,d;for(;l<=c;){d=Math.floor(.5*(l+c));const p=r[d];if(p<e)l=d+1;else if(p>e)c=d-1;else return n[d]}a=Math.max(0,c);const f=e-r[a],h=f*f;return n[a]+s[a]*f+i[a]*h+o[a]*f*h}constructor(e,r){const{length:n}=e,s=[];for(let p=0;p<n;p++)s.push(p);s.sort((p,m)=>e[p]<e[m]?-1:1);const i=[],o=[];let a,l;for(let p=0;p<n-1;p++)a=e[p+1]-e[p],l=r[p+1]-r[p],i.push(a),o.push(l/a);const c=[o[0]];for(let p=0;p<i.length-1;p++){const m=o[p],x=o[p+1];if(m*x<=0)c.push(0);else{a=i[p];const S=i[p+1],v=a+S;c.push(3*v/((v+S)/m+(v+a)/x))}}c.push(o[o.length-1]);const d=[],f=[];let h;for(let p=0;p<c.length-1;p++){h=o[p];const m=c[p],x=1/i[p],S=m+c[p+1]-h-h;d.push((h-m-S)*x),f.push(S*x*x)}this.xs=e,this.ys=r,this.c1s=c,this.c2s=d,this.c3s=f}}const Ww=1;function km(t){const e=t.nodeType===Ww?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function Xi(t){return{x:t.clientX,y:t.clientY}}function Kw(t){var e;return t.nodeName==="IMG"&&(Vw()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function qw(t,e,r,n){let s=t?e.width:r,i=t?e.height:n;return _m()&&t&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function Gw(t,e,r,n,s){const i=Kw(e),a=km(i?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:c,offsetHeight:d}=t,{anchorX:f,anchorY:h}=n,{dragPreviewWidth:p,dragPreviewHeight:m}=qw(i,e,c,d),x=()=>{let O=new Kh([0,.5,1],[l.y,l.y/d*m,l.y+m-d]).interpolate(h);return _m()&&i&&(O+=(window.devicePixelRatio-1)*m),O},S=()=>new Kh([0,.5,1],[l.x,l.x/c*p,l.x+p-c]).interpolate(f),{offsetX:v,offsetY:g}=s,y=v===0||v,w=g===0||g;return{x:y?v:S(),y:w?g:x()}}let Qw=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function Jw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Jw(t,s,r[s])})}return t}class Yw{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=o=>this.handleDragStart(o,e),i=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),s=o=>this.handleDragOver(o,e),i=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return qh({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return qh({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Wh).some(r=>Wh[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Hw(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&km(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=Xi(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,l=Cl(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||f;if(h){const{anchorX:p,anchorY:m,offsetX:x,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),y=Gw(f,h,o,{anchorX:p,anchorY:m},{offsetX:x,offsetY:S});a.setDragImage(h,y.x,y.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,l=Cl(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Xi(s)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Xi(s),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else Cl(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Xi(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new Qw(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Uw(this.isNodeInDocument)}}let Zi;function Xw(){return Zi||(Zi=new Image,Zi.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Zi}const Zw=function(e,r,n){return new Yw(e,r,n)};function Gh({isPremovedPiece:t=!1,piece:e,square:r,squares:n}){const{animationDuration:s,arePiecesDraggable:i,boardWidth:o,boardOrientation:a,chessPieces:l,currentPosition:c,deletePieceFromSquare:d,dropOffBoardAction:f,id:h,isDraggablePiece:p,isWaitingForAnimation:m,onPieceClick:x,onPieceDragBegin:S,onPieceDragEnd:v,onPieceDropOffBoard:g,onPromotionCheck:y,positionDifferences:w}=lr(),[E,O]=b.useState({opacity:1,zIndex:5,touchAction:"none",cursor:i&&p({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:T,isDragging:D},J,z]=Nw(()=>({type:"piece",item:()=>(S(e,r),{piece:e,square:r,id:h}),end:(ie,me)=>{v(e,r),!me.didDrop()&&(f==="trash"&&d(r),g==null||g(r,e))},collect:ie=>({canDrag:p({piece:e,sourceSquare:r}),isDragging:!!ie.isDragging()})}),[e,r,c,h]);z(Xw(),{captureDraggingState:!0}),b.useEffect(()=>{O(ie=>Object.assign(Object.assign({},ie),{opacity:D?0:1}))},[D]),b.useEffect(()=>{var ie;const me=(ie=w.removed)===null||ie===void 0?void 0:ie[r];if(!w.added||!me)return;const be=Object.entries(w.added).find(([we,ye])=>ye===me||y(r,we,me));if(m&&me&&be&&!t){const we=r,ye=be[0];if(we&&ye){const Se=o/8;O(L=>Object.assign(Object.assign({},L),{transform:`translate(${(a==="black"?-1:1)*(ye.charCodeAt(0)-we.charCodeAt(0))*Se}px, ${(a==="black"?-1:1)*(Number(we[1])-Number(ye[1]))*Se}px)`,transition:`transform ${s}ms`,zIndex:6}))}}},[w]),b.useEffect(()=>{const{sourceSq:ie}=se();ie&&O(me=>Object.assign(Object.assign({},me),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[c]),b.useEffect(()=>{O(ie=>Object.assign(Object.assign({},ie),{cursor:i&&p({piece:e,sourceSquare:r})?"-webkit-grab":"default"}))},[r,c,i]);function se(){return{sourceSq:n[r]}}return u.jsx("div",Object.assign({ref:i&&T?J:null,onClick:()=>x(e,r),"data-piece":e,style:E},{children:typeof l[e]=="function"?l[e]({squareWidth:o/8,isDragging:D,square:r}):u.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:o/8,height:o/8,style:{display:"block"}},{children:u.jsx("g",{children:l[e]})}))}))}function e2({square:t,squareColor:e,setSquares:r,squareHasPremove:n,children:s}){const i=b.useRef(null),{autoPromoteToQueen:o,boardWidth:a,boardOrientation:l,clearArrows:c,currentPosition:d,currentRightClickDown:f,customBoardStyle:h,customDarkSquareStyle:p,customDropSquareStyle:m,customLightSquareStyle:x,customPremoveDarkSquareStyle:S,customPremoveLightSquareStyle:v,customSquare:g,customSquareStyles:y,drawNewArrow:w,handleSetPosition:E,handleSparePieceDrop:O,isWaitingForAnimation:T,lastPieceColour:D,lastSquareDraggedOver:J,onArrowDrawEnd:z,onDragOverSquare:se,onMouseOutSquare:ie,onMouseOverSquare:me,onPieceDrop:be,onPromotionCheck:we,onRightClickDown:ye,onRightClickUp:Se,onSquareClick:L,setLastSquareDraggedOver:I,setPromoteFromSquare:M,setPromoteToSquare:X,setShowPromoteDialog:de}=lr(),[{isOver:vt},We]=Mw(()=>({accept:"piece",drop:Ft,collect:V=>({isOver:!!V.isOver()})}),[t,d,be,T,D]);function Ft(V){if(V.isSpare){O(V.piece,t);return}we(V.square,t,V.piece)?o?E(V.square,t,V.piece[0]==="w"?"wQ":"bQ"):(M(V.square),X(t),de(!0)):E(V.square,t,V.piece,!0)}b.useEffect(()=>{if(i.current){const{x:V,y:Tt}=i.current.getBoundingClientRect();r(Qt=>Object.assign(Object.assign({},Qt),{[t]:{x:V,y:Tt}}))}},[a,l]);const Ke=Object.assign(Object.assign(Object.assign(Object.assign({},t2(t,l,h)),e==="black"?p:x),n&&(e==="black"?S:v)),vt&&m);return u.jsx("div",Object.assign({ref:We,style:Ke,"data-square-color":e,"data-square":t,onTouchMove:V=>{var Tt;const Qt=V.touches[0],Br=document.elementsFromPoint(Qt.clientX,Qt.clientY),$e=(Tt=Br==null?void 0:Br.find(Xe=>Xe.getAttribute("data-square")))===null||Tt===void 0?void 0:Tt.getAttribute("data-square");$e&&$e!==J&&(I($e),se($e))},onMouseOver:V=>{V.buttons===2&&f&&w(f,t),!(V.relatedTarget&&V.currentTarget.contains(V.relatedTarget))&&me(t)},onMouseOut:V=>{V.relatedTarget&&V.currentTarget.contains(V.relatedTarget)||ie(t)},onMouseDown:V=>{V.button===2&&ye(t)},onMouseUp:V=>{V.button===2&&(f&&z(f,t),Se(t))},onDragEnter:()=>se(t),onClick:()=>{const V=d[t];L(t,V),c()},onContextMenu:V=>{V.preventDefault()}},{children:typeof g=="string"?u.jsx(g,Object.assign({ref:i,style:Object.assign(Object.assign(Object.assign({},Jh(a)),Qh),!n&&(y==null?void 0:y[t]))},{children:s})):u.jsx(g,Object.assign({ref:i,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},Jh(a)),Qh),!n&&(y==null?void 0:y[t]))},{children:s}))}))}const Qh={display:"flex",justifyContent:"center"},Jh=t=>({width:t/8,height:t/8}),t2=(t,e,r)=>r!=null&&r.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function r2(){const[t,e]=b.useState({}),{arePremovesAllowed:r,boardOrientation:n,boardWidth:s,currentPosition:i,id:o,premoves:a,showBoardNotation:l}=lr(),c=b.useMemo(()=>{const d=[];return r?(a.forEach((f,h)=>{const{sourceSq:p,targetSq:m,piece:x}=f,S=d.find(v=>{var g;return v.piece===x&&((g=v.premovesRoute.at(-1))===null||g===void 0?void 0:g.targetSq)===p});S?S.premovesRoute.push({sourceSq:p,targetSq:m,index:h}):d.push({piece:x,premovesRoute:[{sourceSq:p,targetSq:m,index:h}]})}),d):[]},[a]);return u.jsx("div",Object.assign({"data-boardid":o},{children:[...Array(8)].map((d,f)=>u.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map((h,p)=>{const m=n==="black"?xi[7-p]+(f+1):xi[p]+(8-f),x=p%2===f%2?"white":"black",S=a.find(g=>g.sourceSq===m||g.targetSq===m),v=c.filter(({premovesRoute:g})=>{var y;return((y=g.at(-1))===null||y===void 0?void 0:y.targetSq)===m}).sort((g,y)=>{var w,E;return((w=y.premovesRoute.at(-1))===null||w===void 0?void 0:w.index)-((E=g.premovesRoute.at(-1))===null||E===void 0?void 0:E.index)}).at(0);return u.jsxs(e2,Object.assign({square:m,squareColor:x,setSquares:e,squareHasPremove:!!S},{children:[!S&&i[m]&&u.jsx(Gh,{piece:i[m],square:m,squares:t}),v&&u.jsx(Gh,{isPremovedPiece:!0,piece:v.piece,square:m,squares:t}),l&&u.jsx(Vy,{row:f,col:p})]}),`${p}${f}`)})}),f.toString()))}))}const n2=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:n,customArrowColor:s}=lr(),i=[...t,e].filter(Boolean);return u.jsx("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:i.map((o,a)=>{const[l,c,d]=o;if(l===c)return null;const f=Ru(r,n,l),h=Ru(r,n,c);let p=n/32;const m=a===t.length;t.some(y=>y[0]!==l&&y[1]===c)&&!m&&(p=n/16);const x=h.x-f.x,S=h.y-f.y,v=Math.hypot(S,x),g={x:f.x+x*(v-p)/v,y:f.y+S*(v-p)/v};return u.jsxs(b.Fragment,{children:[u.jsx("marker",Object.assign({id:`arrowhead-${a}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:u.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:d??s})})),u.jsx("line",{x1:f.x,y1:f.y,x2:g.x,y2:g.y,opacity:m?"0.5":"0.65",stroke:d??s,strokeWidth:m?.9*n/40:n/40,markerEnd:`url(#arrowhead-${a})`})]},`${l}-${c}${m?"-active":""}`)})}))};function s2({option:t}){const[e,r]=b.useState(!1),{boardWidth:n,chessPieces:s,customDarkSquareStyle:i,customLightSquareStyle:o,handleSetPosition:a,onPromotionPieceSelect:l,promoteFromSquare:c,promoteToSquare:d,promotionDialogVariant:f}=lr(),h=()=>{switch(t[1]){case"Q":return i.backgroundColor;case"R":return o.backgroundColor;case"N":return f==="default"?o.backgroundColor:i.backgroundColor;case"B":return f==="default"?i.backgroundColor:o.backgroundColor}};return u.jsx("div",Object.assign({onClick:()=>{l(t,c??void 0,d??void 0)&&a(c,d,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?h():`${h()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof s[t]=="function"?u.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:s[t]({squareWidth:n/8,isDragging:!1})})):u.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:u.jsx("g",{children:s[t]})}))}))}function i2(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:n}=lr(),s=(n==null?void 0:n[1])==="1"?"b":"w",i=[`${s??"w"}Q`,`${s??"w"}R`,`${s??"w"}N`,`${s??"w"}B`],o={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},a=Ru(t,e,n||"a8");return u.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${a==null?void 0:a.y}px`,left:`${a==null?void 0:a.x}px`,zIndex:1e3},o[r]),title:"Choose promotion piece"},{children:i.map(l=>u.jsx(s2,{option:l},l))}))}const o2={whiteKing:u.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:u.jsx("g",{children:u.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function a2({children:t}){try{return u.jsx(u.Fragment,{children:t})}catch(e){return console.log(e),u.jsx(bm,{showError:!0})}}function bm({showError:t=!1}){return u.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[u.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:o2.whiteKing})),t&&u.jsx("h1",{children:"Something went wrong"})]}))}function l2(){const t=b.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:n,setShowPromoteDialog:s,showPromoteDialog:i,customBoardStyle:o}=lr();return b.useEffect(()=>{function a(l){t.current&&!t.current.contains(l.target)&&r()}return document.addEventListener("mouseup",a),()=>{document.removeEventListener("mouseup",a)}},[]),e?u.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:u.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},u2(e)),o)},{children:[u.jsx(r2,{}),u.jsx(n2,{}),i&&u.jsxs(u.Fragment,{children:[u.jsx("div",{onClick:()=>{s(!1),n==null||n()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),u.jsx(i2,{})]})]}))})):u.jsx(bm,{})}const u2=t=>({cursor:"default",height:t,width:t});var Dr;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Dr||(Dr={}));class c2{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var e,r,n,s;return(s=(n=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}function d2(t,e,r,n){return Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(n-e),2))}function h2(t,e,r,n,s){if(!s)return!1;const i=Math.atan2(n-e,r-t)*180/Math.PI+180;for(let o=0;o<s.length;++o){const a=s[o];if(a&&(a.start==null||i>=a.start)&&(a.end==null||i<=a.end))return!0}return!1}const f2={Left:1,Right:2,Center:4},p2={Left:0,Center:1,Right:2};function jl(t){return t.button===void 0||t.button===p2.Left}function g2(t){return t.buttons===void 0||(t.buttons&f2.Left)===0}function Cm(t){return!!t.targetTouches}const m2=1;function v2(t){const e=t.nodeType===m2?t:t.parentElement;if(!e)return;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function y2(t,e){if(t.targetTouches.length===1)return Qo(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return Qo(t.touches[0])}function Qo(t,e){return Cm(t)?y2(t,e):{x:t.clientX,y:t.clientY}}const Yh=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),Ns={[Dr.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Dr.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Dr.keyboard]:{keydown:"keydown"}};class Ys{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(W(!Ys.isSetUp,"Cannot have two Touch backends at the same time."),Ys.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Ys.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,n,s=!1){const i=Yh?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Ns[o][r];a&&e.addEventListener(a,n,i)})}removeEventListener(e,r,n,s=!1){const i=Yh?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Ns[o][r];a&&e.removeEventListener(a,n,i)})}connectDragSource(e,r){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",n)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const s=i=>{if(!this.document||!n||!this.monitor.isDragging())return;let o;switch(i.type){case Ns.mouse.move:o={x:i.clientX,y:i.clientY};break;case Ns.touch.move:var a,l;o={x:((a=i.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((l=i.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const c=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,d=c&&r.contains(c);if(c===r||d)return this.handleMove(i,e)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,n){this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&v2(i)},this.handleTopMoveStartCapture=s=>{jl(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!jl(s))return;const i=Qo(s);i&&(Cm(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!jl(s))return;const i=s.type===Ns.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:o}=this,a=this.options.enableHoverOutsideTarget,l=Qo(s,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&h2(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&d2(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const c=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(c),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const d=(o||[]).map(m=>this.targetNodes.get(m)).filter(m=>!!m),f=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,d):this.document.elementsFromPoint(l.x,l.y),h=[];for(const m in f){if(!f.hasOwnProperty(m))continue;let x=f[m];for(x!=null&&h.push(x);x;)x=x.parentElement,x&&h.indexOf(x)===-1&&h.push(x)}const p=h.filter(m=>d.indexOf(m)>-1).map(m=>this._getDropTargetId(m)).filter(m=>!!m).filter((m,x,S)=>S.indexOf(m)===x);if(a)for(const m in this.targetNodes){const x=this.targetNodes.get(m);if(c&&x&&x.contains(c)&&p.indexOf(m)===-1){p.unshift(m);break}}p.reverse(),this.actions.hover(p,{clientOffset:l})},this._getDropTargetId=s=>{const i=this.targetNodes.keys();let o=i.next();for(;o.done===!1;){const a=o.value;if(s===this.targetNodes.get(a))return a;o=i.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!g2(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new c2(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Dr.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Dr.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Dr.keyboard)}}const x2=function(e,r={},n={}){return new Ys(e,r,n)},w2=b.createContext({isCustomDndProviderSet:!1}),S2=({children:t})=>u.jsx(u.Fragment,{children:t}),_2=({customDndBackend:t,customDndBackendOptions:e,children:r})=>{const[n,s]=b.useState(),[i,o]=b.useState(!1),[a,l]=b.useState(!1),{isCustomDndProviderSet:c}=b.useContext(w2);b.useEffect(()=>{l("ontouchstart"in window),o(!0),s(window)},[]);const d=c?S2:aw;return i?n?u.jsx(d,Object.assign({backend:t||(a?x2:Zw),context:n,options:t?e:void 0},{children:r})):u.jsx(u.Fragment,{children:r}):null};function k2({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:n,snapToCursor:s,allowDragOutsideBoard:i}=lr(),o=Tw(h=>({item:h.getItem(),clientOffset:h.getClientOffset(),sourceClientOffset:h.getSourceClientOffset(),isDragging:h.isDragging()})),{isDragging:a,item:l,clientOffset:c,sourceClientOffset:d}=o,f=b.useCallback((h,p)=>{if(!h||!p)return{display:"none"};let{x:m,y:x}=s?h:p;const S=e/8/2;if(s&&(m-=S,x-=S),!i){const{left:g,top:y}=t,w=g-S,E=y-S,O=g+e-S,T=y+e-S;m=Math.max(w,Math.min(m,O)),x=Math.max(E,Math.min(x,T))}const v=`translate(${m}px, ${x}px)`;return{transform:v,WebkitTransform:v,touchAction:"none"}},[e,i,s,t]);return a&&l.id===n?u.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:u.jsx("div",Object.assign({style:f(c,d)},{children:typeof r[l.piece]=="function"?r[l.piece]({squareWidth:e/8,isDragging:!0}):u.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:u.jsx("g",{children:r[l.piece]})}))}))})):null}const b2=b.forwardRef((t,e)=>{const{customDndBackend:r,customDndBackendOptions:n,onBoardWidthChange:s}=t,i=Ly(t,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[o,a]=b.useState(t.boardWidth),l=b.useRef(null),c=b.useRef(null),[d,f]=b.useState({left:0,top:0}),h=b.useMemo(()=>{var p;return(p=l.current)===null||p===void 0?void 0:p.getBoundingClientRect()},[l.current]);return b.useEffect(()=>{o&&(s==null||s(o))},[o]),b.useEffect(()=>{f({left:h!=null&&h.left?h==null?void 0:h.left:0,top:h!=null&&h.top?h==null?void 0:h.top:0})},[h]),b.useEffect(()=>{var p;if(t.boardWidth===void 0&&(!((p=l.current)===null||p===void 0)&&p.offsetWidth)){const m=new ResizeObserver(()=>{var x;a((x=l.current)===null||x===void 0?void 0:x.offsetWidth)});return m.observe(l.current),()=>{m.disconnect()}}},[l.current]),u.jsx(a2,{children:u.jsxs("div",Object.assign({ref:c,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[u.jsx("div",{ref:l,style:{width:"100%"}}),u.jsx(_2,Object.assign({customDndBackend:r,customDndBackendOptions:n},{children:o&&u.jsxs(Hy,Object.assign({boardWidth:o},i,{ref:e},{children:[u.jsx(k2,{boardContainer:d}),u.jsx(l2,{})]}))}))]}))})});function C2(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function j2(t,e,r,n,s){const i={move:t,variations:s};return e&&(i.suffix=e),r&&(i.nag=r),n!==null&&(i.comment=n),i}function E2(...t){const[e,...r]=t;let n=e;for(const s of r)s!==null&&(n.variations=[s,...s.variations],s.variations=[],n=s);return e}function O2(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const n=r.variations[0];if(!n){r.comment=e.marker.comment;break}r=n}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function N2(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function dn(t,e,r,n){var s=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(s,dn.prototype),s.expected=e,s.found=r,s.location=n,s.name="SyntaxError",s}N2(dn,Error);function El(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}dn.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,n;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,o=this.location.source+":"+i.line+":"+i.column;if(r){var a=this.location.end,l=El("",i.line.toString().length," "),c=r[s.line-1],d=s.line===a.line?a.column:c.length+1,f=d-s.column||1;e+=`
 --> `+o+`
`+l+` |
`+i.line+" | "+c+`
`+l+" | "+El("",s.column-1," ")+El("",f,"^")}else e+=`
 at `+o}return e};dn.buildMessage=function(t,e){var r={literal:function(c){return'"'+s(c.text)+'"'},class:function(c){var d=c.parts.map(function(f){return Array.isArray(f)?i(f[0])+"-"+i(f[1]):i(f)});return"["+(c.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function n(c){return c.charCodeAt(0).toString(16).toUpperCase()}function s(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function i(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+n(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+n(d)})}function o(c){return r[c.type](c)}function a(c){var d=c.map(o),f,h;if(d.sort(),d.length>0){for(f=1,h=1;f<d.length;f++)d[f-1]!==d[f]&&(d[h]=d[f],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function l(c){return c?'"'+s(c)+'"':"end of input"}return"Expected "+a(t)+" but "+l(e)+" found."};function T2(t,e){e=e!==void 0?e:{};var r={},n=e.grammarSource,s={pgn:ad},i=ad,o="[",a='"',l="]",c=".",d="O-O-O",f="O-O",h="0-0-0",p="0-0",m="$",x="{",S="}",v=";",g="(",y=")",w="1-0",E="0-1",O="1/2-1/2",T="*",D=/^[a-zA-Z]/,J=/^[^"]/,z=/^[0-9]/,se=/^[.]/,ie=/^[a-zA-Z1-8\-=]/,me=/^[+#]/,be=/^[!?]/,we=/^[^}]/,ye=/^[^\r\n]/,Se=/^[ \t\r\n]/,L=Ze("tag pair"),I=G("[",!1),M=G('"',!1),X=G("]",!1),de=Ze("tag name"),vt=Ce([["a","z"],["A","Z"]],!1,!1),We=Ze("tag value"),Ft=Ce(['"'],!0,!1),Ke=Ze("move number"),V=Ce([["0","9"]],!1,!1),Tt=G(".",!1),Qt=Ce(["."],!1,!1),Br=Ze("standard algebraic notation"),$e=G("O-O-O",!1),Xe=G("O-O",!1),mn=G("0-0-0",!1),Pa=G("0-0",!1),vn=Ce([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),ur=Ce(["+","#"],!1,!1),La=Ze("suffix annotation"),yn=Ce(["!","?"],!1,!1),Da=Ze("NAG"),Li=G("$",!1),Ra=Ze("brace comment"),ps=G("{",!1),gs=Ce(["}"],!0,!1),ms=G("}",!1),zt=Ze("rest of line comment"),vs=G(";",!1),Hr=Ce(["\r",`
`],!0,!1),Ia=Ze("variation"),Aa=G("(",!1),$a=G(")",!1),xn=Ze("game termination marker"),wn=G("1-0",!1),Sn=G("0-1",!1),_n=G("1/2-1/2",!1),Ma=G("*",!1),Fa=Ze("whitespace"),Di=Ce([" ","	","\r",`
`],!1,!1),za=function(_,C){return O2(_,C)},ys=function(_){return Object.fromEntries(_)},Ua=function(_,C){return[_,C]},Ba=function(_,C){return{root:_,marker:C}},Ha=function(_,C){return E2(C2(_),...C.flat())},Va=function(_,C,j,$,F){return j2(_,C,j,$,F)},xs=function(_){return _},Wa=function(_){return _.replace(/[\r\n]+/g," ")},kn=function(_){return _.trim()},ws=function(_){return _},Ka=function(_,C){return{result:_,comment:C}},k=e.peg$currPos|0,cr=[{line:1,column:1}],at=k,te=e.peg$maxFailExpected||[],N=e.peg$silentFails|0,Ne;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=s[e.startRule]}function G(_,C){return{type:"literal",text:_,ignoreCase:C}}function Ce(_,C,j){return{type:"class",parts:_,inverted:C,ignoreCase:j}}function lt(){return{type:"end"}}function Ze(_){return{type:"other",description:_}}function id(_){var C=cr[_],j;if(C)return C;if(_>=cr.length)j=cr.length-1;else for(j=_;!cr[--j];);for(C=cr[j],C={line:C.line,column:C.column};j<_;)t.charCodeAt(j)===10?(C.line++,C.column=1):C.column++,j++;return cr[_]=C,C}function od(_,C,j){var $=id(_),F=id(C),re={source:n,start:{offset:_,line:$.line,column:$.column},end:{offset:C,line:F.line,column:F.column}};return re}function A(_){k<at||(k>at&&(at=k,te=[]),te.push(_))}function o0(_,C,j){return new dn(dn.buildMessage(_,C),_,C,j)}function ad(){var _,C,j;return _=k,C=a0(),j=c0(),_=za(C,j),_}function a0(){var _,C,j;for(_=k,C=[],j=ld();j!==r;)C.push(j),j=ld();return j=qe(),_=ys(C),_}function ld(){var _,C,j,$,F,re,Vr;return N++,_=k,qe(),t.charCodeAt(k)===91?(C=o,k++):(C=r,N===0&&A(I)),C!==r?(qe(),j=l0(),j!==r?(qe(),t.charCodeAt(k)===34?($=a,k++):($=r,N===0&&A(M)),$!==r?(F=u0(),t.charCodeAt(k)===34?(re=a,k++):(re=r,N===0&&A(M)),re!==r?(qe(),t.charCodeAt(k)===93?(Vr=l,k++):(Vr=r,N===0&&A(X)),Vr!==r?_=Ua(j,F):(k=_,_=r)):(k=_,_=r)):(k=_,_=r)):(k=_,_=r)):(k=_,_=r),N--,_===r&&N===0&&A(L),_}function l0(){var _,C,j;if(N++,_=k,C=[],j=t.charAt(k),D.test(j)?k++:(j=r,N===0&&A(vt)),j!==r)for(;j!==r;)C.push(j),j=t.charAt(k),D.test(j)?k++:(j=r,N===0&&A(vt));else C=r;return C!==r?_=t.substring(_,k):_=C,N--,_===r&&(C=r,N===0&&A(de)),_}function u0(){var _,C,j;for(N++,_=k,C=[],j=t.charAt(k),J.test(j)?k++:(j=r,N===0&&A(Ft));j!==r;)C.push(j),j=t.charAt(k),J.test(j)?k++:(j=r,N===0&&A(Ft));return _=t.substring(_,k),N--,C=r,N===0&&A(We),_}function c0(){var _,C,j;return _=k,C=ud(),qe(),j=m0(),j===r&&(j=null),qe(),_=Ba(C,j),_}function ud(){var _,C,j,$;for(_=k,C=qa(),C===r&&(C=null),j=[],$=cd();$!==r;)j.push($),$=cd();return _=Ha(C,j),_}function cd(){var _,C,j,$,F,re,Vr,Ri;if(_=k,qe(),d0(),qe(),C=h0(),C!==r){for(j=f0(),j===r&&(j=null),$=[],F=dd();F!==r;)$.push(F),F=dd();for(F=qe(),re=qa(),re===r&&(re=null),Vr=[],Ri=hd();Ri!==r;)Vr.push(Ri),Ri=hd();_=Va(C,j,$,re,Vr)}else k=_,_=r;return _}function d0(){var _,C,j,$,F,re;for(N++,_=k,C=[],j=t.charAt(k),z.test(j)?k++:(j=r,N===0&&A(V));j!==r;)C.push(j),j=t.charAt(k),z.test(j)?k++:(j=r,N===0&&A(V));if(t.charCodeAt(k)===46?(j=c,k++):(j=r,N===0&&A(Tt)),j!==r){for($=qe(),F=[],re=t.charAt(k),se.test(re)?k++:(re=r,N===0&&A(Qt));re!==r;)F.push(re),re=t.charAt(k),se.test(re)?k++:(re=r,N===0&&A(Qt));C=[C,j,$,F],_=C}else k=_,_=r;return N--,_===r&&(C=r,N===0&&A(Ke)),_}function h0(){var _,C,j,$,F,re;if(N++,_=k,C=k,t.substr(k,5)===d?(j=d,k+=5):(j=r,N===0&&A($e)),j===r&&(t.substr(k,3)===f?(j=f,k+=3):(j=r,N===0&&A(Xe)),j===r&&(t.substr(k,5)===h?(j=h,k+=5):(j=r,N===0&&A(mn)),j===r&&(t.substr(k,3)===p?(j=p,k+=3):(j=r,N===0&&A(Pa)),j===r))))if(j=k,$=t.charAt(k),D.test($)?k++:($=r,N===0&&A(vt)),$!==r){if(F=[],re=t.charAt(k),ie.test(re)?k++:(re=r,N===0&&A(vn)),re!==r)for(;re!==r;)F.push(re),re=t.charAt(k),ie.test(re)?k++:(re=r,N===0&&A(vn));else F=r;F!==r?($=[$,F],j=$):(k=j,j=r)}else k=j,j=r;return j!==r?($=t.charAt(k),me.test($)?k++:($=r,N===0&&A(ur)),$===r&&($=null),j=[j,$],C=j):(k=C,C=r),C!==r?_=t.substring(_,k):_=C,N--,_===r&&(C=r,N===0&&A(Br)),_}function f0(){var _,C,j;for(N++,_=k,C=[],j=t.charAt(k),be.test(j)?k++:(j=r,N===0&&A(yn));j!==r;)C.push(j),C.length>=2?j=r:(j=t.charAt(k),be.test(j)?k++:(j=r,N===0&&A(yn)));return C.length<1?(k=_,_=r):_=C,N--,_===r&&(C=r,N===0&&A(La)),_}function dd(){var _,C,j,$,F;if(N++,_=k,qe(),t.charCodeAt(k)===36?(C=m,k++):(C=r,N===0&&A(Li)),C!==r){if(j=k,$=[],F=t.charAt(k),z.test(F)?k++:(F=r,N===0&&A(V)),F!==r)for(;F!==r;)$.push(F),F=t.charAt(k),z.test(F)?k++:(F=r,N===0&&A(V));else $=r;$!==r?j=t.substring(j,k):j=$,j!==r?_=xs(j):(k=_,_=r)}else k=_,_=r;return N--,_===r&&N===0&&A(Da),_}function qa(){var _;return _=p0(),_===r&&(_=g0()),_}function p0(){var _,C,j,$,F;if(N++,_=k,t.charCodeAt(k)===123?(C=x,k++):(C=r,N===0&&A(ps)),C!==r){for(j=k,$=[],F=t.charAt(k),we.test(F)?k++:(F=r,N===0&&A(gs));F!==r;)$.push(F),F=t.charAt(k),we.test(F)?k++:(F=r,N===0&&A(gs));j=t.substring(j,k),t.charCodeAt(k)===125?($=S,k++):($=r,N===0&&A(ms)),$!==r?_=Wa(j):(k=_,_=r)}else k=_,_=r;return N--,_===r&&(C=r,N===0&&A(Ra)),_}function g0(){var _,C,j,$,F;if(N++,_=k,t.charCodeAt(k)===59?(C=v,k++):(C=r,N===0&&A(vs)),C!==r){for(j=k,$=[],F=t.charAt(k),ye.test(F)?k++:(F=r,N===0&&A(Hr));F!==r;)$.push(F),F=t.charAt(k),ye.test(F)?k++:(F=r,N===0&&A(Hr));j=t.substring(j,k),_=kn(j)}else k=_,_=r;return N--,_===r&&(C=r,N===0&&A(zt)),_}function hd(){var _,C,j,$;return N++,_=k,qe(),t.charCodeAt(k)===40?(C=g,k++):(C=r,N===0&&A(Aa)),C!==r?(j=ud(),j!==r?(qe(),t.charCodeAt(k)===41?($=y,k++):($=r,N===0&&A($a)),$!==r?_=ws(j):(k=_,_=r)):(k=_,_=r)):(k=_,_=r),N--,_===r&&N===0&&A(Ia),_}function m0(){var _,C,j;return N++,_=k,t.substr(k,3)===w?(C=w,k+=3):(C=r,N===0&&A(wn)),C===r&&(t.substr(k,3)===E?(C=E,k+=3):(C=r,N===0&&A(Sn)),C===r&&(t.substr(k,7)===O?(C=O,k+=7):(C=r,N===0&&A(_n)),C===r&&(t.charCodeAt(k)===42?(C=T,k++):(C=r,N===0&&A(Ma))))),C!==r?(qe(),j=qa(),j===r&&(j=null),_=Ka(C,j)):(k=_,_=r),N--,_===r&&(C=r,N===0&&A(xn)),_}function qe(){var _,C;for(N++,_=[],C=t.charAt(k),Se.test(C)?k++:(C=r,N===0&&A(Di));C!==r;)_.push(C),C=t.charAt(k),Se.test(C)?k++:(C=r,N===0&&A(Di));return N--,C=r,N===0&&A(Fa),_}if(Ne=i(),e.peg$library)return{peg$result:Ne,peg$currPos:k,peg$FAILED:r,peg$maxFailExpected:te,peg$maxFailPos:at};if(Ne!==r&&k===t.length)return Ne;throw Ne!==r&&k<t.length&&A(lt()),o0(te,at<t.length?t.charAt(at):null,at<t.length?od(at,at+1):od(at,at))}var P2={StartRules:["pgn"],SyntaxError:dn,parse:T2};/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const _o=0xffffffffffffffffn;function Ol(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function Xh(t,e){return t*e&_o}function L2(t){return function(){let e=BigInt(t&_o),r=BigInt(t>>64n&_o);const n=Xh(Ol(Xh(e,5n),7n),9n);return r^=e,e=(Ol(e,24n)^r^r<<16n)&_o,r=Ol(r,37n),t=r<<64n|e,n}}const _a=L2(0xa187eb39cdcaed8f31c4b365b102e01en),D2=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>_a()))),R2=Array.from({length:8},()=>_a()),I2=Array.from({length:16},()=>_a()),Nl=_a(),Ue="w",xt="b",_e="p",zu="n",ko="b",Fs="r",yr="q",je="k",Tl="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class eo{constructor(e,r){le(this,"color");le(this,"from");le(this,"to");le(this,"piece");le(this,"captured");le(this,"promotion");le(this,"flags");le(this,"san");le(this,"lan");le(this,"before");le(this,"after");const{color:n,piece:s,from:i,to:o,flags:a,captured:l,promotion:c}=r,d=Te(i),f=Te(o);this.color=n,this.piece=s,this.from=d,this.to=f,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=d+f,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const h in B)B[h]&a&&(this.flags+=Wr[h]);l&&(this.captured=l),c&&(this.promotion=c,this.lan+=c)}isCapture(){return this.flags.indexOf(Wr.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Wr.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Wr.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Wr.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Wr.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Wr.BIG_PAWN)>-1}}const ze=-1,Wr={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},B={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},Uu={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},A2={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},$2={...Uu,...A2},U={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Pl={b:[16,32,17,15],w:[-16,-32,-17,-15]},Zh={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},M2=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],F2=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],z2={p:1,n:2,b:4,r:8,q:16,k:32},U2="pnbrqkPNBRQK",ef=[zu,ko,Fs,yr],B2=7,H2=6,V2=1,W2=0,to={[je]:B.KSIDE_CASTLE,[yr]:B.QSIDE_CASTLE},hr={w:[{square:U.a1,flag:B.QSIDE_CASTLE},{square:U.h1,flag:B.KSIDE_CASTLE}],b:[{square:U.a8,flag:B.QSIDE_CASTLE},{square:U.h8,flag:B.KSIDE_CASTLE}]},K2={b:V2,w:H2};function rn(t){return t>>4}function wi(t){return t&15}function jm(t){return"0123456789".indexOf(t)!==-1}function Te(t){const e=wi(t),r=rn(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function Ts(t){return t===Ue?xt:Ue}function q2(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=e[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<s.length;o++){let a=0,l=!1;for(let c=0;c<s[o].length;c++)if(jm(s[o][c])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(s[o][c],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[o][c]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,l=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:a}of i){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return Array.from(s[0]+s[7]).some(o=>o.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function G2(t,e){const r=t.from,n=t.to,s=t.piece;let i=0,o=0,a=0;for(let l=0,c=e.length;l<c;l++){const d=e[l].from,f=e[l].to,h=e[l].piece;s===h&&r!==d&&n===f&&(i++,rn(r)===rn(d)&&o++,wi(r)===wi(d)&&a++)}return i>0?o>0&&a>0?Te(r):a>0?Te(r).charAt(1):Te(r).charAt(0):""}function fr(t,e,r,n,s,i=void 0,o=B.NORMAL){const a=rn(n);if(s===_e&&(a===B2||a===W2))for(let l=0;l<ef.length;l++){const c=ef[l];t.push({color:e,from:r,to:n,piece:s,captured:i,promotion:c,flags:o|B.PROMOTION})}else t.push({color:e,from:r,to:n,piece:s,captured:i,flags:o})}function tf(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:_e:(e=e.toLowerCase(),e==="o"?je:e)}function Ll(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Dl{constructor(e=Tl,{skipValidation:r=!1}={}){le(this,"_board",new Array(128));le(this,"_turn",Ue);le(this,"_header",{});le(this,"_kings",{w:ze,b:ze});le(this,"_epSquare",-1);le(this,"_halfMoves",0);le(this,"_moveNumber",0);le(this,"_history",[]);le(this,"_comments",{});le(this,"_castling",{w:0,b:0});le(this,"_hash",0n);le(this,"_positionCount",new Map);this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:ze,b:ze},this._turn=Ue,this._castling={w:0,b:0},this._epSquare=ze,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...$2},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:n=!1}={}){let s=e.split(/\s+/);if(s.length>=2&&s.length<6){const a=["-","-","0","1"];e=s.concat(a.slice(-(6-s.length))).join(" ")}if(s=e.split(/\s+/),!r){const{ok:a,error:l}=q2(e);if(!a)throw new Error(l)}const i=s[0];let o=0;this.clear({preserveHeaders:n});for(let a=0;a<i.length;a++){const l=i.charAt(a);if(l==="/")o+=8;else if(jm(l))o+=parseInt(l,10);else{const c=l<"a"?Ue:xt;this._put({type:l.toLowerCase(),color:c},Te(o)),o++}}this._turn=s[1],s[2].indexOf("K")>-1&&(this._castling.w|=B.KSIDE_CASTLE),s[2].indexOf("Q")>-1&&(this._castling.w|=B.QSIDE_CASTLE),s[2].indexOf("k")>-1&&(this._castling.b|=B.KSIDE_CASTLE),s[2].indexOf("q")>-1&&(this._castling.b|=B.QSIDE_CASTLE),this._epSquare=s[3]==="-"?ze:U[s[3]],this._halfMoves=parseInt(s[4],10),this._moveNumber=parseInt(s[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){var o,a;let r=0,n="";for(let l=U.a8;l<=U.h1;l++){if(this._board[l]){r>0&&(n+=r,r=0);const{color:c,type:d}=this._board[l];n+=c===Ue?d.toUpperCase():d.toLowerCase()}else r++;l+1&136&&(r>0&&(n+=r),l!==U.h1&&(n+="/"),r=0,l+=8)}let s="";this._castling[Ue]&B.KSIDE_CASTLE&&(s+="K"),this._castling[Ue]&B.QSIDE_CASTLE&&(s+="Q"),this._castling[xt]&B.KSIDE_CASTLE&&(s+="k"),this._castling[xt]&B.QSIDE_CASTLE&&(s+="q"),s=s||"-";let i="-";if(this._epSquare!==ze)if(e)i=Te(this._epSquare);else{const l=this._epSquare+(this._turn===Ue?16:-16),c=[l+1,l-1];for(const d of c){if(d&136)continue;const f=this._turn;if(((o=this._board[d])==null?void 0:o.color)===f&&((a=this._board[d])==null?void 0:a.type)===_e){this._makeMove({color:f,from:d,to:this._epSquare,piece:_e,captured:_e,flags:B.EP_CAPTURE});const h=!this._isKingAttacked(f);if(this._undoMove(),h){i=Te(this._epSquare);break}}}}return[n,this._turn,s,i,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:n}=this._board[e],s={w:0,b:1}[r],i={p:0,n:1,b:2,r:3,q:4,k:5}[n];return D2[s][i][e]}_epKey(){return this._epSquare===ze?0n:R2[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return I2[e]}_computeHash(){let e=0n;for(let r=U.a8;r<=U.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=Nl),e}_updateSetup(e){this._history.length>0||(e!==Tl?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Tl)}get(e){return this._board[U[e]]}findPiece(e){var n;const r=[];for(let s=U.a8;s<=U.h1;s++){if(s&136){s+=7;continue}!this._board[s]||((n=this._board[s])==null?void 0:n.color)!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(Te(s))}return r}put({type:e,color:r},n){return this._put({type:e,color:r},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},n){if(U2.indexOf(e.toLowerCase())===-1||!(n in U))return!1;const s=U[n];if(e==je&&!(this._kings[r]==ze||this._kings[r]==s))return!1;const i=this._board[s];return i&&i.type===je&&(this._kings[i.color]=ze),this._set(s,{type:e,color:r}),e===je&&(this._kings[r]=s),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(U[e]),r&&r.type===je&&(this._kings[r.color]=ze),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,s,i,o,a,l,c,d,f,h,p,m;this._hash^=this._castlingKey();const e=((n=this._board[U.e1])==null?void 0:n.type)===je&&((s=this._board[U.e1])==null?void 0:s.color)===Ue,r=((i=this._board[U.e8])==null?void 0:i.type)===je&&((o=this._board[U.e8])==null?void 0:o.color)===xt;(!e||((a=this._board[U.a1])==null?void 0:a.type)!==Fs||((l=this._board[U.a1])==null?void 0:l.color)!==Ue)&&(this._castling.w&=~B.QSIDE_CASTLE),(!e||((c=this._board[U.h1])==null?void 0:c.type)!==Fs||((d=this._board[U.h1])==null?void 0:d.color)!==Ue)&&(this._castling.w&=~B.KSIDE_CASTLE),(!r||((f=this._board[U.a8])==null?void 0:f.type)!==Fs||((h=this._board[U.a8])==null?void 0:h.color)!==xt)&&(this._castling.b&=~B.QSIDE_CASTLE),(!r||((p=this._board[U.h8])==null?void 0:p.type)!==Fs||((m=this._board[U.h8])==null?void 0:m.color)!==xt)&&(this._castling.b&=~B.KSIDE_CASTLE),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var i,o;if(this._epSquare===ze)return;const e=this._epSquare+(this._turn===Ue?-16:16),r=this._epSquare+(this._turn===Ue?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((i=this._board[r])==null?void 0:i.color)!==Ts(this._turn)||((o=this._board[r])==null?void 0:o.type)!==_e){this._hash^=this._epKey(),this._epSquare=ze;return}const s=a=>{var l,c;return!(a&136)&&((l=this._board[a])==null?void 0:l.color)===this._turn&&((c=this._board[a])==null?void 0:c.type)===_e};n.some(s)||(this._hash^=this._epKey(),this._epSquare=ze)}_attacked(e,r,n){const s=[];for(let i=U.a8;i<=U.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==e)continue;const o=this._board[i],a=i-r;if(a===0)continue;const l=a+119;if(M2[l]&z2[o.type]){if(o.type===_e){if(a>0&&o.color===Ue||a<=0&&o.color===xt)if(n)s.push(Te(i));else return!0;continue}if(o.type==="n"||o.type==="k")if(n){s.push(Te(i));continue}else return!0;const c=F2[l];let d=i+c,f=!1;for(;d!==r;){if(this._board[d]!=null){f=!0;break}d+=c}if(!f)if(n){s.push(Te(i));continue}else return!0}}return n?s:!1}attackers(e,r){return r?this._attacked(r,U[e],!0):this._attacked(this._turn,U[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(Ts(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,U[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,s=0;for(let i=U.a8;i<=U.h1;i++){if(s=(s+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===ko&&r.push(s),n++)}if(n===2)return!0;if(n===3&&(e[ko]===1||e[zu]===1))return!0;if(n===e[ko]+2){let i=0;const o=r.length;for(let a=0;a<o;a++)i+=r[a];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const s=this._moves({square:r,piece:n});return e?s.map(i=>new eo(this,i)):s.map(i=>this._moveToSan(i,s))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var p;const s=n?n.toLowerCase():void 0,i=r==null?void 0:r.toLowerCase(),o=[],a=this._turn,l=Ts(a);let c=U.a8,d=U.h1,f=!1;if(s)if(s in U)c=d=U[s],f=!0;else return[];for(let m=c;m<=d;m++){if(m&136){m+=7;continue}if(!this._board[m]||this._board[m].color===l)continue;const{type:x}=this._board[m];let S;if(x===_e){if(i&&i!==x)continue;S=m+Pl[a][0],this._board[S]||(fr(o,a,m,S,_e),S=m+Pl[a][1],K2[a]===rn(m)&&!this._board[S]&&fr(o,a,m,S,_e,void 0,B.BIG_PAWN));for(let v=2;v<4;v++)S=m+Pl[a][v],!(S&136)&&(((p=this._board[S])==null?void 0:p.color)===l?fr(o,a,m,S,_e,this._board[S].type,B.CAPTURE):S===this._epSquare&&fr(o,a,m,S,_e,_e,B.EP_CAPTURE))}else{if(i&&i!==x)continue;for(let v=0,g=Zh[x].length;v<g;v++){const y=Zh[x][v];for(S=m;S+=y,!(S&136);){if(!this._board[S])fr(o,a,m,S,x);else{if(this._board[S].color===a)break;fr(o,a,m,S,x,this._board[S].type,B.CAPTURE);break}if(x===zu||x===je)break}}}}if((i===void 0||i===je)&&(!f||d===this._kings[a])){if(this._castling[a]&B.KSIDE_CASTLE){const m=this._kings[a],x=m+2;!this._board[m+1]&&!this._board[x]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,m+1)&&!this._attacked(l,x)&&fr(o,a,this._kings[a],x,je,void 0,B.KSIDE_CASTLE)}if(this._castling[a]&B.QSIDE_CASTLE){const m=this._kings[a],x=m-2;!this._board[m-1]&&!this._board[m-2]&&!this._board[m-3]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,m-1)&&!this._attacked(l,x)&&fr(o,a,this._kings[a],x,je,void 0,B.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return o;const h=[];for(let m=0,x=o.length;m<x;m++)this._makeMove(o[m]),this._isKingAttacked(a)||h.push(o[m]),this._undoMove();return h}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(typeof e=="object"){const i=this._moves();for(let o=0,a=i.length;o<a;o++)if(e.from===Te(i[o].from)&&e.to===Te(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){n=i[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const s=new eo(this,n);return this._makeMove(n),this._incPositionCount(),s}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){var s,i,o,a;const r=this._turn,n=Ts(r);if(this._push(e),this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&B.EP_CAPTURE&&(this._turn===xt?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===je){if(this._kings[r]=e.to,e.flags&B.KSIDE_CASTLE){const l=e.to-1,c=e.to+1;this._movePiece(c,l)}else if(e.flags&B.QSIDE_CASTLE){const l=e.to+1,c=e.to-2;this._movePiece(c,l)}this._castling[r]=0}if(this._castling[r]){for(let l=0,c=hr[r].length;l<c;l++)if(e.from===hr[r][l].square&&this._castling[r]&hr[r][l].flag){this._castling[r]^=hr[r][l].flag;break}}if(this._castling[n]){for(let l=0,c=hr[n].length;l<c;l++)if(e.to===hr[n][l].square&&this._castling[n]&hr[n][l].flag){this._castling[n]^=hr[n][l].flag;break}}if(this._hash^=this._castlingKey(),e.flags&B.BIG_PAWN){let l;r===xt?l=e.to-16:l=e.to+16,!(e.to-1&136)&&((s=this._board[e.to-1])==null?void 0:s.type)===_e&&((i=this._board[e.to-1])==null?void 0:i.color)===n||!(e.to+1&136)&&((o=this._board[e.to+1])==null?void 0:o.type)===_e&&((a=this._board[e.to+1])==null?void 0:a.color)===n?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=ze}else this._epSquare=ze;e.piece===_e?this._halfMoves=0:e.flags&(B.CAPTURE|B.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===xt&&this._moveNumber++,this._turn=n,this._hash^=Nl}undo(){const e=this._hash,r=this._undoMove();if(r){const n=new eo(this,r);return this._decPositionCount(e),n}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Nl;const n=this._turn,s=Ts(n);if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:n})),r.captured)if(r.flags&B.EP_CAPTURE){let i;n===xt?i=r.to-16:i=r.to+16,this._set(i,{type:_e,color:s})}else this._set(r.to,{type:r.captured,color:s});if(r.flags&(B.KSIDE_CASTLE|B.QSIDE_CASTLE)){let i,o;r.flags&B.KSIDE_CASTLE?(i=r.to+1,o=r.to-1):(i=r.to-2,o=r.to+1),this._movePiece(o,i)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let s=!1;for(const h in this._header)this._header[h]&&n.push(`[${h} "${this._header[h]}"]`+e),s=!0;s&&this._history.length&&n.push(e);const i=h=>{const p=this._comments[this.fen()];if(typeof p<"u"){const m=h.length>0?" ":"";h=`${h}${m}{${p}}`}return h},o=[];for(;this._history.length>0;)o.push(this._undoMove());const a=[];let l="";for(o.length===0&&a.push(i(""));o.length>0;){l=i(l);const h=o.pop();if(!h)break;if(!this._history.length&&h.color==="b"){const p=`${this._moveNumber}. ...`;l=l?`${l} ${p}`:p}else h.color==="w"&&(l.length&&a.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(h,this._moves({legal:!0})),this._makeMove(h)}if(l.length&&a.push(i(l)),a.push(this._header.Result||"*"),r===0)return n.join("")+a.join(" ");const c=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},d=function(h,p){for(const m of p.split(" "))if(m){if(h+m.length>r){for(;c();)h--;n.push(e),h=0}n.push(m),h+=m.length,n.push(" "),h++}return c()&&h--,h};let f=0;for(let h=0;h<a.length;h++){if(f+a[h].length>r&&a[h].includes("{")){f=d(f,a[h]);continue}f+a[h].length>r&&h!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),f=0):h!==0&&(n.push(" "),f++),n.push(a[h]),f+=a[h].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??Uu[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Uu[e]||null,!0):!1}getHeaders(){const e={};for(const[r,n]of Object.entries(this._header))n!==null&&(e[r]=n);return e}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){n!==`\r?
`&&(e=e.replace(new RegExp(n,"g"),`
`));const s=P2.parse(e);this.reset();const i=s.headers;let o="";for(const c in i)c.toLowerCase()==="fen"&&(o=i[c]),this.header(c,i[c]);if(!r)o&&this.load(o,{preserveHeaders:!0});else if(i.SetUp==="1"){if(!("FEN"in i))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(i.FEN,{preserveHeaders:!0})}let a=s.root;for(;a;){if(a.move){const c=this._moveFromSan(a.move,r);if(c==null)throw new Error(`Invalid move in PGN: ${a.move}`);this._makeMove(c),this._incPositionCount()}a.comment!==void 0&&(this._comments[this.fen()]=a.comment),a=a.variations[0]}const l=s.result;l&&Object.keys(this._header).length&&this._header.Result!==l&&this.setHeader("Result",l)}_moveToSan(e,r){let n="";if(e.flags&B.KSIDE_CASTLE)n="O-O";else if(e.flags&B.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==_e){const s=G2(e,r);n+=e.piece.toUpperCase()+s}e.flags&(B.CAPTURE|B.EP_CAPTURE)&&(e.piece===_e&&(n+=Te(e.from)[0]),n+="x"),n+=Te(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){let n=Ll(e);r||(n==="0-0"?n="O-O":n==="0-0-0"&&(n="O-O-O"));let s=tf(n),i=this._moves({legal:!0,piece:s});for(let h=0,p=i.length;h<p;h++)if(n===Ll(this._moveToSan(i[h],i)))return i[h];if(r)return null;let o,a,l,c,d,f=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(o=a[1],l=a[2],c=a[3],d=a[4],l.length==1&&(f=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(o=a[1],l=a[2],c=a[3],d=a[4],l.length==1&&(f=!0))),s=tf(n),i=this._moves({legal:!0,piece:o||s}),!c)return null;for(let h=0,p=i.length;h<p;h++)if(l){if((!o||o.toLowerCase()==i[h].piece)&&U[l]==i[h].from&&U[c]==i[h].to&&(!d||d.toLowerCase()==i[h].promotion))return i[h];if(f){const m=Te(i[h].from);if((!o||o.toLowerCase()==i[h].piece)&&U[c]==i[h].to&&(l==m[0]||l==m[1])&&(!d||d.toLowerCase()==i[h].promotion))return i[h]}}else if(n===Ll(this._moveToSan(i[h],i)).replace("x",""))return i[h];return null}ascii(){let e=`   +------------------------+
`;for(let r=U.a8;r<=U.h1;r++){if(wi(r)===0&&(e+=" "+"87654321"[rn(r)]+" |"),this._board[r]){const n=this._board[r].type,i=this._board[r].color===Ue?n.toUpperCase():n.toLowerCase();e+=" "+i+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const s=this._turn;for(let i=0,o=r.length;i<o;i++)this._makeMove(r[i]),this._isKingAttacked(s)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}turn(){return this._turn}board(){const e=[];let r=[];for(let n=U.a8;n<=U.h1;n++)this._board[n]==null?r.push(null):r.push({square:Te(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in U){const r=U[e];return(rn(r)+wi(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const s=r.pop();if(!s)break;e?n.push(new eo(this,s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},n=s=>{s in this._comments&&(r[s]=this._comments[s])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const s=e.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const s of[je,yr])r[s]!==void 0&&(r[s]?this._castling[e]|=to[s]:this._castling[e]&=~to[s]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[je]===void 0||r[je]===n[je])&&(r[yr]===void 0||r[yr]===n[yr])}getCastlingRights(e){return{[je]:(this._castling[e]&to[je])!==0,[yr]:(this._castling[e]&to[yr])!==0}}moveNumber(){return this._moveNumber}}const Q2=()=>{const[t,e]=b.useState(new Dl),[r,n]=b.useState(null),[s,i]=b.useState("beginner"),[o,a]=b.useState([]),l=b.useCallback(f=>{try{if(t.move(f))return e(new Dl(t.fen())),a(p=>[...p,t.history().slice(-1)[0]]),!0}catch{return!1}return!1},[t]),c=(f,h)=>{const p=l({from:f,to:h,promotion:"q"});return p&&r==="bot"&&setTimeout(()=>{const m=t.moves();if(m.length>0){const x=m[Math.floor(Math.random()*m.length)];l(t.move(x))}},300),p},d=()=>{e(new Dl),a([])};return u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Chess"}),u.jsx("p",{className:"text-gray-400",children:"Play chess against a bot or other players"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(bt,{children:u.jsx(Ct,{className:"p-6",children:r?u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"flex items-center",children:r==="bot"&&u.jsxs("select",{value:s,onChange:f=>i(f.target.value),className:"bg-gray-800 text-white rounded-lg px-3 py-2 mr-4",children:[u.jsx("option",{value:"beginner",children:"Beginner"}),u.jsx("option",{value:"intermediate",children:"Intermediate"}),u.jsx("option",{value:"advanced",children:"Advanced"})]})}),u.jsxs(ee,{variant:"outline",onClick:d,className:"flex items-center",children:[u.jsx(hy,{size:16,className:"mr-2"}),"New Game"]})]}),u.jsx(b2,{position:t.fen(),onPieceDrop:c,customBoardStyle:{borderRadius:"4px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"}})]}):u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Select Game Mode"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs(ee,{onClick:()=>n("bot"),className:"flex items-center justify-center p-6",children:[u.jsx(dy,{size:24,className:"mr-2"}),"Play vs Bot"]}),u.jsxs(ee,{onClick:()=>n("multiplayer"),className:"flex items-center justify-center p-6",children:[u.jsx(Ni,{size:24,className:"mr-2"}),"Play Online"]})]})]})})})}),u.jsx("div",{children:u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[u.jsx(is,{size:20,className:"mr-2"}),"Move History"]})}),u.jsx(Ct,{children:o.length>0?u.jsx("div",{className:"space-y-2",children:o.map((f,h)=>u.jsxs("div",{className:"flex items-center text-gray-300",children:[u.jsxs("span",{className:"w-8 text-gray-500",children:[h+1,"."]}),u.jsx("span",{children:f})]},h))}):u.jsx("p",{className:"text-gray-400",children:"No moves yet"})})]})})]})]})},J2=[{id:"iron-man",name:"Iron Man",url:"https://images.pexels.com/photos/8391815/pexels-photo-8391815.jpeg?auto=compress&cs=tinysrgb&w=150",category:"marvel"},{id:"captain-america",name:"Captain America",url:"https://images.pexels.com/photos/8391805/pexels-photo-8391805.jpeg?auto=compress&cs=tinysrgb&w=150",category:"marvel"},{id:"thor",name:"Thor",url:"https://images.pexels.com/photos/8391838/pexels-photo-8391838.jpeg?auto=compress&cs=tinysrgb&w=150",category:"marvel"},{id:"spider-man",name:"Spider-Man",url:"https://images.pexels.com/photos/8391852/pexels-photo-8391852.jpeg?auto=compress&cs=tinysrgb&w=150",category:"marvel"},{id:"black-widow",name:"Black Widow",url:"https://images.pexels.com/photos/8391819/pexels-photo-8391819.jpeg?auto=compress&cs=tinysrgb&w=150",category:"marvel"}],Y2="modulepreload",X2=function(t){return"/"+t},rf={},as=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=X2(l),l in rf)return;rf[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Y2,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Z2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>hs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ed extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class eS extends ed{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tS extends ed{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rS extends ed{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bu||(Bu={}));var nS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class sS{constructor(e,{headers:r={},customFetch:n,region:s=Bu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Z2(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return nS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(m=>{throw new eS(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new tS(d);if(!d.ok)throw new rS(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var rt={},td={},ka={},Ti={},ba={},Ca={},iS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=iS();const oS=ls.fetch,Em=ls.fetch.bind(ls),Om=ls.Headers,aS=ls.Request,lS=ls.Response,hs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Om,Request:aS,Response:lS,default:Em,fetch:oS},Symbol.toStringTag,{value:"Module"})),uS=x0(hs);var ja={};Object.defineProperty(ja,"__esModule",{value:!0});let cS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ja.default=cS;var Nm=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ca,"__esModule",{value:!0});const dS=Nm(uS),hS=Nm(ja);let fS=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=dS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&S&&S.length>1&&(f=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,p="OK")}catch{i.status===404&&x===""?(h=204,p="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new hS.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ca.default=fS;var pS=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0});const gS=pS(Ca);let mS=class extends gS.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ba.default=mS;var vS=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const yS=vS(ba);let xS=class extends yS.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ti.default=xS;var wS=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ka,"__esModule",{value:!0});const Ps=wS(Ti);let SS=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ps.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ps.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ps.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ps.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ps.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ka.default=SS;var Ea={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.version=void 0;Oa.version="0.0.0-automated";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.DEFAULT_HEADERS=void 0;const _S=Oa;Ea.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_S.version}`};var Tm=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(td,"__esModule",{value:!0});const kS=Tm(ka),bS=Tm(Ti),CS=Ea;let jS=class Pm{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},CS.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new kS.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Pm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new bS.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};td.default=jS;var fs=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const Lm=fs(td);rt.PostgrestClient=Lm.default;const Dm=fs(ka);rt.PostgrestQueryBuilder=Dm.default;const Rm=fs(Ti);rt.PostgrestFilterBuilder=Rm.default;const Im=fs(ba);rt.PostgrestTransformBuilder=Im.default;const Am=fs(Ca);rt.PostgrestBuilder=Am.default;const $m=fs(ja);rt.PostgrestError=$m.default;var ES=rt.default={PostgrestClient:Lm.default,PostgrestQueryBuilder:Dm.default,PostgrestFilterBuilder:Rm.default,PostgrestTransformBuilder:Im.default,PostgrestBuilder:Am.default,PostgrestError:$m.default};const{PostgrestClient:OS,PostgrestQueryBuilder:Jb,PostgrestFilterBuilder:Yb,PostgrestTransformBuilder:Xb,PostgrestBuilder:Zb,PostgrestError:eC}=ES,NS="2.11.2",TS={"X-Client-Info":`realtime-js/${NS}`},PS="1.0.0",Mm=1e4,LS=1e3;var Yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yn||(Yn={}));var ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ct||(ct={}));var Rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rt||(Rt={}));var Hu;(function(t){t.websocket="websocket"})(Hu||(Hu={}));var Jr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jr||(Jr={}));class DS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Fm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const nf=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=RS(o,t,e,s),i),{})},RS=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?zm(i,o):Vu(o)},zm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return MS(e,r)}switch(t){case oe.bool:return IS(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return AS(e);case oe.json:case oe.jsonb:return $S(e);case oe.timestamp:return FS(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Vu(e);default:return Vu(e)}},Vu=t=>t,IS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},AS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$S=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},MS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>zm(e,a))}return t},FS=t=>typeof t=="string"?t.replace(" ","T"):t,Um=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Rl{constructor(e,r,n={},s=Mm){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sf||(sf={}));class Xs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(S=>S.presence_ref),p=f.map(S=>S.presence_ref),m=d.filter(S=>p.indexOf(S.presence_ref)<0),x=f.filter(S=>h.indexOf(S.presence_ref)<0);m.length>0&&(a[c]=m),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var of;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(of||(of={}));var af;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(af||(af={}));var Yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class rd{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rl(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new Fm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Xs(this),this.broadcastEndpointURL=Um(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Yt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Yt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Yt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let x=0;x<p;x++){const S=h[x],{filter:{event:v,schema:g,table:y,filter:w}}=S,E=d&&d[x];if(E&&E.event===v&&E.schema===g&&E.table===y&&E.filter===w)m.push(Object.assign(Object.assign({},S),{id:E.id}));else{this.unsubscribe(),e==null||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Yt.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Rl(this,Rt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rl(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Rt;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,x,S;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((S=(x=p.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,x,S,v,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,E=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:x,table:S,commit_timestamp:v,type:g,errors:y}=m;h=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:v,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rd.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rt.close,{},e)}_onError(e){this._on(Rt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=nf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=nf(e.columns,e.old_record)),r}}const zS=()=>{},US=typeof WebSocket<"u",BS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HS{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=TS,this.params={},this.timeout=Mm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zS,this.conn=null,this.sendBuffer=[],this.serializer=new DS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>as(async()=>{const{default:l}=await Promise.resolve().then(()=>hs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Hu.websocket}`,this.httpEndpoint=Um(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(US){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new VS(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),as(async()=>{const{default:e}=await import("./browser-C5ERk-4B.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PS}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Yn.connecting:return Jr.Connecting;case Yn.open:return Jr.Open;case Yn.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(e,r={config:{}}){const n=new rd(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Rt.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(LS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([BS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class VS{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Yn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class nd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WS extends nd{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wu extends nd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var KS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Bm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>hs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},qS=()=>KS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>hs),void 0)).Response:Response}),Ku=t=>{if(Array.isArray(t))return t.map(r=>Ku(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ku(n)}),e};var gn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Il=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GS=(t,e,r)=>gn(void 0,void 0,void 0,function*(){const n=yield qS();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new WS(Il(s),t.status||500))}).catch(s=>{e(new Wu(Il(s),s))}):e(new Wu(Il(t),t))}),QS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Pi(t,e,r,n,s,i){return gn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,QS(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>GS(l,a,n))})})}function Jo(t,e,r,n){return gn(this,void 0,void 0,function*(){return Pi(t,"GET",e,r,n)})}function xr(t,e,r,n,s){return gn(this,void 0,void 0,function*(){return Pi(t,"POST",e,n,s,r)})}function JS(t,e,r,n,s){return gn(this,void 0,void 0,function*(){return Pi(t,"PUT",e,n,s,r)})}function YS(t,e,r,n){return gn(this,void 0,void 0,function*(){return Pi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Hm(t,e,r,n,s){return gn(this,void 0,void 0,function*(){return Pi(t,"DELETE",e,n,s,r)})}var et=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const XS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZS{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Bm(s)}uploadOrUpdate(e,r,n,s){return et(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:lf.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield xr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new nd("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}update(e,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield xr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return et(this,void 0,void 0,function*(){try{const s=yield xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}download(e,r){return et(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Jo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Pe(a))return{data:null,error:a};throw a}})}info(e){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Jo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ku(n),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}exists(e){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield YS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pe(n)&&n instanceof Wu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}list(e,r,n){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XS),r),{prefix:e||""});return{data:yield xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const e_="2.7.1",t_={"X-Client-Info":`storage-js/${e_}`};var En=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class r_{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},t_),r),this.fetch=Bm(n)}listBuckets(){return En(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Pe(e))return{data:null,error:e};throw e}})}getBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return En(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return En(this,void 0,void 0,function*(){try{return{data:yield JS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}}class n_ extends r_{constructor(e,r={},n){super(e,r,n)}from(e){return new ZS(this.url,this.headers,e,this.fetch)}}const s_="2.49.8";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const i_={"X-Client-Info":`supabase-js-${zs}/${s_}`},o_={headers:i_},a_={schema:"public"},l_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u_={};var c_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const d_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Em:e=fetch,(...r)=>e(...r)},h_=()=>typeof Headers>"u"?Om:Headers,f_=(t,e,r)=>{const n=d_(r),s=h_();return(i,o)=>c_(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var p_=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function g_(t){return t.endsWith("/")?t:t+"/"}function m_(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>p_(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Vm="2.69.1",Ln=30*1e3,qu=3,Al=qu*Ln,v_="http://localhost:9999",y_="supabase.auth.token",x_={"X-Client-Info":`gotrue-js/${Vm}`},Gu="X-Supabase-Api-Version",Wm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S_=6e5;class sd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class __ extends sd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function k_(t){return K(t)&&t.name==="AuthApiError"}class Km extends sd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ur extends sd{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class pr extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function b_(t){return K(t)&&t.name==="AuthSessionMissingError"}class $l extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ro extends Ur{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class no extends Ur{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C_(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class uf extends Ur{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qu extends Ur{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ml(t){return K(t)&&t.name==="AuthRetryableFetchError"}class cf extends Ur{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zs extends Ur{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hf=` 	
\r=`.split(""),j_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hf.length;e+=1)t[hf[e].charCodeAt(0)]=-2;for(let e=0;e<df.length;e+=1)t[df[e].charCodeAt(0)]=e;return t})();function qm(t,e,r){const n=j_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ff(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{N_(o,n,r)};for(let o=0;o<t.length;o+=1)qm(t.charCodeAt(o),s,i);return e.join("")}function E_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}E_(n,e)}}function N_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function T_(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)qm(t.charCodeAt(s),r,n);return new Uint8Array(e)}function P_(t){const e=[];return O_(t,r=>e.push(r)),new Uint8Array(e)}function L_(t){return Math.round(Date.now()/1e3)+t}function D_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",Kr={tested:!1,writable:!1},ei=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kr.tested)return Kr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kr.tested=!0,Kr.writable=!0}catch{Kr.tested=!0,Kr.writable=!1}return Kr.writable};function R_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Gm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>as(async()=>{const{default:n}=await Promise.resolve().then(()=>hs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},I_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qm=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},so=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},io=async(t,e)=>{await t.removeItem(e)};class Na{constructor(){this.promise=new Na.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Na.promiseConstructor=Promise;function Fl(t){const e=t.split(".");if(e.length!==3)throw new Zs("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!w_.test(e[n]))throw new Zs("JWT not in base64url format");return{header:JSON.parse(ff(e[0])),payload:JSON.parse(ff(e[1])),signature:T_(e[2]),raw:{header:e[0],payload:e[1]}}}async function A_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $_(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function M_(t){return("0"+t.toString(16)).substr(-2)}function F_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,M_).join("")}async function z_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function U_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await z_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function On(t,e,r=!1){const n=F_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Qm(t,`${e}-code-verifier`,s);const i=await U_(n);return[i,n===i?"plain":"s256"]}const B_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H_(t){const e=t.headers.get(Gu);if(!e||!e.match(B_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function W_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var K_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Qr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q_=[502,503,504];async function pf(t){var e;if(!I_(t))throw new Qu(Qr(t),0);if(q_.includes(t.status))throw new Qu(Qr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Km(Qr(i),i)}let n;const s=H_(t);if(s&&s.getTime()>=Wm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cf(Qr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cf(Qr(r),t.status,r.weak_password.reasons);throw new __(Qr(r),t.status||500,n)}const G_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Q(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Gu]||(i[Gu]=Wm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Q_(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Q_(t,e,r,n,s,i){const o=G_(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Qu(Qr(l),0)}if(a.ok||await pf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await pf(l)}}function gr(t){var e;let r=null;Z_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=L_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gf(t){const e=gr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _r(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function J_(t){return{data:t,error:null}}function Y_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=K_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function X_(t){return t}function Z_(t){return t.access_token&&t.refresh_token&&t.expires_in}var ek=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class tk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Gm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_r})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ek(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Y_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_r})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:X_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const x=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);c[`${S}Page`]=x}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_r})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_r})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_r})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}const rk={getItem:t=>ei()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ei()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ei()&&globalThis.localStorage.removeItem(t)}};function mf(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function nk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&ei()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sk extends Jm{}async function ik(t,e,r){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}nk();const ok={url:v_,storageKey:y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vf(t,e,r){return await r()}class Si{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Si.nextInstanceID,Si.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ok),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gm(s.fetch),this.lock=s.lock||vf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ht()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ik:this.lock=vf,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ei()?this.storage=rk:(this.memoryStorage={},this.storage=mf(this.memoryStorage)):(this.memoryStorage={},this.storage=mf(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=R_(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),C_(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new Km("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await On(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:gr})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gr})}else throw new ro("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gf})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gf})}else throw new ro("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $l}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await so(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gr});if(await io(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $l}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new $l}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await On(this.storage,this.storageKey));const{error:f}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ro("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await On(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:J_})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new pr;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ro("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Al:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_r}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_r})})}catch(r){if(K(r))return b_(r)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await On(this.storage,this.storageKey));const{data:c,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:_r});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Fl(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new pr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new no("No browser detected.");if(e.error||e.error_description||e.error_code)throw new no(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new uf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new no("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new uf("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new no("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:x,error:S}=await this._getUser(i);if(S)throw S;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(k_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=D_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await On(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $_(async s=>(s>0&&await A_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ml(i)&&Date.now()+o-n<Ln})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await so(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Al;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Al}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ml(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Na;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new pr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),K(i)){const o={session:null,error:i};return Ml(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qm(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ln}ms, refresh threshold is ${qu} ticks`),s<=qu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await On(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fl(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+S_>Date.now()))return n;const{data:s,error:i}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Zs("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Zs("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Fl(n);if(V_(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=W_(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,P_(`${a}.${l}`)))throw new Zs("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}Si.nextInstanceID=0;const ak=Si;class lk extends ak{constructor(e){super(e)}}var uk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class ck{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=g_(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:a_,realtime:u_,auth:Object.assign(Object.assign({},l_),{storageKey:c}),global:o_},f=m_(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=f_(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new OS(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new sS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new n_(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return uk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lk({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new HS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dk=(t,e,r)=>new ck(t,e,r),hk="https://vusdncuduzoudxrimdjs.supabase.co",fk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ1c2RuY3VkdXpvdWR4cmltZGpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1MzkwNTQsImV4cCI6MjA2NDExNTA1NH0.SLp5pYDXO7Lk7Oqzwb_G2piCSf9e6e4fExCpYwK074A",pk=dk(hk,fk),gk=()=>{const{currentUser:t}=zr(),[e,r]=b.useState({username:t.username,email:t.email||"",bio:t.bio||""}),[n,s]=b.useState(!1),[i,o]=b.useState(t.avatar),[a,l]=b.useState(!1),c=h=>{const{name:p,value:m}=h.target;r(x=>({...x,[p]:m}))},d=h=>{o(h),s(!1)},f=async h=>{h.preventDefault(),l(!0);try{const{error:p}=await pk.from("profiles").update({username:e.username,email:e.email,bio:e.bio,avatar:i,updated_at:new Date}).eq("id",t.id);if(p)throw p;alert("Profile updated successfully!")}catch(p){console.error("Error updating profile:",p),alert("Failed to update profile. Please try again.")}finally{l(!1)}};return u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[u.jsx(rm,{size:24,className:"text-purple-400 mr-2"}),"Profile Settings"]}),u.jsx("p",{className:"text-gray-400",children:"Manage your profile information and preferences"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsx("h2",{className:"text-xl font-bold text-white",children:"Personal Information"})}),u.jsx(Ct,{children:u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(Ar,{src:i,alt:t.username,size:"xl",className:"relative group"}),u.jsx("div",{children:u.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center",onClick:()=>s(!0),type:"button",children:[u.jsx(ry,{size:16,className:"mr-2"}),"Change Avatar"]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(os,{label:"Username",name:"username",value:e.username,onChange:c,fullWidth:!0}),u.jsx(os,{label:"Email",name:"email",type:"email",value:e.email,onChange:c,fullWidth:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Bio"}),u.jsx("textarea",{name:"bio",value:e.bio,onChange:c,rows:4,className:"w-full bg-gray-800 text-gray-100 rounded-lg border border-gray-600 p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),u.jsxs(ee,{type:"submit",className:"flex items-center",isLoading:a,children:[u.jsx(Zg,{size:16,className:"mr-2"}),"Save Changes"]})]})]})})]})}),u.jsx("div",{children:u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsx("h2",{className:"text-xl font-bold text-white",children:"Account Statistics"})}),u.jsx(Ct,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-sm",children:"Account Level"}),u.jsx("div",{className:"text-white text-lg font-bold",children:t.level})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-sm",children:"Rank"}),u.jsx("div",{className:"text-white text-lg font-bold",children:t.rank})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-sm",children:"Win Rate"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[t.winRate,"%"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-gray-400 text-sm",children:"Total Matches"}),u.jsx("div",{className:"text-white text-lg font-bold",children:t.totalMatches})]})]})})]})})]}),n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl w-full mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:"Choose Your Avatar"}),u.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white",children:u.jsx(nm,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:J2.map(h=>u.jsxs("div",{className:`cursor-pointer rounded-lg p-2 transition-all ${i===h.url?"bg-purple-600":"hover:bg-gray-700"}`,onClick:()=>d(h.url),children:[u.jsx("img",{src:h.url,alt:h.name,className:"w-full h-32 object-cover rounded-lg mb-2"}),u.jsx("p",{className:"text-center text-white",children:h.name})]},h.id))})]})})]})};function mk(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];nn(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const yf={};function Ju(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];nn(e[0])&&yf[e[0]]||(nn(e[0])&&(yf[e[0]]=new Date),mk(...e))}const Ym=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},xf=(t,e,r)=>{t.loadNamespaces(e,Ym(t,r))},wf=(t,e,r,n)=>{nn(r)&&(r=[r]),r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Ym(t,n))},vk=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],s=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=e.services.backendConnector.state[`${a}|${l}`];return c===-1||c===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!s||o(i,t)))},yk=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Ju("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(s,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,t))return!1}}):vk(t,e,r)},nn=t=>typeof t=="string",xk=t=>typeof t=="object"&&t!==null,wk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Sk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_k=t=>Sk[t],kk=t=>t.replace(wk,_k);let Yu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kk};const bk=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yu={...Yu,...t}},Ck=()=>Yu;let Xm;const jk=t=>{Xm=t},Ek=()=>Xm,Ok={type:"3rdParty",init(t){bk(t.options.react),jk(t)}},Nk=b.createContext();class Tk{constructor(){le(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}const Pk=(t,e)=>{const r=b.useRef();return b.useEffect(()=>{r.current=t},[t,e]),r.current},Zm=(t,e,r,n)=>t.getFixedT(e,r,n),Lk=(t,e,r,n)=>b.useCallback(Zm(t,e,r,n),[t,e,r,n]),Dk=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:n,defaultNS:s}=b.useContext(Nk)||{},i=r||n||Ek();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Tk),!i){Ju("You will need to pass in an i18next instance by using initReactI18next");const w=(O,T)=>nn(T)?T:xk(T)&&nn(T.defaultValue)?T.defaultValue:Array.isArray(O)?O[O.length-1]:O,E=[w,{},!1];return E.t=w,E.i18n={},E.ready=!1,E}i.options.react&&i.options.react.wait!==void 0&&Ju("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Ck(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=s||i.options&&i.options.defaultNS;c=nn(c)?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(c);const d=(i.isInitialized||i.initializedStoreOnce)&&c.every(w=>yk(w,i,o)),f=Lk(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),h=()=>f,p=()=>Zm(i,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[m,x]=b.useState(h);let S=c.join();e.lng&&(S=`${e.lng}${S}`);const v=Pk(S),g=b.useRef(!0);b.useEffect(()=>{const{bindI18n:w,bindI18nStore:E}=o;g.current=!0,!d&&!a&&(e.lng?wf(i,e.lng,c,()=>{g.current&&x(p)}):xf(i,c,()=>{g.current&&x(p)})),d&&v&&v!==S&&g.current&&x(p);const O=()=>{g.current&&x(p)};return w&&i&&i.on(w,O),E&&i&&i.store.on(E,O),()=>{g.current=!1,w&&i&&w.split(" ").forEach(T=>i.off(T,O)),E&&i&&E.split(" ").forEach(T=>i.store.off(T,O))}},[i,S]),b.useEffect(()=>{g.current&&d&&x(h)},[i,l,d]);const y=[m,i,d];if(y.t=m,y.i18n=i,y.ready=d,d||!d&&!a)return y;throw new Promise(w=>{e.lng?wf(i,e.lng,c,()=>w()):xf(i,c,()=>w())})},Rk=()=>{const{t,i18n:e}=Dk(),[r,n]=b.useState({volume:80,notifications:!0,darkMode:!0,language:e.language||"en-US"}),s=l=>{n(c=>({...c,volume:Number(l.target.value)}))},i=l=>{n(c=>({...c,[l]:!c[l]}))},o=l=>{const c=l.target.value;n(d=>({...d,language:c})),e.changeLanguage(c),localStorage.setItem("language",c)},a=()=>{localStorage.setItem("settings",JSON.stringify(r))};return u.jsxs("div",{className:"px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[u.jsx(em,{size:24,className:"text-purple-400 mr-2"}),t("settings.title")]}),u.jsx("p",{className:"text-gray-400",children:t("settings.subtitle")})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[u.jsx(iy,{size:20,className:"mr-2"}),t("settings.language.title")]})}),u.jsx(Ct,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("select",{value:r.language,onChange:o,className:"w-full bg-gray-800 text-gray-100 rounded-lg border border-gray-600 p-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[u.jsx("option",{value:"en-US",children:"English (US)"}),u.jsx("option",{value:"pt-BR",children:"Portugus (BR)"})]}),u.jsx("p",{className:"text-sm text-gray-400",children:t("settings.language.subtitle")})]})})]}),u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[u.jsx(py,{size:20,className:"mr-2"}),t("settings.sound.title")]})}),u.jsx(Ct,{children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("settings.sound.masterVolume")}),u.jsx("input",{type:"range",min:"0",max:"100",value:r.volume,onChange:s,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),u.jsxs("div",{className:"text-right text-sm text-gray-400 mt-1",children:[r.volume,"%"]})]})})})]}),u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[u.jsx(Xg,{size:20,className:"mr-2"}),t("settings.notifications.title")]})}),u.jsx(Ct,{children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-300",children:t("settings.notifications.enable")}),u.jsx("button",{onClick:()=>i("notifications"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${r.notifications?"bg-purple-600":"bg-gray-700"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.notifications?"translate-x-6":"translate-x-1"}`})})]})})})]}),u.jsxs(bt,{children:[u.jsx(tr,{children:u.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[u.jsx(cy,{size:20,className:"mr-2"}),t("settings.display.title")]})}),u.jsx(Ct,{children:u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-300",children:t("settings.display.darkMode")}),u.jsx("button",{onClick:()=>i("darkMode"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${r.darkMode?"bg-purple-600":"bg-gray-700"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.darkMode?"translate-x-6":"translate-x-1"}`})})]})})})]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsxs(ee,{onClick:a,className:"flex items-center",children:[u.jsx(Zg,{size:16,className:"mr-2"}),t("settings.save")]})})]})},Ik=()=>{const{activeTab:t}=zr(),e=()=>{switch(t){case"home":return u.jsx(Ch,{});case"games":return u.jsx(wy,{});case"leaderboard":return u.jsx(_y,{});case"friends":return u.jsx(ky,{});case"profile":return u.jsx(gk,{});case"settings":return u.jsx(Rk,{});case"snake":return u.jsx(Ey,{});case"hangman":return u.jsx(Py,{});case"chess":return u.jsx(Q2,{});default:return u.jsx(Ch,{})}};return u.jsxs("div",{className:"bg-gray-900 min-h-screen text-gray-200",children:[u.jsx(gy,{}),u.jsxs("div",{className:"flex",children:[u.jsx(my,{}),u.jsx("main",{className:"flex-1 overflow-auto md:ml-64",children:e()})]})]})};function Ak(){return u.jsx(Q1,{children:u.jsx(Ik,{})})}const H=t=>typeof t=="string",Ls=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Sf=t=>t==null?"":""+t,$k=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Mk=/###/g,_f=t=>t&&t.indexOf("###")>-1?t.replace(Mk,"."):t,kf=t=>!t||H(t),ti=(t,e,r)=>{const n=H(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(kf(t))return{};const i=_f(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return kf(t)?{}:{obj:t,k:_f(n[s])}},bf=(t,e,r)=>{const{obj:n,k:s}=ti(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],o=e.slice(0,e.length-1),a=ti(t,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=ti(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=r},Fk=(t,e,r,n)=>{const{obj:s,k:i}=ti(t,e,Object);s[i]=s[i]||[],s[i].push(r)},Yo=(t,e)=>{const{obj:r,k:n}=ti(t,e);if(r)return r[n]},zk=(t,e,r)=>{const n=Yo(t,r);return n!==void 0?n:Yo(e,r)},e0=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?H(t[n])||t[n]instanceof String||H(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):e0(t[n],e[n],r):t[n]=e[n]);return t},Tn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Uk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Bk=t=>H(t)?t.replace(/[&<>"'\/]/g,e=>Uk[e]):t;class Hk{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Vk=[" ",",","?","!",";"],Wk=new Hk(20),Kk=(t,e,r)=>{e=e||"",r=r||"";const n=Vk.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const s=Wk.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(r);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},Xu=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let o,a="";for(let l=i;l<n.length;++l)if(l!==i&&(a+=r),a+=n[l],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;i+=l-i+1;break}s=o}return s},Xo=t=>t&&t.replace("_","-"),qk={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Zo{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||qk,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(H(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Zo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Zo(this.logger,e)}}var Kt=new Zo;class Ta{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...n])})}}class Cf extends Ta{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):H(n)&&i?a.push(...n.split(i)):a.push(n)));const l=Yo(this.data,a);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=a[0],r=a[1],n=a.slice(2).join(".")),l||!o||!H(n)?l:Xu(this.data&&this.data[e]&&this.data[e][r],n,i)}addResource(e,r,n,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,r];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),s=r,r=a[1]),this.addNamespaces(r),bf(this.data,a,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(H(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),s=n,n=r,r=a[1]),this.addNamespaces(r);let l=Yo(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?e0(l,n,i):l={...l,...n},bf(this.data,a,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var t0={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,r,n,s))}),e}};const jf={};class ea extends Ta{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$k(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Kk(e,n,s);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:H(i)?[i]:i};const c=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(s)}return{key:e,namespaces:H(i)?[i]:i}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],r),l=a[a.length-1],c=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const w=r.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${w}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(e,r);let h=f&&f.res;const p=f&&f.usedKey||o,m=f&&f.exactUsedKey||o,x=Object.prototype.toString.apply(h),S=["[object Number]","[object Function]","[object RegExp]"],v=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!H(h)&&typeof h!="boolean"&&typeof h!="number";if(g&&h&&y&&S.indexOf(x)<0&&!(H(v)&&Array.isArray(h))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,{...r,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(f.res=w,f.usedParams=this.getUsedParamsDetails(r),f):w}if(i){const w=Array.isArray(h),E=w?[]:{},O=w?m:p;for(const T in h)if(Object.prototype.hasOwnProperty.call(h,T)){const D=`${O}${i}${T}`;E[T]=this.translate(D,{...r,joinArrays:!1,ns:a}),E[T]===D&&(E[T]=h[T])}h=E}}else if(g&&H(v)&&Array.isArray(h))h=h.join(v),h&&(h=this.extendTranslation(h,e,r,n));else{let w=!1,E=!1;const O=r.count!==void 0&&!H(r.count),T=ea.hasDefaultValue(r),D=O?this.pluralResolver.getSuffix(c,r.count,r):"",J=r.ordinal&&O?this.pluralResolver.getSuffix(c,r.count,{ordinal:!1}):"",z=O&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),se=z&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${D}`]||r[`defaultValue${J}`]||r.defaultValue;!this.isValidLookup(h)&&T&&(w=!0,h=se),this.isValidLookup(h)||(E=!0,h=o);const me=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:h,be=T&&se!==h&&this.options.updateMissing;if(E||w||be){if(this.logger.log(be?"updateKey":"missingKey",c,l,o,be?se:h),i){const L=this.resolve(o,{...r,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[];const ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ye&&ye[0])for(let L=0;L<ye.length;L++)we.push(ye[L]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(r.lng||this.language):we.push(r.lng||this.language);const Se=(L,I,M)=>{const X=T&&M!==h?M:me;this.options.missingKeyHandler?this.options.missingKeyHandler(L,l,I,X,be,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(L,l,I,X,be,r),this.emit("missingKey",L,l,I,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?we.forEach(L=>{const I=this.pluralResolver.getSuffixes(L,r);z&&r[`defaultValue${this.options.pluralSeparator}zero`]&&I.indexOf(`${this.options.pluralSeparator}zero`)<0&&I.push(`${this.options.pluralSeparator}zero`),I.forEach(M=>{Se([L],o+M,r[`defaultValue${M}`]||se)})}):Se(we,o,se))}h=this.extendTranslation(h,e,r,f,n),E&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${o}`),(E||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,w?h:void 0):h=this.options.parseMissingKeyHandler(h))}return s?(f.res=h,f.usedParams=this.getUsedParamsDetails(r),f):h}extendTranslation(e,r,n,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=H(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const h=e.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=n.replace&&!H(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||s.usedLng,n),c){const h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;d<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return i&&i[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=H(a)?[a]:a;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=t0.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,i,o,a;return H(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,r),d=c.key;s=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!H(r.count),p=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),m=r.context!==void 0&&(H(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(S=>{this.isValidLookup(n)||(a=S,!jf[`${x[0]}-${S}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(jf[`${x[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{if(this.isValidLookup(n))return;o=v;const g=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(g,d,v,S,r);else{let w;h&&(w=this.pluralResolver.getSuffix(v,r.count,r));const E=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(g.push(d+w),r.ordinal&&w.indexOf(O)===0&&g.push(d+w.replace(O,this.options.pluralSeparator)),p&&g.push(d+E)),m){const T=`${d}${this.options.contextSeparator}${r.context}`;g.push(T),h&&(g.push(T+w),r.ordinal&&w.indexOf(O)===0&&g.push(T+w.replace(O,this.options.pluralSeparator)),p&&g.push(T+E))}}let y;for(;y=g.pop();)this.isValidLookup(n)||(i=y,n=this.getResource(v,S,y,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!H(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const zl=t=>t.charAt(0).toUpperCase()+t.slice(1);class Ef{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kt.create("languageUtils")}getScriptPartFromCode(e){if(e=Xo(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Xo(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(H(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=zl(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=zl(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=zl(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),H(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return H(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):H(e)&&i(this.formatLanguageCode(e)),n.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let Gk=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qk={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Jk=["v1","v2","v3"],Yk=["v4"],Of={zero:0,one:1,two:2,few:3,many:4,other:5},Xk=()=>{const t={};return Gk.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:Qk[e.fc]}})}),t};class Zk{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Kt.create("pluralResolver"),(!this.options.compatibilityJSON||Yk.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xk(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Xo(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:s})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,r)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,i)=>Of[s]-Of[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(e,s,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let s=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Jk.includes(this.options.compatibilityJSON)}}const Nf=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=zk(t,e,r);return!i&&s&&H(r)&&(i=Xu(t,r,n),i===void 0&&(i=Xu(e,r,n))),i},Ul=t=>t.replace(/\$/g,"$$$$");class eb{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:x,nestingOptionsSeparator:S,maxReplaces:v,alwaysFormat:g}=e.interpolation;this.escape=r!==void 0?r:Bk,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Tn(i):o||"{{",this.suffix=a?Tn(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Tn(h):p||Tn("$t("),this.nestingSuffix=m?Tn(m):x||Tn(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=v||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,s){let i,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const v=Nf(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,n,{...s,...r,interpolationkey:p}):v}const m=p.split(this.formatSeparator),x=m.shift().trim(),S=m.join(this.formatSeparator).trim();return this.format(Nf(r,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),S,n,{...s,...r,interpolationkey:x})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Ul(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Ul(this.escape(p)):Ul(p)}].forEach(p=>{for(a=0;i=p.regex.exec(e);){const m=i[1].trim();if(o=c(m),o===void 0)if(typeof d=="function"){const S=d(e,i,s);o=H(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else!H(o)&&!this.useRawValueToEscape&&(o=Sf(o));const x=p.safeValue(o);if(e=e.replace(i[0],x),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,o);const p=h.match(/'/g),m=h.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!H(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=d.shift(),l=d,c=!0}if(i=r(a.call(this,s[1].trim(),o),o),i&&s[0]===e&&!H(i))return i;H(i)||(i=Sf(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),c&&(i=l.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const tb=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();r[d]||(r[d]=c),c==="false"&&(r[d]=!1),c==="true"&&(r[d]=!0),isNaN(c)||(r[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},Pn=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=n+JSON.stringify(i);let a=e[o];return a||(a=t(Xo(n),s),e[o]=a),a(r)}};class rb{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kt.create("formatter"),this.options=e,this.formats={number:Pn((r,n)=>{const s=new Intl.NumberFormat(r,{...n});return i=>s.format(i)}),currency:Pn((r,n)=>{const s=new Intl.NumberFormat(r,{...n,style:"currency"});return i=>s.format(i)}),datetime:Pn((r,n)=>{const s=new Intl.DateTimeFormat(r,{...n});return i=>s.format(i)}),relativetime:Pn((r,n)=>{const s=new Intl.RelativeTimeFormat(r,{...n});return i=>s.format(i,n.range||"day")}),list:Pn((r,n)=>{const s=new Intl.ListFormat(r,{...n});return i=>s.format(i)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Pn(r)}format(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:c,formatOptions:d}=tb(l);if(this.formats[c]){let f=a;try{const h=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=h.locale||h.lng||s.locale||s.lng||n;f=this.formats[c](a,p,{...d,...s,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const nb=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class sb extends Ta{constructor(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Kt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(e,r,n,s){const i={},o={},a={},l={};return e.forEach(c=>{let d=!0;r.forEach(f=>{const h=`${c}|${f}`;!n.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),i[h]===void 0&&(i[h]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[c]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const s=e.split("|"),i=s[0],o=s[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const a={};this.queue.forEach(l=>{Fk(l.loaded,[i],o),nb(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,o)},i);return}o(c,d)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,r);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,r,a)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();H(e)&&(e=this.languageUtils.toResolveHierarchy(e)),H(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,a),this.loaded(e,o,a)})}saveMissing(e,r,n,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,r,n,s,l):d=c(e,r,n,s),d&&typeof d.then=="function"?d.then(f=>a(null,f)).catch(a):a(null,d)}catch(d){a(d)}else c(e,r,n,s,a,l)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Tf=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),H(t[1])&&(e.defaultValue=t[1]),H(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Pf=t=>(H(t.ns)&&(t.ns=[t.ns]),H(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),H(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),oo=()=>{},ib=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class _i extends Ta{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Pf(e),this.services={},this.logger=Kt,this.modules={external:[]},ib(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(H(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=Tf();this.options={...s,...this.options,...Pf(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Kt.init(i(this.modules.logger),this.options):Kt.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=rb);const f=new Ef(this.options);this.store=new Cf(this.options.resources,this.options);const h=this.services;h.logger=Kt,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Zk(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=i(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new eb(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new sb(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var m=arguments.length,x=new Array(m>1?m-1:0),S=1;S<m;S++)x[S-1]=arguments[S];e.emit(p,...x)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new ea(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,x=new Array(m>1?m-1:0),S=1;S<m;S++)x[S-1]=arguments[S];e.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=oo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Ls(),c=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oo;const s=H(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&i.indexOf(c)<0&&i.push(c)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,r,n){const s=Ls();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=oo),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&t0.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const s=Ls();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=H(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{o(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,r,n){var s=this;const i=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];l=s.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);const h=s.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(m=>`${l.keyPrefix}${h}${m}`):p=l.keyPrefix?`${l.keyPrefix}${h}${o}`:o,s.t(p,l)};return H(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!s||o(i,e)))}loadNamespaces(e,r){const n=Ls();return this.options.ns?(H(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Ls();H(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Ef(Tf());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new _i(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oo;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new _i(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new Cf(this.store.data,s),i.services.resourceStore=i.store),i.translator=new ea(i.services,s),i.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];i.emit(a,...c)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ve=_i.createInstance();Ve.createInstance=_i.createInstance;Ve.createInstance;Ve.dir;Ve.init;Ve.loadResources;Ve.reloadResources;Ve.use;Ve.changeLanguage;Ve.getFixedT;Ve.t;Ve.exists;Ve.setDefaultNamespace;Ve.hasLoadedNamespace;Ve.loadNamespaces;Ve.loadLanguages;function ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(t)}function ab(t,e){if(ki(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lb(t){var e=ab(t,"string");return ki(e)=="symbol"?e:e+""}function ub(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lb(n.key),n)}}function cb(t,e,r){return e&&ub(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var r0=[],db=r0.forEach,hb=r0.slice;function fb(t){return db.call(hb.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}var Lf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pb=function(e,r,n){var s=n||{};s.path=s.path||"/";var i=encodeURIComponent(r),o="".concat(e,"=").concat(i);if(s.maxAge>0){var a=s.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(s.domain){if(!Lf.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!Lf.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var l=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},Df={create:function(e,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),s&&(i.domain=s),document.cookie=pb(e,encodeURIComponent(r),i)},read:function(e){for(var r="".concat(e,"="),n=document.cookie.split(";"),s=0;s<n.length;s++){for(var i=n[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(r)===0)return i.substring(r.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},gb={name:"cookie",lookup:function(e){var r;if(e.lookupCookie&&typeof document<"u"){var n=Df.read(e.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupCookie&&typeof document<"u"&&Df.create(r.lookupCookie,e,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},mb={name:"querystring",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=n.substring(1),i=s.split("&"),o=0;o<i.length;o++){var a=i[o].indexOf("=");if(a>0){var l=i[o].substring(0,a);l===e.lookupQuerystring&&(r=i[o].substring(a+1))}}}return r}},Ds=null,Rf=function(){if(Ds!==null)return Ds;try{Ds=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ds=!1}return Ds},vb={name:"localStorage",lookup:function(e){var r;if(e.lookupLocalStorage&&Rf()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupLocalStorage&&Rf()&&window.localStorage.setItem(r.lookupLocalStorage,e)}},Rs=null,If=function(){if(Rs!==null)return Rs;try{Rs=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Rs=!1}return Rs},yb={name:"sessionStorage",lookup:function(e){var r;if(e.lookupSessionStorage&&If()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupSessionStorage&&If()&&window.sessionStorage.setItem(r.lookupSessionStorage,e)}},xb={name:"navigator",lookup:function(e){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},wb={name:"htmlTag",lookup:function(e){var r,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},Sb={name:"path",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;r=n[e.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},_b={name:"subdomain",lookup:function(e){var r=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},n0=!1;try{document.cookie,n0=!0}catch{}var s0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];n0||s0.splice(1,1);function kb(){return{order:s0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var i0=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ob(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}return cb(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=fb(n,this.options||{},kb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(gb),this.addDetector(mb),this.addDetector(vb),this.addDetector(yb),this.addDetector(xb),this.addDetector(wb),this.addDetector(Sb),this.addDetector(_b)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var s=[];return r.forEach(function(i){if(n.detectors[i]){var o=n.detectors[i].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return n.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var s=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(r,s.options)}))}}])}();i0.type="languageDetector";const bb={loading:"Loading...",error:"An error occurred",success:"Success!",save:"Save",cancel:"Cancel",confirm:"Confirm",back:"Back"},Cb={home:"Home",games:"Games",leaderboard:"Leaderboard",friends:"Friends",profile:"Profile",settings:"Settings"},jb={welcome:"Welcome back, {{username}}!",featuredGames:"Featured Games",recentActivity:"Recent Activity",viewAll:"View all"},Eb={availableGames:"Available Games",chooseGame:"Choose a game to start playing",playMultiplayer:"Play Multiplayer",playVsBot:"Play vs Bot",spectate:"Spectate",status:{open:"Available",inProgress:"In Progress",finished:"Finished"}},Ob={globalLeaderboard:"Global Leaderboard",rank:"Rank",player:"Player",level:"Level",wins:"Wins",losses:"Losses",winRate:"Win Rate"},Nb={onlineFriends:"Online Friends",allFriends:"All Friends",suggestedFriends:"Suggested Friends",addFriend:"Add Friend",searchFriends:"Search friends..."},Tb={personalInfo:"Personal Information",changeAvatar:"Change Avatar",statistics:"Statistics",bio:"Bio",saveChanges:"Save Changes"},Pb={title:"Settings",subtitle:"Customize your gaming experience",language:{title:"Language",subtitle:"Choose your preferred language",options:{en:"English (US)",pt:"Portuguese (BR)"}},sound:{title:"Sound Settings",masterVolume:"Master Volume",musicVolume:"Music Volume",effectsVolume:"Effects Volume"},notifications:{title:"Notifications",enable:"Enable Notifications",gameInvites:"Game Invites",friendRequests:"Friend Requests",systemMessages:"System Messages"},display:{title:"Display",darkMode:"Dark Mode",highContrast:"High Contrast",animations:"Animations"},save:"Save Settings"},Lb={common:bb,navigation:Cb,home:jb,games:Eb,leaderboard:Ob,friends:Nb,profile:Tb,settings:Pb},Db={loading:"Carregando...",error:"Ocorreu um erro",success:"Sucesso!",save:"Salvar",cancel:"Cancelar",confirm:"Confirmar",back:"Voltar"},Rb={home:"Incio",games:"Jogos",leaderboard:"Classificao",friends:"Amigos",profile:"Perfil",settings:"Configuraes"},Ib={welcome:"Bem-vindo de volta, {{username}}!",featuredGames:"Jogos em Destaque",recentActivity:"Atividade Recente",viewAll:"Ver todos"},Ab={availableGames:"Jogos Disponveis",chooseGame:"Escolha um jogo para comear",playMultiplayer:"Jogar Multijogador",playVsBot:"Jogar contra Bot",spectate:"Assistir",status:{open:"Disponvel",inProgress:"Em Andamento",finished:"Finalizado"}},$b={globalLeaderboard:"Classificao Global",rank:"Posio",player:"Jogador",level:"Nvel",wins:"Vitrias",losses:"Derrotas",winRate:"Taxa de Vitria"},Mb={onlineFriends:"Amigos Online",allFriends:"Todos os Amigos",suggestedFriends:"Sugestes de Amigos",addFriend:"Adicionar Amigo",searchFriends:"Procurar amigos..."},Fb={personalInfo:"Informaes Pessoais",changeAvatar:"Mudar Avatar",statistics:"Estatsticas",bio:"Biografia",saveChanges:"Salvar Alteraes"},zb={title:"Configuraes",subtitle:"Personalize sua experincia de jogo",language:{title:"Idioma",subtitle:"Escolha seu idioma preferido",options:{en:"Ingls (EUA)",pt:"Portugus (BR)"}},sound:{title:"Configuraes de Som",masterVolume:"Volume Principal",musicVolume:"Volume da Msica",effectsVolume:"Volume dos Efeitos"},notifications:{title:"Notificaes",enable:"Ativar Notificaes",gameInvites:"Convites de Jogo",friendRequests:"Solicitaes de Amizade",systemMessages:"Mensagens do Sistema"},display:{title:"Exibio",darkMode:"Modo Escuro",highContrast:"Alto Contraste",animations:"Animaes"},save:"Salvar Configuraes"},Ub={common:Db,navigation:Rb,home:Ib,games:Ab,leaderboard:$b,friends:Mb,profile:Fb,settings:zb};Ve.use(i0).use(Ok).init({resources:{"en-US":{translation:Lb},"pt-BR":{translation:Ub}},fallbackLng:"en-US",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],lookupLocalStorage:"language",caches:["localStorage"]}});Gg(document.getElementById("root")).render(u.jsx(b.StrictMode,{children:u.jsx(Ak,{})}));export{Hb as g};
